{"version":3,"sources":["constants/breakpoint.js","constants/API_BASE_URL.js","utils.js","webAPI/userAPI.js","webAPI/cartAPI.js","redux/reducers/cartReducer.js","redux/reducers/userReducer.js","img/LOGO.png","components/Header/Header.js","components/Footer/Footer.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/RegisterPage.js","pages/MePage/AccountSetting/ModalUpdatePassword.js","pages/MePage/AccountSetting/AccountSetting.js","redux/reducers/orderReducer.js","webAPI/orderAPI.js","pages/MePage/OrderHistory/OrderHistory.js","routes/MeRoutes.js","pages/MePage/MePage.js","redux/reducers/courseReducer.js","webAPI/courseAPI.js","components/Loading/Loading.js","components/CoursesTable/CoursesTable.js","pages/ConsoleCoursesPage/ConsoleCoursesPage.js","webAPI/adminAPI.js","redux/reducers/memberReducer.js","pages/ConsoleMembersPage/MembersTable.js","pages/ConsoleMembersPage/ConsoleMembersPage.js","pages/MemberDetailPage/MemberDetailPage.js","routes/ConsoleRoutes.js","pages/ConsolePage/ConsolePage.js","pages/CartListPage/CartListPage.js","pages/CheckoutPage/CheckoutPage.js","components/CourseCard/CourseCard.js","pages/CourseListPage/CourseListPage.js","pages/MyCoursePage/MyCoursePage.js","pages/CourseInfoPage/CourseInfoPage.js","webAPI/teacherAPI.js","redux/reducers/teacherReducer.js","pages/TeacherInfoPage/TeacherInfoPage.js","pages/ClassroomPage/UnitPage.js","pages/ClassroomPage/ClassroomPage.js","pages/TeacherApplyPage/TeacherApplyPage.js","pages/TeacherPage/MyTeachCoursePage/MyTeachCourseTable.js","pages/TeacherPage/MyTeachCoursePage/MyTeachCoursePage.js","pages/TeacherPage/NewCourseForm/NewCourseForm.js","pages/TeacherPage/TeacherSettingForm/TeacherSettingForm.js","components/CourseUnitsList/CourseUnitsList.js","components/CourseSettingForm/CourseSettingForm.js","pages/TeacherPage/UpdateCourseForm/UpdateCourseForm.js","pages/TeacherPage/EditUnitForm/EditUnitForm.js","routes/TeacherRoutes.js","pages/TeacherPage/TeacherPage.js","routes/Routes.js","App.js","reportWebVitals.js","redux/reducers/unitReducer.js","redux/reducers/errorMessageReducer.js","redux/store.js","index.js","constants/theme.js"],"names":["MEDIA_QUERY_MOBILE_M","MEDIA_QUERY_TABLET","BASE_URL","TOKEN_NAME","passwordRegExp","isStrongPassword","password","test","toString","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","toCurrency","num","parts","split","replace","join","translateAuth","AuthTypeId","addCartItemAPI","id","fetch","method","headers","Authorization","then","res","json","deleteCartItemAPI","cartSlice","createSlice","name","initialState","cartList","isGettingCartList","getCartListError","isAddingCartItem","addCartItemError","isDeletingCartItem","deleteCartItemError","reducers","setCartList","state","action","console","log","payload","setIsGettingCartList","setGetCartListError","setIsAddingCartItem","setAddCartItemError","setIsDeletingCartItem","setDeleteCartItemError","actions","getCartList","dispatch","ok","errorMessage","data","cart_items","catch","err","selectCartList","store","cart","userSlice","user","isGettingUser","setUser","setIsGettingUser","setUserErrorMessage","getMe","getState","a","login","email","body","JSON","stringify","loginAPI","register","nickname","registerAPI","logout","updateMyInfo","updateMyInfoAPI","updateMyPassword","oldPassword","newPassword","updateMyPasswordAPI","selectUser","useBreakpoint","Grid","Search","Input","Menu","styled","AntMenu","HeaderContainer","div","props","theme","colors","primary","text","Logo","Link","NavContainer","NavToggleGroup","NavRightPart","NavToggler","Button","NavTogglerBody","light","CartIcon","ShoppingCartOutlined","LeftMenu","searchValue","setSearchValue","onSearch","value","onChange","e","placeholder","style","width","RightMenu","handleLogout","handleClose","md","mode","onClick","authTypeId","Item","to","Header","useDispatch","history","useHistory","useSelector","useState","push","visible","setState","src","LOGO","alt","count","length","offset","title","placement","closable","onClose","FooterContainer","grey","MediaCol","Col","MediaWrapper","Footer","gutter","sm","xs","FacebookFilled","TwitterSquareFilled","InstagramFilled","fontSize","display","alignItems","justifyContent","LoginBox","main","FormTitle","NoAccountMessage","StyledForm","Form","layout","labelCol","span","wrapperCol","tailLayout","validateMessages","required","types","Login","onFinish","message","loading","content","key","duration","success","error","label","rules","type","Password","htmlType","danger","RegisterBox","HasAccountMessage","Register","getFieldValue","validator","_","inputValue","Promise","resolve","reject","extra","dependencies","size","BoxWrapper","UpdateForm","forwardRef","ref","setModalText","useForm","form","useImperativeHandle","resetForm","resetFields","setTimeout","ModalUpdatePassword","setVisible","ChildRef","useRef","React","modalText","useEffect","onCancel","current","afterClose","footer","PageWrapper","InfoRow","Row","InfoTitle","InfoDetail","AccountSetting","Date","createdAt","toLocaleString","updatedAt","defaultValue","enterButton","warning","orderSlice","orderResponse","isSendingOrder","sendingOrderError","orderList","setOrderResponse","setIsSendingOrder","setSendingOrderError","setOrderList","sendOrder","sendOrderAPI","getMyOrderList","selectOrderList","order","EmptyOrderList","CourseImg","img","i","paymentType","sumPrice","isPaid","className","columns","dataIndex","expandable","expandedRowRender","row","render","imgUrl","selectedOrderItems","Order_items","Course","price","amountPaid","dataSource","pagination","MeRoutes","exact","path","Sider","Layout","FixedSider","StyledMenu","StyledMenuItem","IconWrapper","UseIcon","UserOutlined","MePage","location","useLocation","pathname","defaultSelectedKeys","defaultOpenKeys","icon","FileDoneOutlined","marginLeft","courseSlice","isGettingCourse","getCourseError","courseList","course","myCourseList","myTeachCourseList","detailCourse","unit","setCourseList","setIsGettingCourse","setGetCourseError","setCourse","setMyCourseList","setMyTeachCourseList","setDetailCourse","setUnit","getCourseList","params","keyword","sort","getCourseListAPI","getCourse","getCourseAPI","getMyCourseList","getMyTeachCourseList","addCourse","description","addCourseAPI","updateCourse","courseId","isPublic","unit_list","undefined","updateCourseAPI","getDetailCourse","getDetailCourseAPI","parse","getUnitByUnitId","unitId","getUnitByUnitIdAPI","updateUnitByUnitId","updateUnitByUnitIdAPI","selectIsGettingCourse","selectCourseList","selectCourse","selectMyCourseList","selectMyTeachCourseList","selectDetailCourse","selectUnit","LoadingWrapper","Loading","record","CoursesTable","courses","isGettingCourseList","map","item","slice","Content","InfoHeader","ConsoleCoursesPage","margin","memberSlice","memberList","member","isGettingMemberList","isGettingMember","setMemberList","setMember","setErrorMessage","setIsGettingMemberList","setIsGettingMember","getMemberList","getMember","getMemberAPI","updateMemberAuth","authType","updateUserInfoAPI","selectMember","selectMemberList","selectIsGettingMemberList","selectIsGettingMember","MembersTable","members","auth","TableContainer","white","ConsoleMembersPage","Option","Select","Typography","Title","Text","MemberContent","CourseTitle","AuthSelection","selectedUserId","handleChange","MemberDetailPage","useParams","localAuthTypeId","setLocalAuthTypeId","bordered","CourseId","ConsoleRoutes","ConsolePage","BookOutlined","ContactsOutlined","padding","LeftContainer","RightContainerOuter","RightContainerInner","secondary","CartListPage","forEach","el","handleDeleteCartItem","deleteCartItem","DeleteOutlined","pageSize","align","block","Paragraph","FormWrapper","formItemLayout","buttonItemLayout","CheckoutPage","sumCourse","priceString","values","orderData","orderCourses","level","allowClear","Meta","Card","CardWrapper","TeacherLink","Price","CourseCard","isBought","cover","Teacher","TeacherId","avatarUrl","SearchWrapper","SearchInfo","CourseListPage","URLSearchParams","search","get","selected","setSelected","lg","filter","MyCourseListPage","CourseWrapper","ButtonPlacer","ButtonWrapper","CourseInfoPage","checkIsAlreadyInCart","Number","isCourseBought","addCartItem","disabled","unit_title","number","renderItem","teacherSlice","teacherList","isGettingTeacherList","getTeacherListError","teacher","isGettingTeacher","getTeacherError","setTeacherList","setIsGettingTeacherList","setGetTeacherListError","setTeacher","setIsGettingTeacher","setGetTeacherError","getTeacher","getTeacherAPI","applyTeacher","applyTeacherAPI","updateTeacherInfo","updateTeacherInfoAPI","selectTeacher","selectIsGettingTeacher","TeacherWrapper","TeacherTitle","TeacherInfoPage","Courses","UnitTitle","UnitDescription","UnitVideo","Youtube","UnitPage","url","courseTitle","videoUrl","videoId","URL","opt","playerVars","autoplay","FixedLayout","ScrollSider","prop","StyledImg","ContentWrapper","ClassroomPage","handleClickUnit","PlayCircleOutlined","RegisterPageWrapper","FormItem","beforeUpload","file","isJpgOrPng","isLt2M","TeacherApplyPage","isUploading","setIsUploading","imageUrl","setImageUrl","upload","TextArea","rows","resize","rotate","shape","listType","showUploadList","info","status","returnUrl","response","link","setFieldsValue","borderRadius","LoadingOutlined","PlusOutlined","MyTeachCourseTable","MyTeachCoursePage","FormContainer","range","NewCoursePage","initialValues","min","max","formatter","parser","TeacherSetting","ListContainer","ListContent","List","ListFooter","UnitText","Unit","dragHandleProps","handleClickEditUnitButton","handleDeleteUnit","MenuOutlined","color","EditOutlined","CourseUnitsList","unitList","handleAddUnit","index","draggableId","provided","innerRef","draggableProps","cursor","CourseSettingForm","getFieldsValue","validateFields","marginTop","CourseContent","UpdateCoursePage","oldUnitList","newUnitList","getFormValue","handleClickSave","onDragEnd","result","destination","source","reorderedUnitList","list","startIndex","endIndex","Array","from","splice","removed","reorder","droppableId","droppableProps","EditUnitPage","AvatarWrapper","TeacherPage","ReadOutlined","NoLoggingMessage","UnauthorizedMessage","Routes","component","AntLayout","fixedsider","consolePage","App","checkIsConsolePage","some","includes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","unitSlice","isLoading","setUnitList","setIsLoading","errorMessageSlice","configureStore","reducer","cartReducer","orderReducer","courseReducer","teacherReducer","userReducer","memberReducer","unitReducer","errorMessageReducer","ReactDOM","StrictMode","dark","document","getElementById"],"mappings":"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","file":"static/js/main.d4f377bf.chunk.js","sourcesContent":["export const MEDIA_QUERY_MOBILE_M = '@media screen and (min-width: 375px)';\nexport const MEDIA_QUERY_MOBILE_L = '@media screen and (min-width: 480px)';\nexport const MEDIA_QUERY_TABLET = '@media screen and (min-width: 768px)';\nexport const MEDIA_QUERY_LAPTOP = '@media screen and (min-width: 1200px)';\n\n/* ant design breakpoint width#\n{\n  xs: '480px',\n  sm: '576px',\n  md: '768px',\n  lg: '992px',\n  xl: '1200px',\n  xxl: '1600px',\n}\n*/\n","export const BASE_URL = \"https://gagio-backend.ahwei777.tw/v1\";","const TOKEN_NAME = \"token\";\n\nconst passwordRegExp = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/;\n\nexport const isStrongPassword = (password) => {\n  return passwordRegExp.test(password.toString());\n};\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\n\nexport function toCurrency(num) {\n  var parts = num.toString().split(\".\");\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  return \"NT$\" + parts.join(\".\");\n}\n\nexport function translateAuth(AuthTypeId) {\n  switch (AuthTypeId) {\n    case 1:\n      return \"一般會員\";\n    case 2:\n      return \"開課者\";\n    case 3:\n      return \"管理員\";\n    default:\n      return \"未知\";\n  }\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const registerAPI = (email, password, nickname) =>\n  fetch(`${BASE_URL}/users/register`, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body: JSON.stringify({\n      email,\n      password,\n      nickname,\n    }),\n  }).then((res) => res.json());\n\nexport const loginAPI = (email, password) =>\n  fetch(`${BASE_URL}/users/login`, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  }).then((res) => res.json());\n\nexport const getMeAPI = () =>\n  fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateMyInfoAPI = (nickname) =>\n  fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      nickname,\n    }),\n  }).then((res) => res.json());\n\nexport const updateMyPasswordAPI = (oldPassword, newPassword) =>\n  fetch(`${BASE_URL}/users/password/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      oldPassword,\n      newPassword,\n    }),\n  }).then((res) => res.json());\n\nexport const updateUserAuthAPI = (id, AuthTypeId) =>\n  fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      AuthTypeId,\n    }),\n  }).then((res) => res.json());\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getCartListAPI = () => {\n  return fetch(`${BASE_URL}/carts`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const addCartItemAPI = (id) =>\n  fetch(`${BASE_URL}/carts/cart-item/${id}`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const deleteCartItemAPI = (id) =>\n  fetch(`${BASE_URL}/carts/cart-item/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport { getCartListAPI, addCartItemAPI, deleteCartItemAPI } from '../../webAPI/cartAPI';\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    cartList: [],\n    isGettingCartList: false,\n    getCartListError: null,\n    isAddingCartItem: false,\n    addCartItemError: null,\n    isDeletingCartItem: false,\n    deleteCartItemError: null,\n  },\n  reducers: {\n    setCartList: (state, action) => {\n      console.log('setCartList')\n      state.cartList = action.payload;\n      state.getCartListError = null;\n    },\n    setIsGettingCartList: (state, action) => {\n      state.isGettingCartList = action.payload;\n    },\n    setGetCartListError: (state, action) => {\n      state.getCartListError = action.payload;\n    },\n    setIsAddingCartItem: (state, action) => {\n      state.isAddingCartItem = action.payload;\n    },\n    setAddCartItemError: (state, action) => {\n      state.addCartItemError = action.payload;\n    },\n    setIsDeletingCartItem: (state, action) => {\n      state.isDeletingCartItem = action.payload;\n    },\n    setDeleteCartItemError: (state, action) => {\n      state.deleteCartItemError = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setCartList,\n  setIsGettingCartList,\n  setGetCartListError,\n  setIsAddingCartItem,\n  setAddCartItemError,\n  setIsDeletingCartItem,\n  setDeleteCartItemError\n} = cartSlice.actions;\n\n// redux thunk function\nexport const getCartList = () => (dispatch) => {\n  console.log('thunk getCartList')\n  dispatch(setIsGettingCartList(true));\n  getCartListAPI().then((json) => {\n    if (json.ok === 0) {\n      dispatch(setCartList([]))\n      dispatch(setGetCartListError(json.errorMessage));\n      dispatch(setIsGettingCartList(false));\n      return;\n    }\n    dispatch(setCartList(json.data.cart_items))\n    dispatch(setIsGettingCartList(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n};\nexport const addCartItem = (id) => async (dispatch) => {\n  dispatch(setIsAddingCartItem(true));\n  await addCartItemAPI(id).then((json) => {\n    if (json.ok === 0) {\n      console.log(json.errorMessage)\n      dispatch(setAddCartItemError(json.errorMessage));\n      dispatch(setIsAddingCartItem(false));\n      return;\n    }\n    dispatch(setAddCartItemError(null));\n    dispatch(setIsAddingCartItem(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n  dispatch(getCartList());\n};\nexport const deleteCartItem = (id) => async (dispatch) => {\n  dispatch(setIsDeletingCartItem(true));\n  await deleteCartItemAPI(id).then((json) => {\n    if (json.ok === 0) {\n      dispatch(setDeleteCartItemError(json.errorMessage));\n      dispatch(setIsDeletingCartItem(false));\n      return;\n    }\n    dispatch(setDeleteCartItemError(null));\n    dispatch(setIsDeletingCartItem(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n  dispatch(getCartList());\n};\n// selector\nexport const selectCartList = (store) => store.cart.cartList;\n\nexport default cartSlice.reducer;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  loginAPI,\n  registerAPI,\n  getMeAPI,\n  updateMyInfoAPI,\n  updateMyPasswordAPI,\n  updateUserAuthAPI,\n} from '../../webAPI/userAPI';\nimport { getCartList, setCartList } from './cartReducer';\nimport { setAuthToken } from '../../utils';\n\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    user: null,\n    // 初始值設為 null 避免 render header 時因為還在確認使用者身分而跳字\n    isGettingUser: null,\n    errorMessage: null,\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n    },\n    setIsGettingUser(state, action) {\n      state.isGettingUser = action.payload;\n    },\n    setUserErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setUser,\n  setIsGettingUser,\n  setUserErrorMessage,\n} = userSlice.actions;\n\n// redux thunk function\nexport const getMe = () => async (dispatch, getState) => {\n  const { isGettingUser } = getState();\n  if (!isGettingUser) {\n    // start\n    dispatch(setIsGettingUser(true));\n  }\n  await getMeAPI().then((json) => {\n    if (json.ok === 0) {\n      dispatch(setUser(null));\n      dispatch(setUserErrorMessage(json.errorMessage));\n      // finish\n      return dispatch(setIsGettingUser(false));\n    }\n    dispatch(getCartList());\n    dispatch(setUser(json.data));\n  });\n  // finish\n  return dispatch(setIsGettingUser(false));\n};\n\nexport const login = (email, password) => (dispatch) => {\n  if (!email || !password) {\n    return dispatch(setUserErrorMessage('missing field'));\n  }\n  // start\n  dispatch(setIsGettingUser(true));\n  return loginAPI(email, password).then((json) => {\n    if (json.ok === 1) {\n      //dispatch(setUserErrorMessage(json.errorMessage));\n      // finish\n      //return dispatch(setIsGettingUser(false));\n      setAuthToken(json.token);\n    }\n    return json;\n  });\n};\nexport const register = (email, password, nickname) => (dispatch) => {\n  if (!email || !password || !nickname) {\n    return dispatch(setUserErrorMessage('missing field'));\n  }\n  return registerAPI(email, password, nickname).then((json) => {\n    if (json.ok === 1) {\n      // finish\n      setAuthToken(json.token);\n      //return dispatch(getMe());\n    }\n    //dispatch(setUserErrorMessage(json.errorMessage));\n    // return dispatch(setIsGettingUser(false));\n    return json;\n  });\n};\nexport const logout = () => (dispatch) => {\n  setAuthToken('');\n  dispatch(setUser(null));\n  dispatch(setCartList([]));\n};\n\nexport const updateMyInfo = (nickname) => (dispatch) => {\n  return updateMyInfoAPI(nickname).then((res) => {\n    return res;\n  });\n};\n\nexport const updateMyPassword = (oldPassword, newPassword) => (dispatch) => {\n  // 前端已完成確認密碼\n  return updateMyPasswordAPI(oldPassword, newPassword).then((res) => {\n    return res;\n  });\n};\n\nexport const updateUserAuth = (id, email, nickname, authType) => (dispatch) => {\n  updateUserAuthAPI(id, email, nickname, authType).then((res) => {\n    if (res.ok === 0) {\n      return dispatch(setUserErrorMessage(res.errorMessage));\n    }\n  });\n};\n\n// selector\nexport const selectUser = (store) => store.user.user;\nexport const selectUserErrorMessage = (store) => store.user.errorMessage;\n\nexport default userSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/LOGO.07bbf93b.png\";","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Badge, Button, Menu as AntMenu, Drawer, Grid, Input } from 'antd';\nimport { MEDIA_QUERY_TABLET } from '../../constants/breakpoint';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout, selectUser } from '../../redux/reducers/userReducer';\nimport { selectCartList } from '../../redux/reducers/cartReducer';\nimport { ShoppingCartOutlined } from '@ant-design/icons';\nimport LOGO from '../../img/LOGO.png';\n\nconst { useBreakpoint } = Grid;\nconst { Search } = Input;\nconst Menu = styled(AntMenu)`\n  font-size: 18px;\n  background: transparent;\n  border: none;\n`;\nconst HeaderContainer = styled.div`\n  background: white;\n  color: ${(props) => props.theme.colors.primary.text};\n  padding: 5px 20px;\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: sticky;\n  z-index: 1;\n  top: 0;\n`;\nconst Logo = styled(Link)`\n  width: 180px;\n  text-align: center;\n  & > img {\n    height: 52px;\n  }\n`;\nconst NavContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1;\n  }\n`;\nconst NavToggleGroup = styled.div`\n  display: none;\n  ${MEDIA_QUERY_TABLET} {\n    display: block;\n  }\n`;\nconst NavRightPart = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst NavToggler = styled(Button)`\n  height: 32px;\n  padding: 6px;\n  display: inline-block;\n  background: none;\n  margin-left: 30px;\n  ${MEDIA_QUERY_TABLET} {\n    display: none;\n  }\n`;\nconst NavTogglerBody = styled.div`\n  display: block;\n  width: 20px;\n  height: 2px;\n  background: ${(props) => props.theme.colors.primary.light};\n  position: relative;\n  ::after,\n  ::before {\n    content: attr(x);\n    width: 20px;\n    position: absolute;\n    top: -6px;\n    left: 0;\n    height: 2px;\n    background: ${(props) => props.theme.colors.primary.light};\n  }\n  ::after {\n    top: auto;\n    bottom: -6px;\n  }\n`;\nconst CartIcon = styled(ShoppingCartOutlined)`\n  color: ${(props) => props.theme.colors.primary.text};\n  font-size: 24px;\n  :hover {\n    color: ${(props) => props.theme.colors.primary.light};\n  }\n`;\n\nconst LeftMenu = ({ searchValue, setSearchValue, onSearch }) => {\n  //const { md } = useBreakpoint();\n  return (\n    <Search\n      value={searchValue}\n      onChange={(e) => setSearchValue(e.value)}\n      placeholder=\"搜尋課程\"\n      onSearch={onSearch}\n      style={{ width: 160 }}\n    />\n  );\n};\n\nconst RightMenu = ({ user, handleLogout, handleClose }) => {\n  const { md } = useBreakpoint();\n  return (\n    <Menu mode={md ? 'horizontal' : 'inline'} onClick={handleClose}>\n      {user && (\n        <>\n          {user.authTypeId === 1 && (\n            <Menu.Item key=\"applyTeacher\">\n              <Link to=\"/teacher-apply\">申請開課</Link>\n            </Menu.Item>\n          )}\n          <Menu.Item key=\"myCourse\">\n            <Link to=\"/my-course\">我的課程</Link>\n          </Menu.Item>\n          <Menu.Item key=\"myAccount\">\n            <Link to=\"/me\">帳號設定</Link>\n          </Menu.Item>\n          {user.authTypeId === 2 && (\n            <Menu.Item key=\"teacher\">\n              <Link to=\"/teacher\">老師後台</Link>\n            </Menu.Item>\n          )}\n          {user.authTypeId === 3 && (\n            <Menu.Item key=\"console\">\n              <Link to=\"/console\">管理後台</Link>\n            </Menu.Item>\n          )}\n          <Menu.Item key=\"logout\" onClick={handleLogout}>\n            <Link to=\"/\">登出</Link>\n          </Menu.Item>\n        </>\n      )}\n      {!user && (\n        <>\n          <Menu.Item key=\"mail\">\n            <Link to=\"/register\">註冊</Link>\n          </Menu.Item>\n          <Menu.Item key=\"app\">\n            <Link to=\"/login\">登入</Link>\n          </Menu.Item>\n        </>\n      )}\n    </Menu>\n  );\n};\n\nexport default function Header() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const cartList = useSelector(selectCartList);\n  const user = useSelector(selectUser);\n  const [searchValue, setSearchValue] = useState('');\n\n  const onSearch = (value) => {\n    if (value) {\n      setSearchValue('');\n      history.push(`/courses?keyword=${value}`);\n    }\n  };\n\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n\n  const [state, setState] = useState({ visible: false });\n\n  const handleClick = () => {\n    setState({\n      visible: true,\n    });\n  };\n  const handleClose = () => {\n    setState({\n      visible: false,\n    });\n  };\n\n  return (\n    <HeaderContainer>\n      <Logo to=\"/courses\">\n        <img src={LOGO} alt=\"img not found\" />\n      </Logo>\n      <NavContainer>\n        <NavToggleGroup>\n          <LeftMenu\n            searchValue={searchValue}\n            onSearch={onSearch}\n            setSearchValue={setSearchValue}\n          />\n        </NavToggleGroup>\n        <NavRightPart>\n          <Badge count={cartList.length} offset={[10]}>\n            <Link to=\"/cart\">\n              <CartIcon />\n            </Link>\n          </Badge>\n          <NavToggleGroup>\n            <RightMenu\n              user={user}\n              cartList={cartList}\n              handleLogout={handleLogout}\n            />\n          </NavToggleGroup>\n        </NavRightPart>\n        <NavToggler onClick={handleClick}>\n          <NavTogglerBody />\n        </NavToggler>\n        <Drawer\n          title=\"GaGiO\"\n          placement=\"top\"\n          closable={false}\n          onClose={handleClose}\n          visible={state.visible}\n        >\n          <LeftMenu\n            searchValue={searchValue}\n            onSearch={onSearch}\n            setSearchValue={setSearchValue}\n          />\n          <RightMenu\n            user={user}\n            cartList={cartList}\n            handleLogout={handleLogout}\n            handleClose={handleClose}\n          />\n        </Drawer>\n      </NavContainer>\n    </HeaderContainer>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Row, Col } from 'antd';\nimport {\n  FacebookFilled,\n  TwitterSquareFilled,\n  InstagramFilled,\n} from '@ant-design/icons';\n\nconst FooterContainer = styled.div`\n  text-align: center;\n  padding: 12px 24px;\n  background: ${(props) => props.theme.colors.grey};\n  color: ${(props) => props.theme.colors.primary.text};\n`;\nconst MediaCol = styled(Col)`\n  display: flex;\n  flex-direction: column;\n`\nconst MediaWrapper = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & span {\n    font-size: 24px;\n    transition: all 0.5s;\n    :hover {\n      cursor: pointer;\n      font-size: 36px;\n    }\n  }\n`;\n\nexport default function Footer() {\n  //const themeContext = useContext(ThemeContext);\n\n  return (\n    <FooterContainer>\n      <Row gutter={[0, { sm: 24, md: 0 }]}>\n        <Col xs={12} md={6}>\n          <h3>\n            <strong>關於我們</strong>\n          </h3>\n          <div>加入我們</div>\n          <div>服務條款</div>\n        </Col>\n        <MediaCol xs={12} md={6}>\n          <h3>\n            <strong>追蹤動態</strong>\n          </h3>\n          <MediaWrapper>\n            <FacebookFilled/>\n            <TwitterSquareFilled/>\n            <InstagramFilled/>\n          </MediaWrapper>\n        </MediaCol>\n        <Col\n          xs={24}\n          md={12}\n          style={{\n            fontSize: 24,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          <div>GaGiO © All Rights Reserved.</div>\n        </Col>\n      </Row>\n    </FooterContainer>\n  );\n}\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { login, getMe } from '../../redux/reducers/userReducer';\nimport { useHistory, Link } from 'react-router-dom';\n\nconst LoginBox = styled.div`\n  padding-top: 10px;\n  margin: 16px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 18px;\n`;\n/*\nconst StyledButton = styled(Button)`\n  background-color: ${(props) => props.theme.colors.primary.light};\n  transition: tranform 0.3s;\n  &:hover {\n    background-color: #ffffff;\n    color: ${(props) => props.theme.colors.primary.main};\n    border: 1px solid ${(props) => props.theme.colors.primary.main};\n  }\n  &:visited {\n    background-color: ${(props) => props.theme.colors.primary.light};\n    border: 0;\n    color: #000000;\n  }\n`;\n*/\nconst NoAccountMessage = styled(Link)`\n  font-size: 16px;\n  color: ${(props) => props.theme.colors.primary.main};\n  &:hover {\n    font-weight: bold;\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '${label} is required',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nexport default function Login() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const handleFinish = (value) => {\n    const { email, password } = value;\n    message.loading({\n      content: '登入中',\n      key: 'isLogging',\n      duration: 0,\n    });\n    dispatch(login(email, password)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '登入成功',\n          key: 'isLogging',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error({\n        content: json.errorMessage,\n        key: 'isLogging',\n        duration: 5,\n      });\n    });\n  };\n\n  // 測試用\n  const handleTestAdmin = () => {\n    dispatch(login('test@gmail.com', 'Aa123456')).then((json) => {\n      dispatch(getMe());\n      return history.push('/');\n    });\n  };\n  const handleTestUser = () => {\n    dispatch(login('user@gmail.com', 'Aa123456')).then((json) => {\n      dispatch(getMe());\n      return history.push('/');\n    });\n  };\n\n  return (\n    <LoginBox>\n      <FormTitle>登入</FormTitle>\n      <NoAccountMessage to=\"/register\">還沒有帳號?</NoAccountMessage>\n      <StyledForm\n        {...layout}\n        name=\"login\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[{ required: true, type: 'email' }]}\n        >\n          <Input placeholder=\"請輸入您註冊的電子信箱\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[{ required: true }]}\n        >\n          <Input.Password placeholder=\"請輸入您註冊的密碼\" />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\">\n            Submit\n          </Button>\n        </Form.Item>\n      </StyledForm>\n      <div>\n        {/* 測試用 */}\n        <Button danger onClick={handleTestAdmin}>\n          管理員快速通道(test@gmail.com)\n        </Button>\n        <Button onClick={handleTestUser}>\n          一般會員快速通道(user@gmail.com)\n        </Button>\n        {/* 測試用 */}\n      </div>\n    </LoginBox>\n  );\n}\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { register, getMe } from '../../redux/reducers/userReducer';\nimport { useHistory, Link } from 'react-router-dom';\nimport { isStrongPassword } from '../../utils';\n\nconst RegisterBox = styled.div`\n  padding-Top: 10px;\n  margin: 16px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 10px;\n`;\nconst HasAccountMessage = styled(Link)`\n  font-size: 16px;\n  color: ${(props) => props.theme.colors.primary.main};\n  &:hover {\n    font-weight: bold;\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nexport default function Register() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const handleFinish = (value) => {\n    const { email, password, nickname } = value;\n    message.loading({\n      content: '註冊中',\n      key: 'isRegistering',\n      duration: 0,\n    });\n    dispatch(register(email, password, nickname)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '註冊成功',\n          key: 'isRegistering',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error({\n        content: json.errorMessage,\n        key: 'isRegistering',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <RegisterBox>\n      <FormTitle>註冊</FormTitle>\n      <HasAccountMessage to=\"/login\">已經有帳號了?</HasAccountMessage>\n      <StyledForm\n        {...layout}\n        name=\"register\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[\n            {\n              type: 'email',\n              required: true,\n            },\n          ]}\n        >\n          <Input placeholder=\"請輸入電子信箱\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n            },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || isStrongPassword(inputValue)) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼規則不符!');\n              },\n            }),\n          ]}\n          extra=\"8～20個字，包含大寫、小寫字母和數字\"\n        >\n          <Input.Password placeholder=\"請輸入密碼\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Confirm Password\"\n          name=\"confirm\"\n          dependencies={['password']}\n          extra=\"請再次輸入密碼\"\n          rules={[\n            {\n              required: true,\n            },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || getFieldValue('password') === inputValue) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼和確認密碼不相同!');\n              },\n            }),\n          ]}\n        >\n          <Input.Password/>\n        </Form.Item>\n        <Form.Item\n          label=\"Nickname\"\n          name=\"nickname\"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input placeholder=\"請輸入暱稱\" />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\" size='large'>\n            註冊\n          </Button>\n        </Form.Item>\n      </StyledForm>\n    </RegisterBox>\n  );\n}\n","import React, {\n  useEffect,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n} from 'react';\nimport { Form, Input, Button, Modal, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport {\n  setUserErrorMessage,\n  updateMyPassword,\n  logout,\n} from '../../../redux/reducers/userReducer';\nimport { useHistory } from 'react-router';\nimport { isStrongPassword } from '../../../utils';\n\nconst BoxWrapper = styled.div`\n  text-align: center;\n`;\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n};\n\nconst UpdateForm = forwardRef(({ setModalText }, ref) => {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useImperativeHandle(ref, () => ({\n    resetForm: () => {\n      form.resetFields();\n      dispatch(setUserErrorMessage(null));\n    },\n  }));\n\n  const handleFinish = (value) => {\n    const { oldPassword, newPassword } = value;\n    message.loading({\n      content: '變更密碼中',\n      key: 'isUpdating',\n      duration: 0,\n    });\n\n    dispatch(updateMyPassword(oldPassword, newPassword)).then((json) => {\n      // 更新成功 登出\n      if (json.ok === 1) {\n        message.success({\n          content: '變更密碼成功',\n          key: 'isUpdating',\n          duration: 5,\n        });\n        setModalText('更新成功，將於三秒後登出，請使用新密碼重新登入');\n        return setTimeout(() => {\n          dispatch(logout());\n          history.push('/login');\n        }, 3000);\n      }\n      // 更新失敗,設置錯誤訊息\n      message.error({\n        content: json.errorMessage,\n        key: 'isUpdating',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <BoxWrapper>\n      <Form\n        form={form}\n        {...layout}\n        name=\"updatePassword\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"舊密碼\"\n          name=\"oldPassword\"\n          rules={[{ required: true }]}\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"新密碼\"\n          name=\"newPassword\"\n          rules={[\n            { required: true },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || isStrongPassword(inputValue)) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼規則不符!');\n              },\n            }),\n          ]}\n          extra=\"8～20個字，至少一個數字、一個大寫以及一個小寫字母\"\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"確認密碼\"\n          name=\"confirm\"\n          dependencies={['newPassword']}\n          rules={[\n            { required: true },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (\n                  !inputValue ||\n                  getFieldValue('newPassword') === inputValue\n                ) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼和確認密碼不相同!');\n              },\n            }),\n          ]}\n          extra=\"請再次輸入密碼\"\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\">\n            確定\n          </Button>\n        </Form.Item>\n      </Form>\n    </BoxWrapper>\n  );\n});\n\nexport default function ModalUpdatePassword({ visible, setVisible }) {\n  const ChildRef = useRef();\n  const closeModal = () => {\n    setVisible(false);\n    ChildRef.current.resetForm();\n  };\n  const [modalText, setModalText] = React.useState();\n\n  useEffect(() => {\n    setModalText(<UpdateForm setModalText={setModalText} ref={ChildRef} />);\n  }, []);\n\n  return (\n    <Modal\n      title=\"變更密碼\"\n      onCancel={closeModal}\n      afterClose={() => setUserErrorMessage(null)}\n      visible={visible}\n      footer={null}\n      closable\n    >\n      {modalText}\n    </Modal>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Button, Input, message} from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  selectUser,\n  getMe,\n  updateMyInfo,\n} from '../../../redux/reducers/userReducer';\nimport ModalUpdatePassword from './ModalUpdatePassword';\n\nconst PageWrapper = styled.div`\n  font-size: 20px;\n  text-align: center;\n  padding: 10px;\n`;\nconst InfoRow = styled(Row)`\n  margin: 30px auto;\n`;\nconst InfoTitle = styled(Col)`\n  text-align: right;\n`;\nconst InfoDetail = styled(Col)`\n  text-align: left;\n`;\nconst { Search } = Input;\n\nexport default function AccountSetting() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n\n  const handleClickUpdateNickname = (value) => {\n    if (value === user.nickname ){\n      message.warning({\n        content: '暱稱相同',\n        key: 'isUpdating',\n        duration: 5,\n      });\n      return\n    }\n    message.loading({\n      content: '變更暱稱中',\n      key: 'isUpdating',\n      duration: 0,\n    });\n\n    dispatch(updateMyInfo(value)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '變更暱稱成功',\n          key: 'isUpdating',\n          duration: 5,\n        });\n        return dispatch(getMe());\n      }\n      message.error({\n        content: json.errorMessage,\n        key: 'isUpdating',\n        duration: 5,\n      });\n      return \n    });\n  };\n  // 變更密碼 Modal\n  const [visible, setVisible] = useState(false);\n  const showModal = () => {\n    setVisible(true);\n  };\n\n  return (\n    <PageWrapper>\n      <InfoRow>\n        <InfoTitle span={10}>Email：</InfoTitle>\n        <InfoDetail span={12}>{user.email}</InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>註冊時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.createdAt).toLocaleString()}\n        </InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>更新時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.updatedAt).toLocaleString()}\n        </InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>暱稱：</InfoTitle>\n        <InfoDetail span={8}>\n          <Search\n            defaultValue={user.nickname}\n            enterButton=\"變更暱稱\"\n            onSearch={handleClickUpdateNickname}\n          />\n        </InfoDetail>\n      </InfoRow>\n      <Button type=\"primary\" size=\"large\" danger onClick={showModal}>\n        變更密碼\n      </Button>\n      <ModalUpdatePassword visible={visible} setVisible={setVisible} />\n    </PageWrapper>\n  );\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { sendOrderAPI, getMyOrderListAPI } from \"../../webAPI/orderAPI\";\n\nexport const orderSlice = createSlice({\n  name: \"order\",\n  initialState: {\n    orderResponse: null,\n    isSendingOrder: false,\n    sendingOrderError: null,\n    orderList: null,\n  },\n  reducers: {\n    setOrderResponse: (state, action) => {\n      state.orderResponse = action.payload;\n    },\n    setIsSendingOrder: (state, action) => {\n      state.isSendingOrder = action.payload;\n    },\n    setSendingOrderError: (state, action) => {\n      state.sendingOrderError = action.payload;\n    },\n    setOrderList: (state, action) => {\n      state.orderList = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setOrderResponse,\n  setIsSendingOrder,\n  setSendingOrderError,\n  setOrderList,\n} = orderSlice.actions;\n\n// redux thunk function\nexport const sendOrder = (data) => (dispatch) => {\n  return sendOrderAPI(data)\n    .then((json) => {\n      return json\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getMyOrderList = () => (dispatch) => {\n  return getMyOrderListAPI().then((orderList) => {\n    if (orderList.ok === 0)\n      return dispatch(setSendingOrderError(orderList.errorMessage));\n    dispatch(setOrderList(orderList.data));\n  });\n};\n\n// selector\nexport const selectOrderResponse = (store) => store.order.orderResponse;\nexport const selectOrderList = (store) => store.order.orderList;\n\nexport default orderSlice.reducer;\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const sendOrderAPI = (data) => {\n  return fetch(`${BASE_URL}/orders`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  }).then((res) => res.json());\n};\n\nexport const getMyOrderListAPI = () => {\n  return fetch(`${BASE_URL}/orders/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  })\n    .then((res) => res.json())\n    .catch((error) => console.log(error));\n};\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Table } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  getMyOrderList,\n  selectOrderList,\n} from '../../../redux/reducers/orderReducer';\nimport { toCurrency } from '../../../utils';\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`\nconst EmptyOrderList = styled.div`\n  padding: 32px;\n  font-size: 28px;\n  text-align: center;\n`;\nconst CourseImg = styled.img`\n  max-width: 60px;\n`;\n\nexport default function AccountSetting() {\n  const dispatch = useDispatch();\n  const orderList = useSelector(selectOrderList);\n  useEffect(() => {\n    dispatch(getMyOrderList());\n  }, [dispatch]);\n\n  const columns = [\n    { title: '訂單編號', dataIndex: 'id', key: 'id' },\n    { title: '付款者姓名', dataIndex: 'name', key: 'name' },\n    { title: '付款方式', dataIndex: 'paymentType', key: 'paymentType' },\n    { title: '訂單總額', dataIndex: 'sumPrice', key: 'sumPrice' },\n    { title: '已付款', dataIndex: 'isPaid', key: 'isPaid' },\n    { title: '訂單成立時間', dataIndex: 'createdAt', key: 'createdAt' },\n  ];\n\n  const data = [];\n  if (orderList) {\n    for (let i = 0; i < orderList.length; ++i) {\n      data.push({\n        key: i,\n        id: orderList[i].id,\n        name: orderList[i].name,\n        paymentType: orderList[i].paymentType,\n        sumPrice: toCurrency(orderList[i].sumPrice),\n        isPaid: orderList[i].isPaid ? '是' : '否',\n        createdAt: new Date(orderList[i].createdAt).toLocaleString(),\n      });\n    }\n  }\n  const expandedRowRender = (row) => {\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'imgUrl',\n        key: 'imgUrl',\n        render: (imgUrl) => <CourseImg src={imgUrl} />,\n      },\n      { title: '課程名稱', dataIndex: 'title', key: 'title' },\n      { title: '目前售價', dataIndex: 'price', key: 'price' },\n      { title: '實付金額', dataIndex: 'amountPaid', key: 'amountPaid' },\n    ];\n    const data = [];\n    const selectedOrderItems = orderList[row.key].Order_items;\n    for (let i = 0; i < selectedOrderItems.length; ++i) {\n      data.push({\n        key: i,\n        imgUrl: selectedOrderItems[i].Course.imgUrl,\n        title: selectedOrderItems[i].Course.title,\n        price: toCurrency(selectedOrderItems[i].Course.price),\n        amountPaid: toCurrency(selectedOrderItems[i].amountPaid),\n      });\n    }\n    return <Table columns={columns} dataSource={data} pagination={false} />;\n  };\n\n  return (\n    <>\n      {orderList ? (\n        <PageWrapper>\n          <Table\n            className=\"components-table-demo-nested\"\n            columns={columns}\n            expandable={{ expandedRowRender }}\n            dataSource={data}\n          />\n        </PageWrapper>\n      ) : (\n        <EmptyOrderList>目前沒有訂單記錄</EmptyOrderList>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport AccountSetting from \"../pages/MePage/AccountSetting/\";\nimport OrderHistory from \"../pages/MePage/OrderHistory/\";\n\nexport default function MeRoutes() {\n  return (\n    <Switch>\n      <Route exact path={`/me`}>\n        <div></div>\n      </Route>\n      <Route path={`/me/info`}>\n        <AccountSetting />\n      </Route>\n      <Route path={`/me/orders`}>\n        <OrderHistory />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport MeRoutes from '../../routes/MeRoutes';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { UserOutlined, FileDoneOutlined } from '@ant-design/icons';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`;\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n  border-right: 0;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\nconst IconWrapper = styled.div`\n  padding: 20px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst UseIcon = styled(UserOutlined)`\n  font-size: 80px;\n  border-radius: 50%;\n  padding: 16px;\n  border: 1px dotted black;\n`;\n\nexport default function MePage() {\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    // 進入後台預設導向課程列表\n    if (location.pathname === '/me') {\n      history.push('/me/info');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <IconWrapper>\n            <UseIcon />\n          </IconWrapper>\n          <StyledMenuItem\n            key=\"1\"\n            icon={<UserOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/me/info\">個人資料</Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            key=\"2\"\n            icon={<FileDoneOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/me/orders\">訂單紀錄</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ marginLeft: '200px' }}>\n        <MeRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport {\n  getCourseListAPI,\n  getCourseAPI,\n  addCourseAPI,\n  updateCourseAPI,\n  getMyCourseListAPI,\n  getMyTeachCourseListAPI,\n  getDetailCourseAPI,\n  getUnitByUnitIdAPI,\n  updateUnitByUnitIdAPI\n} from \"../../webAPI/courseAPI\";\n\nexport const courseSlice = createSlice({\n  name: \"course\",\n  initialState: {\n    isGettingCourse: false,\n    getCourseError: null,\n    courseList: [],\n    course: null,\n    myCourseList: null,\n    myTeachCourseList: null,\n    detailCourse: null,\n    unit: null,\n  },\n  reducers: {\n    setCourseList: (state, action) => {\n      state.courseList = action.payload;\n      state.getCourseError = null;\n    },\n    setIsGettingCourse: (state, action) => {\n      state.isGettingCourse = action.payload;\n    },\n    setGetCourseError: (state, action) => {\n      state.getCourseError = action.payload;\n    },\n    setCourse: (state, action) => {\n      state.course = action.payload;\n      state.getCourseError = null;\n    },\n    setMyCourseList: (state, action) => {\n      state.myCourseList = action.payload;\n      state.getCourseError = null;\n    },\n    setMyTeachCourseList: (state, action) => {\n      state.myTeachCourseList = action.payload;\n      state.getCourseError = null;\n    },\n    setDetailCourse: (state, action) => {\n      state.detailCourse = action.payload;\n      state.getCourseError = null;\n    },\n    setUnit: (state, action) => {\n      state.unit = action.payload;\n      state.getCourseError = null;\n    },\n  },\n});\n\n// action\nexport const {\n  setIsGettingCourse,\n  setGetCourseError,\n  setCourseList,\n  setCourse,\n  setMyCourseList,\n  setMyTeachCourseList,\n  setDetailCourse,\n  setUnit\n} = courseSlice.actions;\n\n// redux thunk function\nexport const getCourseList = (params) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getCourseListAPI(params)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getCourse = (id) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getCourseAPI(id)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setCourse(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getMyCourseList = () => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getMyCourseListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setMyCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getMyTeachCourseList = () => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getMyTeachCourseListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setMyTeachCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n\n\nexport const addCourse = ({ title, description, price, imgUrl }) => (dispatch) => {\n  return addCourseAPI(title, price, description, imgUrl)\n    .then((json) => {\n      return json\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateCourse = (courseId, {title, price, description, isPublic, unit_list, imgUrl }) => (\n  dispatch\n) => {\n  if (!courseId || !title || price < 0 || !description || isPublic === undefined || !unit_list || !imgUrl) return;\n  return updateCourseAPI(courseId, {title, price, description, isPublic, unit_list, imgUrl})\n    .then((json) => {\n      return json;\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n\nexport const getDetailCourse = (courseId) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getDetailCourseAPI(courseId)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setDetailCourse({...json.data, unit_list: JSON.parse(json.data.unit_list)}));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getUnitByUnitId = (courseId, unitId) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getUnitByUnitIdAPI(courseId, unitId)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setUnit(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateUnitByUnitId = (courseId, unitId, unit) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  return updateUnitByUnitIdAPI(courseId, unitId, unit)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return json;\n      }\n      // success\n      dispatch(setIsGettingCourse(false));\n      return json;\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n// selector\nexport const selectIsGettingCourse = (store) => store.course.isGettingCourse;\nexport const selectCourseList = (store) => store.course.courseList;\nexport const selectCourse = (store) => store.course.course;\nexport const selectMyCourseList = (store) => store.course.myCourseList;\nexport const selectMyTeachCourseList = (store) => store.course.myTeachCourseList;\nexport const selectDetailCourse = (store) => store.course.detailCourse;\nexport const selectUnit = (store) => store.course.unit;\n\nexport default courseSlice.reducer;\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getCourseListAPI = ({\n  keyword = '',\n  sort = 'id',\n  order = 'ASC',\n} = {}) => {\n  console.log('keyword', keyword);\n  return fetch(\n    `${BASE_URL}/courses?_keyword=${keyword}&_sort=${sort}&_order=${order}`,\n    {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`,\n      },\n    }\n  ).then((res) => res.json());\n};\n\nexport const getCourseAPI = (id) =>\n  fetch(`${BASE_URL}/courses/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const addCourseAPI = (title, price, description, imgUrl) =>\n  fetch(`${BASE_URL}/courses`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      title,\n      price,\n      description,\n      imgUrl,\n    }),\n  }).then((res) => res.json());\n\n// XX\nexport const deleteCourseAPI = (id) =>\n  fetch(`${BASE_URL}/courses/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateCourseAPI = (\n  courseId,\n  { title, price, description, isPublic, unit_list, imgUrl }\n) =>\n  fetch(`${BASE_URL}/courses/${courseId}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      title,\n      price,\n      description,\n      isPublic,\n      unit_list,\n      imgUrl,\n    }),\n  }).then((res) => res.json());\n\n//XX\nexport const addUnitListAPI = (courseId) =>\n  fetch(`${BASE_URL}/unit`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({ courseId, unit_list: [] }),\n  }).then((res) => res.json());\n\n//XX\nexport const getUnitListAPI = (courseId) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\n//XX\nexport const updateUnitListAPI = (courseId, unitList) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      unit_list: unitList,\n    }),\n  }).then((res) => res.json());\n\nexport const getMyCourseListAPI = () =>\n  fetch(`${BASE_URL}/courses/bought-courses/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getMyTeachCourseListAPI = () =>\n  fetch(`${BASE_URL}/courses/teach-courses/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getDetailCourseAPI = (courseId) =>\n  fetch(`${BASE_URL}/courses/detail/${courseId}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getUnitByUnitIdAPI = (courseId, unitId) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units/${unitId}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateUnitByUnitIdAPI = (courseId, unitId, unit) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units/${unitId}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      unit,\n    }),\n  }).then((res) => res.json());\n","import React from 'react';\nimport { Spin } from 'antd';\nimport styled from 'styled-components';\n\nconst LoadingWrapper = styled.div`\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n`;\n\nfunction Loading() {\n  return (\n    <LoadingWrapper>\n      <Spin size={'large'}/>\n    </LoadingWrapper>\n  );\n}\n\nexport default Loading;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Space, Table } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getCourseList,\n  selectCourseList,\n  selectIsGettingCourse,\n} from \"../../redux/reducers/courseReducer\";\nimport Loading from \"../../components/Loading\";\nimport { toCurrency } from '../../utils'\n// import { dummyData as data } from \"./dummyData\";\n\nconst columns = [\n  {\n    title: \"Id\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"課程名稱\",\n    dataIndex: \"title\",\n    key: \"title\",\n    render: (text, record) => (\n      <Link to={`/courses/${record.id}`}>{text}</Link>\n    ),\n  },\n  {\n    title: \"目前售價\",\n    dataIndex: \"price\",\n    key: \"price\",\n  },\n  {\n    title: \"是否公開\",\n    dataIndex: \"isPublic\",\n    key: \"isPublic\",\n  },\n  {\n    title: \"更新於\",\n    dataIndex: \"updatedAt\",\n    key: \"updatedAt\",\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`#`}>審核</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function CoursesTable() {\n  const dispatch = useDispatch();\n  const courses = useSelector(selectCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n\n  useEffect(() => {\n    dispatch(getCourseList());\n  }, [dispatch]);\n\n  return (\n    <>\n      {isGettingCourseList && <Loading />}\n      {!isGettingCourseList && (\n        <Table\n          columns={columns}\n          dataSource={\n            courses &&\n            courses.map((item) => ({\n              ...item,\n              key: item.id,\n              price: toCurrency(item.price),\n              isPublic: item.isPublic ? \"是\" : \"否\",\n              updatedAt: item.updatedAt.slice(0, 10),\n            }))\n          }\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Layout, Breadcrumb } from \"antd\";\nimport CoursesTable from \"../../components/CoursesTable\";\n\nconst { Content } = Layout;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport default function ConsoleCoursesPage() {\n  return (\n    <>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: \"16px 0\" }}>\n          <Breadcrumb.Item>課程列表</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <Content>\n        <CoursesTable />\n      </Content>\n    </>\n  );\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getMemberListAPI = () => {\n  return fetch(`${BASE_URL}/users`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const getMemberAPI = (id) => {\n  return fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      \"content-type\": \"application/json\",\n    },\n  }).then((res) => res.json());\n};\n\nexport const updateUserInfoAPI = (id, email, nickname, AuthTypeId) =>\n  fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      email,\n      nickname,\n      AuthTypeId,\n    }),\n  })\n    .then((res) => res.json())","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport {\n  getMemberListAPI,\n  getMemberAPI,\n  updateUserInfoAPI,\n} from \"../../webAPI/adminAPI\";\n\nexport const memberSlice = createSlice({\n  name: \"member\",\n  initialState: {\n    memberList: [],\n    member: null,\n    errorMessage: \"\",\n    isGettingMemberList: false,\n    isGettingMember: false,\n  },\n  reducers: {\n    setMemberList: (state, action) => {\n      state.memberList = action.payload;\n    },\n    setMember: (state, action) => {\n      state.member = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setIsGettingMemberList: (state, action) => {\n      state.isGettingMemberList = action.payload;\n    },\n    setIsGettingMember: (state, action) => {\n      state.isGettingMember = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setMemberList,\n  setMember,\n  setErrorMessage,\n  setIsGettingMemberList,\n  setIsGettingMember,\n} = memberSlice.actions;\n\n// redux thunk function\n\nexport const getMemberList = () => (dispatch) => {\n  dispatch(setMemberList(null));\n  dispatch(setIsGettingMemberList(true));\n  dispatch(setErrorMessage(\"\"));\n\n  getMemberListAPI()\n    .then((res) => {\n      if (!res || res.ok === 0) {\n        dispatch(setErrorMessage(res ? res.errorMessage : \"something wrong\"));\n        dispatch(setIsGettingMemberList(false));\n        return;\n      }\n      // success\n      dispatch(setMemberList(res.data));\n      dispatch(setIsGettingMemberList(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getMember = (id) => (dispatch) => {\n  dispatch(setMember(null));\n  dispatch(setIsGettingMember(true));\n  dispatch(setErrorMessage(\"\"));\n\n  getMemberAPI(id)\n    .then((res) => {\n      if (!res || res.ok === 0) {\n        dispatch(setErrorMessage(res ? res.errorMessage : \"something wrong\"));\n        dispatch(setIsGettingMember(false));\n        return;\n      }\n      // success\n      console.log(res.data)\n      dispatch(setMember(res.data));\n      dispatch(setIsGettingMember(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateMemberAuth = (id, authType) => (dispatch) => {\n  dispatch(setErrorMessage(\"\"));\n  updateUserInfoAPI(id, null, null, authType).then((res) => {\n    console.log(res);\n    if (res.ok === 0) return dispatch(setErrorMessage(res.errorMessage));\n  });\n};\n\n// selector\nexport const selectMember = (store) => store.member.member;\nexport const selectMemberList = (store) => store.member.memberList;\nexport const selectIsGettingMemberList = (store) =>\n  store.member.isGettingMemberList;\nexport const selectIsGettingMember = (store) => store.member.isGettingMember;\n\nexport default memberSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getMemberList,\n  selectMemberList,\n  selectIsGettingMemberList,\n} from \"../../redux/reducers/memberReducer\";\nimport { Space, Table } from \"antd\";\nimport Loading from \"../../components/Loading\";\nimport { translateAuth } from \"../../utils\";\n\nexport const columns = [\n  {\n    title: \"Id\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"信箱\",\n    dataIndex: \"email\",\n    key: \"email\",\n  },\n  {\n    title: \"會員身份\",\n    dataIndex: \"auth\",\n    key: \"auth\",\n  },\n  {\n    title: \"更新於\",\n    dataIndex: \"updatedAt\",\n    key: \"updatedAt\",\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/console/members/${record.id}`}>more</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function MembersTable() {\n  const dispatch = useDispatch();\n  const members = useSelector(selectMemberList);\n  const isGettingMemberList = useSelector(selectIsGettingMemberList);\n\n  useEffect(() => {\n    dispatch(getMemberList());\n    //return () => {};\n  }, [dispatch]);\n\n  return (\n    <>\n      {isGettingMemberList && <Loading />}\n      {!isGettingMemberList && (\n        <Table\n          columns={columns}\n          dataSource={\n            members &&\n            members.map((item) => ({\n              ...item,\n              key: item.id,\n              updatedAt: new Date(item.updatedAt).toLocaleString(),\n              auth: translateAuth(item.authTypeId),\n            }))\n          }\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Layout, Breadcrumb } from \"antd\";\nimport MembersTable from \"./MembersTable.js\";\n\nconst { Content } = Layout;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst TableContainer = styled(Content)`\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nexport default function ConsoleMembersPage() {\n  return (\n    <>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: \"16px 0\" }}>\n          <Breadcrumb.Item>會員列表</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <TableContainer>\n        <MembersTable />\n      </TableContainer>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getMember,\n  selectMember,\n  updateMemberAuth,\n  selectIsGettingMember,\n} from '../../redux/reducers/memberReducer';\nimport styled from 'styled-components';\nimport {\n  Layout,\n  Breadcrumb,\n  Button,\n  Typography,\n  Divider,\n  Select,\n  Space,\n  Table,\n  Tag,\n  Descriptions,\n} from 'antd';\nimport Loading from '../../components/Loading';\nimport { translateAuth } from '../../utils';\n\nconst { Content } = Layout;\nconst { Option } = Select;\nconst { Title, Text } = Typography;\n\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst MemberContent = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst columns = [\n  {\n    title: '課程 ID',\n    dataIndex: 'CourseId',\n    key: 'CourseId',\n    render: (text) => text,\n  },\n  {\n    title: '課程名稱',\n    key: 'Course',\n    dataIndex: 'Course',\n    render: (Course) => Course.CourseTitle,\n  },\n];\n\nconst AuthSelection = ({ selectedUserId, handleChange }) => {\n  const authTypeIdList = [1, 2, 3];\n  return (\n    <>\n      <Select\n        style={{ width: 120 }}\n        onChange={handleChange}\n        defaultValue={translateAuth(selectedUserId)}\n      >\n        {authTypeIdList.map((authTypeId) => (\n          <Option key={authTypeId} value={authTypeId}>\n            {translateAuth(authTypeId)}\n          </Option>\n        ))}\n      </Select>\n    </>\n  );\n};\n\nexport default function MemberDetailPage() {\n  const { id } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [localAuthTypeId, setLocalAuthTypeId] = useState(0);\n  const member = useSelector(selectMember);\n  const isGettingMember = useSelector(selectIsGettingMember);\n\n  useEffect(() => {\n    dispatch(getMember(id));\n  }, [dispatch, id]);\n\n  function handleChange(value) {\n    setLocalAuthTypeId(value);\n  }\n\n  const handleSave = () => {\n    if (localAuthTypeId === 0 || localAuthTypeId === member.authTypeId) return;\n    dispatch(updateMemberAuth(id, localAuthTypeId));\n    history.push(`/console/members`); // 把頁面導向會員列表\n  };\n\n  return (\n    <>\n      {isGettingMember && <Loading />}\n      {!isGettingMember && member && (\n        <>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/console/members\">會員列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>會員資料 (ID: {member.id})</Breadcrumb.Item>\n            </Breadcrumb>\n            <Space size=\"large\">\n              <AuthSelection\n                handleChange={handleChange}\n                selectedUserId={member.authTypeId}\n              />\n              <Button type=\"primary\" onClick={handleSave}>\n                變更身分\n              </Button>\n            </Space>\n          </InfoHeader>\n          <MemberContent>\n            <Descriptions title=\"會員資料\" bordered>\n              <Descriptions.Item label=\"會員 ID\">{member.id}</Descriptions.Item>\n              <Descriptions.Item label=\"目前身份\" span={2}>\n                {translateAuth(member.authTypeId)}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"會員信箱\">\n                {member.email}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"會員暱稱\" span={2}>\n                {member.nickname}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"註冊日期\">\n                {new Date(member.createdAt).toLocaleString()}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"更新日期\" span={2}>\n                {new Date(member.updatedAt).toLocaleString()}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"購買課程清單\" span={3}>\n                {member.courseList.length > 0 ? (\n                  <Table\n                    columns={columns}\n                    dataSource={member.courseList.map((item) => ({\n                      ...item,\n                      key: item.CourseId,\n                    }))}\n                  />\n                ): (\n                  <div>尚未購買任何課程</div>\n                )}\n              </Descriptions.Item>\n            </Descriptions>\n          </MemberContent>\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport ConsoleCoursesPage from \"../pages/ConsoleCoursesPage\";\nimport ConsoleMembersPage from \"../pages//ConsoleMembersPage\";\nimport MemberDetailPage from \"../pages//MemberDetailPage\";\n\nexport default function ConsoleRoutes() {\n  return (\n    <Switch>\n      <Route exact path=\"/console/courses\">\n        <ConsoleCoursesPage />\n      </Route>\n      <Route exact path=\"/console/members\">\n        <ConsoleMembersPage />\n      </Route>\n      <Route exact path=\"/console/members/:id\">\n        <MemberDetailPage />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\nimport { BookOutlined, ContactsOutlined } from '@ant-design/icons';\nimport ConsoleRoutes from '../../routes/ConsoleRoutes';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n  border-right: 0;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\n\nexport default function ConsolePage() {\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    // 進入後台預設導向課程列表\n    if (location.pathname === '/console') {\n      history.push('/console/courses');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <StyledMenuItem key=\"1\" icon={<BookOutlined style={{fontSize: 20}}/>}>\n            <Link to=\"/console/courses\">課程列表</Link>\n          </StyledMenuItem>\n          <StyledMenuItem key=\"2\" icon={<ContactsOutlined style={{fontSize: 20}}/>}>\n            <Link to=\"/console/members\">會員列表</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ padding: '0 24px', marginLeft: '200px' }}>\n        <ConsoleRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  selectCartList,\n  deleteCartItem,\n} from '../../redux/reducers/cartReducer';\nimport { Table, Button } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { toCurrency } from '../../utils';\nimport {\n  MEDIA_QUERY_MOBILE_M,\n  MEDIA_QUERY_TABLET,\n} from '../../constants/breakpoint';\n\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst LeftContainer = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1 1 0%;\n  }\n`;\nconst RightContainerOuter = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 0 1 350px;\n    margin-left: 30px;\n  }\n`;\nconst RightContainerInner = styled.div`\n  padding: 24px 12px;\n  background: ${(props) => props.theme.colors.secondary.light};\n  ${MEDIA_QUERY_TABLET} {\n    width: 350px;\n    position: fixed;\n    right: 30px;\n  }\n`;\n\nexport default function CartListPage({ padding }) {\n  const dispatch = useDispatch();\n  const cartList = useSelector(selectCartList);\n  let sumPrice = 0;\n  if (cartList.length > 0) {\n    cartList.forEach((el) => {\n      sumPrice += el.Course.price;\n    });\n  }\n\n  const handleDeleteCartItem = (id) => {\n    dispatch(deleteCartItem(id));\n  };\n\n  // 加入 react 需要的 key\n  let data = [];\n  for (let i = 0; i < cartList.length; i += 1) {\n    data.push({\n      key: cartList[i].CourseId,\n      id: cartList[i].CourseId,\n      title: cartList[i].Course.title,\n      price: toCurrency(cartList[i].Course.price),\n    });\n  }\n\n  const columns = [\n    { title: '課程ID', dataIndex: ['id'], key: 'id' },\n    {\n      title: '課程名稱',\n      dataIndex: ['title'],\n      key: 'title',\n      render: (text, record) => (\n        <Link to={`courseInfo/${record.id}`}>{text}</Link>\n      ),\n    },\n    { title: '售價', dataIndex: ['price'], key: 'price' },\n    {\n      title: '動作',\n      dataIndex: '',\n      key: 'x',\n      render: (data) => (\n        <>\n          <Button>\n            <Link to={`/checkout/${data.id}`}>購買單堂</Link>\n          </Button>{' '}\n          <Button\n            danger\n            icon={<DeleteOutlined />}\n            onClick={() => handleDeleteCartItem(data.id)}\n          >\n            刪除\n          </Button>\n        </>\n      ),\n    },\n  ];\n\n  return (\n    <PageWrapper padding={padding}>\n      <LeftContainer>\n        {cartList.length === 0 && (\n          <center>\n            <h1>購物車是空的，看看課程？</h1>\n            <h1>\n              <Link to=\"/\">探索課程</Link>\n            </h1>\n          </center>\n        )}\n        {cartList.length > 0 && (\n          <>\n            <h1>購物車清單</h1>\n            <h3>共有{cartList.length}堂課</h3>\n            <hr />\n            <Table\n              columns={columns}\n              dataSource={data}\n              pagination={{ pageSize: 5 }}\n            />\n          </>\n        )}\n      </LeftContainer>\n      <RightContainerOuter>\n        <RightContainerInner>\n          <h1>\n            <strong>購物車明細</strong>\n          </h1>\n          <hr />\n          <h2 align=\"right\">小計 {toCurrency(sumPrice)}</h2>\n          <br></br>\n          {cartList.length > 0 && (\n            <Button size=\"large\" block>\n              <Link to={`/checkout`}>前往結帳</Link>\n            </Button>\n          )}\n        </RightContainerInner>\n      </RightContainerOuter>\n    </PageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { selectCartList } from '../../redux/reducers/cartReducer';\nimport {\n  selectCourse,\n  getCourse,\n  setCourse,\n} from '../../redux/reducers/courseReducer';\nimport { sendOrder } from '../../redux/reducers/orderReducer';\nimport { getMe } from '../../redux/reducers/userReducer';\nimport {\n  Typography,\n  Table,\n  Button,\n  Form,\n  Input,\n  Select,\n  message,\n} from 'antd';\nimport { toCurrency } from '../../utils';\nimport {\n  MEDIA_QUERY_MOBILE_M,\n  MEDIA_QUERY_TABLET,\n} from '../../constants/breakpoint';\n\nconst { Title, Paragraph } = Typography;\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst FormWrapper = styled.div`\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst LeftContainer = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1 1 0%;\n  }\n`;\nconst RightContainerOuter = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 0 1 350px;\n    margin-left: 30px;\n  }\n`;\nconst RightContainerInner = styled.div`\n  padding: 24px 12px;\n  background: ${(props) => props.theme.colors.secondary.light};\n  ${MEDIA_QUERY_TABLET} {\n    width: 350px;\n    position: fixed;\n    right: 30px;\n  }\n`;\n\nconst { Option } = Select;\nconst formLayout = 'vertical';\n\nconst formItemLayout = {\n  labelCol: {\n    span: 24,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst buttonItemLayout = {\n  wrapperCol: {\n    span: 0,\n    offset: 0,\n  },\n};\nconst validateMessages = {\n  required: '${label} is required',\n};\n\nexport default function CheckoutPage({ padding }) {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const cartList = useSelector(selectCartList);\n  const course = useSelector(selectCourse);\n  const [form] = Form.useForm();\n  let sumPrice = 0;\n  let sumCourse = 0;\n  let data = [];\n\n  useEffect(() => {\n    if (id) {\n      dispatch(getCourse(id));\n      // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n      return () => {\n        dispatch(setCourse(null));\n      };\n    }\n  }, [dispatch, id]);\n\n  // params 有帶 id => 單堂結帳\n  if (id && course) {\n    data.push({\n      key: course.id,\n      id: course.id,\n      title: course.title,\n      price: course.price,\n      priceString: toCurrency(course.price),\n    });\n    sumPrice = course.price;\n    sumCourse = 1;\n  } else if (!id && cartList.length > 0) {\n    // 多堂結帳\n    for (let i = 0; i < cartList.length; i += 1) {\n      data.push({\n        key: cartList[i].CourseId,\n        id: cartList[i].CourseId,\n        title: cartList[i].Course.title,\n        price: cartList[i].Course.price,\n        priceString: toCurrency(cartList[i].Course.price),\n      });\n      sumCourse += 1;\n    }\n    cartList.forEach((el) => {\n      sumPrice += el.Course.price;\n    });\n  }\n\n  const columns = [\n    { title: '課程ID', dataIndex: ['id'], key: 'id' },\n    {\n      title: '課程名稱',\n      dataIndex: ['title'],\n      key: 'title',\n      render: (text, record) => (\n        <Link to={`/courseInfo/${record.id}`}>{text}</Link>\n      ),\n    },\n    { title: '售價', dataIndex: ['priceString'], key: 'priceString' },\n  ];\n\n  const onFinish = (values) => {\n    message.loading({\n      content: '付款中',\n      key: 'isChecking',\n      duration: 0,\n    });\n    const orderData = {\n      ...values,\n      sumPrice: sumPrice,\n      orderCourses: data.map((el) => {\n        return {\n          CourseId: el.id,\n          amountPaid: el.price,\n        };\n      }),\n    };\n    dispatch(sendOrder(orderData)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: json.message,\n          key: 'isChecking',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/my-course');\n      }\n      message.error({\n        content: json.errorMessage,\n        key: 'isChecking',\n        duration: 5,\n      });\n    });\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  return (\n    <PageWrapper padding={padding}>\n      <Form\n        {...formItemLayout}\n        layout={formLayout}\n        form={form}\n        onFinish={onFinish}\n        validateMessages={validateMessages}\n        style={{ width: '100%' }}\n      >\n        <FormWrapper>\n          <LeftContainer>\n            {sumPrice === 0 ? (\n              <>\n                <Title>歡迎加入免費課程</Title>\n                <Paragraph>\n                  您選擇的課程皆為免費課程，點擊「確認加入」後就可以開始上課囉！\n                </Paragraph>\n              </>\n            ) : (\n              <>\n                <Title level={3}>付款資訊</Title>\n                <hr/>\n                <Form.Item\n                  name=\"name\"\n                  label=\"姓名\"\n                  rules={[{ required: true }]}\n                >\n                  <Input />\n                </Form.Item>\n                <Form.Item\n                  name=\"paymentType\"\n                  label=\"付款方式\"\n                  rules={[{ required: true }]}\n                >\n                  <Select placeholder=\"請選擇付款方式\" allowClear>\n                    <Option value=\"信用卡\">信用卡</Option>\n                    <Option value=\"LINE Pay\">LINE Pay</Option>\n                  </Select>\n                </Form.Item>\n              </>\n            )}\n\n            {((!id && cartList.length > 0) || course) && (\n              <>\n                <Title level={3}>購買清單 </Title>\n                <h3>共有{sumCourse}堂課</h3>\n                <hr />\n                <Table\n                  columns={columns}\n                  dataSource={data}\n                  style={{ fontSize: '18px' }}\n                  pagination={{ pageSize: 5 }}\n                />\n              </>\n            )}\n          </LeftContainer>\n          <RightContainerOuter>\n            <RightContainerInner>\n              <Title level={3}>訂單明細</Title>\n              <hr />\n              <h2 align=\"right\">小計 {toCurrency(sumPrice)}</h2>\n              <Form.Item {...buttonItemLayout}>\n                <Button type=\"primary\" size=\"large\" htmlType=\"submit\" block>\n                  {sumPrice === 0 ? '確認加入' : '確認付款'}\n                </Button>\n              </Form.Item>\n              {sumPrice > 0 && (\n                <Form.Item {...buttonItemLayout}>\n                  <Button\n                    htmlType=\"button\"\n                    size=\"large\"\n                    onClick={onReset}\n                    block\n                  >\n                    清除資料\n                  </Button>\n                </Form.Item>\n              )}\n            </RightContainerInner>\n          </RightContainerOuter>\n        </FormWrapper>\n      </Form>\n    </PageWrapper>\n  );\n}\n","import React from 'react';\nimport { Card, Avatar } from 'antd';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { toCurrency } from '../../utils';\n\nconst { Meta } = Card;\nconst CardWrapper = styled.div`\n  border: ${(props) => props.theme.colors.primary.main} 1px solid;\n  border-bottom: ${(props) => props.theme.colors.primary.main} 5px solid;\n  :hover {\n    opacity: 0.7;\n  }\n`;\nconst TeacherLink = styled(Link)`\n  position: absolute;\n  left: 8%;\n  top: 8%;\n  transition: all 0.5s;\n  :hover {\n    transform: scale(1.3);\n  }\n`;\nconst Student = styled.div`\n  margin-top: 12px;\n`;\nconst Price = styled.div`\n  font-size: 24px;\n  font-weight: bold;\n  text-align: right;\n  color: ${(props) => props.theme.colors.primary.main};\n`;\n\nexport default function CourseCard({ course, isBought }) {\n  return (\n    <>\n      <Link to={`/courses/${course.id}`}>\n        <CardWrapper>\n          <Card cover={<img alt=\"unavailable\" src={course.imgUrl} />}>\n            <Meta\n              title={course.title}\n            />\n              {!isBought && <Price>{toCurrency(course.price)}</Price>}\n          </Card>\n        </CardWrapper>\n      </Link>\n      {course.Teacher && (\n        <TeacherLink to={`/teacher-info/${course.TeacherId}`}>\n          <Avatar size={'large'} src={course.Teacher.avatarUrl} />\n        </TeacherLink>\n      )}\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Select, Typography } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  selectCourseList,\n  selectIsGettingCourse,\n  getCourseList,\n  setCourseList,\n} from '../../redux/reducers/courseReducer';\n\nconst { Title } = Typography;\nconst { Option } = Select;\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n`;\n\nconst SearchWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n`;\nconst SearchInfo = styled.div`\n  font-size: 20px;\n`;\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default function CourseListPage({ padding }) {\n  const dispatch = useDispatch();\n  const query = useQuery();\n  const keyword = query.get('keyword') || '';\n  const courseList = useSelector(selectCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n  const [selected, setSelected] = useState('latest')\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getCourseList({ keyword }));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      setSelected('latest')\n      dispatch(setCourseList([]));\n    };\n  }, [dispatch, keyword]);\n\n  const handleSelectChange = (value) => {\n    if (isGettingCourseList) return;\n    setSelected(value)\n    switch (value) {\n      case 'latest':\n        return dispatch(getCourseList({ keyword, sort: 'id', order: 'DESC' }));\n      case 'highPrice':\n        return dispatch(\n          getCourseList({ keyword, sort: 'price', order: 'DESC' })\n        );\n      case 'lowPrice':\n        return dispatch(\n          getCourseList({ keyword, sort: 'price', order: 'ASC' })\n        );\n      default:\n        return;\n    }\n  };\n\n  return (\n    <>\n      <PageWrapper padding={padding}>\n        <SearchWrapper>\n          <SearchInfo>\n            {keyword && <span>關鍵字:<strong>「{keyword}」, </strong></span>}\n            <span>共有 {courseList.length} 堂課程</span>\n          </SearchInfo>\n          <div>\n            排序方式：\n            <Select\n              value={selected}\n              style={{ width: 180 }}\n              onChange={handleSelectChange}\n            >\n              <Option value=\"latest\">最新上架(預設)</Option>\n              <Option value=\"highPrice\">最高價格</Option>\n              <Option value=\"lowPrice\">最低價格</Option>\n            </Select>\n          </div>\n        </SearchWrapper>\n        {isGettingCourseList && <Loading />}\n        {!isGettingCourseList && courseList.length === 0 ? (\n          <Title level={3}>\n            <center>查無課程</center>\n          </Title>\n        ) : (\n          <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n            {courseList\n              .filter((course) => course.isPublic)\n              .map((course) => (\n                <Col key={course.id} xs={12} md={8} lg={6}>\n                  <CourseCard course={course} />\n                </Col>\n              ))}\n          </Row>\n        )}\n      </PageWrapper>\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { selectUser } from '../../redux/reducers/userReducer';\nimport {\n  selectIsGettingCourse,\n  selectMyCourseList,\n  getMyCourseList,\n  setMyCourseList,\n} from '../../redux/reducers/courseReducer';\n\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n`;\n\nexport default function MyCourseListPage({ padding }) {\n  const myCourseList = useSelector(selectMyCourseList);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const dispatch = useDispatch();\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getMyCourseList());\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      dispatch(setMyCourseList(null));\n    };\n  }, [dispatch]);\n\n  return (\n    <PageWrapper padding={padding}>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && (\n        <>\n          {!myCourseList && (\n            <center>\n              <h1>我的課程是空的，看看課程？</h1>\n              <h1>\n                <Link to=\"/\">探索課程</Link>\n              </h1>\n            </center>\n          )}\n          {myCourseList && myCourseList.length > 0 && (\n            <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n              {myCourseList.map((course) => (\n                <Col key={course.id} xs={12} md={8} lg={6}>\n                  <CourseCard course={course} isBought={true}/>\n                </Col>\n              ))}\n            </Row>\n          )}\n        </>\n      )}\n    </PageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Button, Avatar, List, Typography } from 'antd';\nimport { useHistory, useParams, Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getCourse,\n  selectCourse,\n  selectIsGettingCourse,\n} from '../../redux/reducers/courseReducer';\nimport { toCurrency } from '../../utils';\nimport Loading from '../../components/Loading';\nimport { selectCartList, addCartItem } from '../../redux/reducers/cartReducer';\nimport { selectUser } from '../../redux/reducers/userReducer';\n\nconst CourseWrapper = styled.div`\n  max-width: 760px;\n  margin: 24px auto;\n  padding: 32px;\n  background: ${(props) => props.theme.colors.white};\n  color: ${(props) => props.theme.colors.primary.text};\n  box-shadow: \n    1px 1px 1px rgba(0,0,0,0.15), \n    2px 2px 2px rgba(0,0,0,0.15), \n    4px 4px 4px rgba(0,0,0,0.15), \n    8px 8px 8px rgba(0,0,0,0.15);\n}\n`;\nconst CourseTitle = styled.div`\n  text-align: center;\n  font-size: 42px;\n  font-weight: bold;\n`;\nconst Price = styled.div`\n  color: ${(props) => props.theme.colors.primary.main};\n  text-align: right;\n  font-size: 36px;\n  font-weight: bold;\n`;\nconst ButtonPlacer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\nconst ButtonWrapper = styled.div`\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 90px;\n`;\n\nexport default function CourseInfoPage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const user = useSelector(selectUser);\n  const course = useSelector(selectCourse);\n  const cartList = useSelector(selectCartList);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const { id } = useParams();\n  const checkIsAlreadyInCart = () => {\n    for (let i = 0; i < cartList.length; i += 1) {\n      if (cartList[i].CourseId === Number(id)) {\n        // 當前課程已在 cartList 內\n        return true;\n      }\n    }\n    return false;\n  };\n  // 改由後端直接回傳該堂課是否已購買資訊\n  const checkCourseIsPaid = () => {\n    //console.log(user);\n    if (!user) return false;\n    for (let i = 0; i < user.paidCourses.length; i += 1) {\n      if (user.paidCourses[i].CourseId === Number(course.id)) {\n        // 當前課程已在 paidCourses 內\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const handleClickAddToCart = () => {\n    if (!user) {\n      history.push('/cart');\n    }\n    if (!checkIsAlreadyInCart()) {\n      dispatch(addCartItem(course.id));\n    }\n  };\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getCourse(id));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {};\n  }, [dispatch, id]);\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && course && (\n        <CourseWrapper>\n          <CourseTitle>{course.title}</CourseTitle>\n          <Price align=\"right\">{toCurrency(course.price)}</Price>\n\n          <ButtonPlacer>\n            {course.isPublic ? (\n              <ButtonWrapper>\n                {course.isCourseBought ? (\n                  <Button type=\"primary\" size=\"large\" block>\n                    <Link to={`/classroom/${course.id}`}>開始上課</Link>\n                  </Button>\n                ) : (\n                  <>\n                    <Button type=\"primary\" size=\"large\" block>\n                      <Link to={`/checkout/${course.id}`}>立即購買</Link>\n                    </Button>\n                    {checkIsAlreadyInCart() ? (\n                      <Button type=\"primary\" size=\"large\" block danger>\n                        <Link to=\"/cart\">前進購物車</Link>\n                      </Button>\n                    ) : (\n                      <Button\n                        type=\"primary\"\n                        size=\"large\"\n                        onClick={handleClickAddToCart}\n                      >\n                        加入購物車\n                      </Button>\n                    )}\n                  </>\n                )}\n              </ButtonWrapper>\n            ) : (\n              <Button size=\"large\" disabled>\n                非公開課程\n              </Button>\n            )}\n          </ButtonPlacer>\n\n          <div>\n            <Link to={`/teacher-info/${course.Teacher.id}`}>\n              <Avatar size={64} src={course.Teacher.avatarUrl} />\n            </Link>\n          </div>\n          <br/>\n          <p>\n            <strong>開課老師：</strong>\n            <div>{course.Teacher.name}</div>\n          </p>\n\n          <div>\n            <strong>課程介紹：</strong>\n          </div>\n          <br/>\n          <p>{course.description}</p>\n          <div>\n            <strong>課程大綱：</strong>\n          </div>\n          <br/>\n          {course.unit_title && (\n            <List\n              size=\"large\"\n              bordered\n              dataSource={course.unit_title.map((el, i) => {\n                return { number: i + 1, title: el };\n              })}\n              renderItem={(item) => (\n                <List.Item>\n                  <strong>{item.number}</strong>. {item.title}\n                </List.Item>\n              )}\n            />\n          )}\n        </CourseWrapper>\n      )}\n    </>\n  );\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getTeacherListAPI = () =>\n  fetch(`${BASE_URL}/teachers`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getTeacherAPI = (id) =>\n  fetch(`${BASE_URL}/teachers/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const applyTeacherAPI = ({ name, description, avatarUrl }) =>\n  fetch(`${BASE_URL}/teachers`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      name,\n      description,\n      avatarUrl,\n    }),\n  }).then((res) => res.json());\n\n  export const updateTeacherInfoAPI = ({ name, description, avatarUrl }) =>\n  fetch(`${BASE_URL}/teachers`, {\n    method: 'PATCH',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      name,\n      description,\n      avatarUrl,\n    }),\n  }).then((res) => res.json());\n\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  getTeacherListAPI,\n  getTeacherAPI,\n  applyTeacherAPI,\n  updateTeacherInfoAPI\n} from '../../webAPI/teacherAPI';\n\nexport const teacherSlice = createSlice({\n  name: 'teacher',\n  initialState: {\n    teacherList: [],\n    isGettingTeacherList: false,\n    getTeacherListError: null,\n    teacher: null,\n    isGettingTeacher: false,\n    getTeacherError: null,\n  },\n  reducers: {\n    setTeacherList: (state, action) => {\n      state.teacherList = action.payload;\n      state.getTeacherListError = null;\n    },\n    setIsGettingTeacherList: (state, action) => {\n      state.isGettingTeacherList = action.payload;\n    },\n    setGetTeacherListError: (state, action) => {\n      state.getTeacherListError = action.payload;\n    },\n    setTeacher: (state, action) => {\n      state.teacher = action.payload;\n      state.getTeacherError = null;\n    },\n    setIsGettingTeacher: (state, action) => {\n      state.isGettingTeacher = action.payload;\n    },\n    setGetTeacherError: (state, action) => {\n      state.getTeacherError = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setTeacherList,\n  setIsGettingTeacherList,\n  setGetTeacherListError,\n  setTeacher,\n  setIsGettingTeacher,\n  setGetTeacherError,\n} = teacherSlice.actions;\n\n// redux thunk function\nexport const getTeacherList = () => (dispatch) => {\n  dispatch(setIsGettingTeacherList(true));\n  getTeacherListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetTeacherListError(json.errorMessage));\n        dispatch(setIsGettingTeacherList(false));\n        return;\n      }\n      // success\n      dispatch(setTeacherList(json.data.teacherList));\n      dispatch(setIsGettingTeacherList(false));\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const getTeacher = (id) => (dispatch) => {\n  dispatch(setIsGettingTeacher(true));\n  getTeacherAPI(id)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetTeacherError(json.errorMessage));\n        dispatch(setIsGettingTeacher(false));\n        return;\n      }\n      // success\n      dispatch(setTeacher(json.data.teacher));\n      dispatch(setIsGettingTeacher(false));\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const applyTeacher = ({name, description, avatarUrl}) => (dispatch) => {\n  console.log(name)\n  dispatch(setIsGettingTeacher(true));\n  return applyTeacherAPI({name, description, avatarUrl})\n    .then((json) => {\n      return json;\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const updateTeacherInfo = ({name, description, avatarUrl}) => (dispatch) => {\n  return updateTeacherInfoAPI({name, description, avatarUrl})\n  .then((json) => {\n    return json;\n  })\n  .catch((err) => {\n    console.log('err: ', err);\n  });\n};\n\n// selector\nexport const selectTeacherList = (store) => store.teacher.teacherList;\nexport const selectIsGettingTeacherList = (store) =>\n  store.teacher.isGettingTeacherList;\nexport const selectTeacher = (store) => store.teacher.teacher;\nexport const selectIsGettingTeacher = (store) => store.teacher.isGettingTeacher;\n\nexport default teacherSlice.reducer;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Avatar, Row, Col } from 'antd';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getTeacher,\n  selectTeacher,\n  selectIsGettingTeacher,\n} from '../../redux/reducers/teacherReducer';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\n\nconst TeacherWrapper = styled.div`\n  padding: 16px;\n  max-width: 760px;\n  margin: 24px auto;\n  background: ${(props) => props.theme.colors.white};\n  color: ${(props) => props.theme.colors.primary.text};\n`;\nconst TeacherTitle = styled.div`\n  text-align: center;\n  font-size: 42px;\n  font-weight: bold;\n`;\n\nexport default function TeacherInfoPage() {\n  const dispatch = useDispatch();\n  const teacher = useSelector(selectTeacher);\n  const isGettingTeacher = useSelector(selectIsGettingTeacher);\n  const { id } = useParams();\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getTeacher(id));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {};\n  }, [dispatch, id]);\n\n  return (\n    <>\n      {isGettingTeacher && <Loading />}\n      {!isGettingTeacher && teacher && (\n        <TeacherWrapper>\n          <TeacherTitle>{teacher.name}</TeacherTitle>\n          <center>\n            <Avatar size={120} src={teacher.avatarUrl} />\n          </center>\n          <h1><strong>關於我</strong></h1>\n          <h1>{teacher.description}</h1>\n          <br/>\n          <div>{teacher.name} 開的課：</div>\n          <br/>\n          <Row gutter={[16, { xs: 8, sm: 16, md: 24, lg: 32 }]}>\n            {teacher.Courses.filter((course) => course.isPublic).map(\n              (course) => (\n                <Col key={course.id} xs={12} md={8}>\n                  <CourseCard course={course} />\n                </Col>\n              )\n            )}\n          </Row>\n        </TeacherWrapper>\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Breadcrumb } from 'antd';\nimport { useParams, Link, Switch, Route } from 'react-router-dom';\nimport Youtube from 'react-youtube';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loading from '../../components/Loading';\nimport {\n  selectUnit,\n  getUnitByUnitId,\n} from '../../redux/reducers/courseReducer';\n\nconst UnitTitle = styled.div`\n  font-weight: bold;\n  font-size: 34px;\n  padding: 12px 0;\n`;\nconst UnitDescription = styled.div`\n  font-size: 16px;\n  margin: 20px auto;\n`;\nconst UnitVideo = styled(Youtube)`\n  width: 100%;\n  height: 500px;\n  margin: 0 auto;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport default function UnitPage() {\n  const dispatch = useDispatch();\n  const unit = useSelector(selectUnit);\n  const { id, unitId } = useParams();\n\n  useEffect(() => {\n    dispatch(getUnitByUnitId(id, unitId));\n  }, [dispatch, id, unitId]);\n\n  const options = {\n    width: '80%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    playerVars: {\n      autoplay: 1,\n    },\n  };\n  const getYoutubeId = (url) => {\n    const urlParams = new URLSearchParams(new URL(url).search);\n    return urlParams.get('v');\n  };\n  return (\n    <>\n      {unit ? (\n        <>\n          <Breadcrumb>\n          <Breadcrumb.Item>\n                <Link to={`/classroom/${unit.courseId}`}>{unit.courseTitle}</Link>\n              </Breadcrumb.Item>\n            <Breadcrumb.Item>{unit.title}</Breadcrumb.Item>\n          </Breadcrumb>\n          <UnitTitle>{unit.title}</UnitTitle>\n          <UnitDescription>{unit.description}</UnitDescription>\n          {unit.videoUrl && (\n            <UnitVideo videoId={getYoutubeId(unit.videoUrl)} opt={options} />\n          )}\n        </>\n      ) : (\n      <Loading />\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Layout, Menu, Typography } from 'antd';\nimport { useHistory, useParams, Switch, Route } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loading from '../../components/Loading';\nimport {\n  getDetailCourse,\n  selectDetailCourse,\n} from '../../redux/reducers/courseReducer';\nimport { PlayCircleOutlined } from '@ant-design/icons';\nimport UnitPage from './UnitPage.js';\n\nconst { Content, Sider } = Layout;\nconst { Title } = Typography;\nconst FixedLayout = styled(Layout)`\n  height: 100%;\n`;\nconst ScrollSider = styled(Sider)`\n  overflow: auto;\n  min-width: 200px !important;\n  background-color: ${(prop) => prop.theme.colors.white};\n  height: 100%;\n`;\nconst StyledImg = styled.img`\n  width: 100%;\n`;\nconst CourseTitle = styled.div`\n  margin: 16px;\n  font-weight: bold;\n  font-size: 24px;\n  text-align: center;\n  line-height: 2rem;\n`;\nconst ContentWrapper = styled(Content)`\n  padding: 24px;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n`;\n\nexport default function ClassroomPage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const detailCourse = useSelector(selectDetailCourse);\n  const { id } = useParams();\n\n  useEffect(() => {\n    dispatch(getDetailCourse(id));\n  }, [dispatch, id]);\n\n  const handleClickUnit = (e) => {\n    return history.push(`/classroom/${id}/unit/${e.key}`);\n  };\n\n  return (\n    <>\n      {detailCourse ? (\n        <FixedLayout>\n          <ScrollSider>\n            <Menu\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              defaultOpenKeys={['sub1']}\n            >\n              <StyledImg alt=\"課程圖片\" src={detailCourse.imgUrl} />\n              <CourseTitle>{detailCourse.title}</CourseTitle>\n              {detailCourse.unit_list.map((unit) => (\n                <Menu.Item\n                  key={unit.id}\n                  icon={<PlayCircleOutlined style={{ fontSize: 20 }} />}\n                  onClick={handleClickUnit}\n                >\n                  {unit.title}\n                </Menu.Item>\n              ))}\n            </Menu>\n          </ScrollSider>\n          <ContentWrapper>\n            <Switch>\n              <Route exact path={`/classroom/:id`}>\n                <center>\n                  <Title>歡迎來到課程：{detailCourse.title}</Title>\n                  <Title level={3}>請點擊左方播放清單開始上課</Title>\n                </center>\n              </Route>\n              <Route exact path={`/classroom/:id/unit/:unitId`}>\n                <UnitPage />\n              </Route>\n            </Switch>\n          </ContentWrapper>\n        </FixedLayout>\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Form, Input, Button } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, Link } from 'react-router-dom';\nimport { Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { applyTeacher } from '../../redux/reducers/teacherReducer';\nimport { getMe } from '../../redux/reducers/userReducer';\nimport ImgCrop from 'antd-img-crop';\n\nconst RegisterPageWrapper = styled.div`\n  padding: 10px;\n`;\nconst RegisterBox = styled.div`\n  padding: 10px;\n  margin: 10px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 18px;\n`;\nconst FormItem = styled(Form.Item)`\n  .ant-form-item {\n    text-align: left;\n    &-extra {\n      text-align: left;\n      padding-left: 3px;\n    }\n    &-explain-error {\n      text-align: left;\n      padding-left: 3px;\n    }\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function TeacherApplyPage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [form] = Form.useForm();\n\n  const handleChange = (info) => {\n    console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      console.log('returnUrl', returnUrl)\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n      return\n    }\n  };\n\n  const handleOnFinish = (value) => {\n    console.log(value);\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    dispatch(\n      applyTeacher({\n        name: value.name,\n        description: value.description,\n        avatarUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('申請老師成功');\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  return (\n    <RegisterPageWrapper>\n      <RegisterBox>\n        <FormTitle>申請開課</FormTitle>\n        <StyledForm\n          {...layout}\n          form={form}\n          onFinish={handleOnFinish}\n          validateMessages={validateMessages}\n        >\n          <FormItem\n            label=\"老師姓名\"\n            name=\"name\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input placeholder=\"請輸入老師姓名\" />\n          </FormItem>\n          <Form.Item\n            label=\"老師介紹\"\n            name=\"description\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input.TextArea\n              rows={8}\n              style={{ resize: 'none' }}\n              placeholder=\"請輸入介紹文字\"\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳大頭照\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate shape=\"round\">\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img\n                    src={imageUrl}\n                    alt=\"avatar\"\n                    style={{ width: '100%', borderRadius: '50%' }}\n                  />\n                ) : (\n                  <>\n                    {isUploading ? <LoadingOutlined /> : <PlusOutlined />}\n                  </>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <br />\n          <FormItem {...tailLayout}>\n            <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n              送出申請\n            </Button>\n          </FormItem>\n        </StyledForm>\n      </RegisterBox>\n    </RegisterPageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Space, Table } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getMyTeachCourseList,\n  selectMyTeachCourseList,\n  selectIsGettingCourse,\n} from '../../../redux/reducers/courseReducer';\nimport Loading from '../../../components/Loading';\nimport { toCurrency } from '../../../utils';\n// import { dummyData as data } from \"./dummyData\";\n\nexport const columns = [\n  {\n    title: 'Id',\n    dataIndex: 'id',\n    key: 'id',\n  },\n  {\n    title: '課程名稱',\n    dataIndex: 'title',\n    key: 'title',\n    render: (text, record) => (\n      <Link to={`/courseInfo/${record.id}`}>{text}</Link>\n    ),\n  },\n  {\n    title: '目前售價',\n    dataIndex: 'price',\n    key: 'price',\n  },\n  {\n    title: '是否公開',\n    dataIndex: 'isPublic',\n    key: 'isPublic',\n  },\n  {\n    title: '更新於',\n    dataIndex: 'updatedAt',\n    key: 'updatedAt',\n  },\n  {\n    title: 'Action',\n    key: 'action',\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/teacher/courses/${record.id}`}>編輯</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function MyTeachCourseTable() {\n  const dispatch = useDispatch();\n  const courses = useSelector(selectMyTeachCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n  useEffect(() => {\n    dispatch(getMyTeachCourseList());\n  }, [dispatch]);\n  console.log(courses);\n\n  return (\n    <>\n      {isGettingCourseList && <Loading />}\n      {!isGettingCourseList && (\n        <>\n          {courses ? (\n            <Table\n              columns={columns}\n              dataSource={\n                courses &&\n                courses.map((item) => ({\n                  ...item,\n                  key: item.id,\n                  price: toCurrency(item.price),\n                  isPublic: item.isPublic ? '是' : '否',\n                  updatedAt: item.updatedAt.slice(0, 10),\n                }))\n              }\n            />\n          ) : (\n            <center>\n              <strong>目前還沒開設任何課程</strong>\n            </center>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Breadcrumb, Button } from \"antd\";\nimport MyTeachCourseTable from \"./MyTeachCourseTable\";\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n`;\n\nexport default function MyTeachCoursePage() {\n  return (\n    <PageWrapper>\n      <InfoHeader>\n        <Breadcrumb>\n          <Breadcrumb.Item>課程列表</Breadcrumb.Item>\n        </Breadcrumb>\n        <Button type=\"primary\">\n          <Link to=\"/teacher/courses/new\">新增課程</Link>\n        </Button>\n      </InfoHeader>\n        <MyTeachCourseTable />\n    </PageWrapper>\n  );\n}\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { addCourse } from '../../../redux/reducers/courseReducer';\nimport styled from 'styled-components';\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Layout,\n  Select,\n  Breadcrumb,\n  Button,\n  Upload,\n  message,\n} from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport ImgCrop from 'antd-img-crop';\n\n\nconst { Content } = Layout;\nconst { Option } = Select;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n  text-align: center;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst FormContainer = styled(Content)`\n  margin: 0px 30px;\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    range: '${label}需介於於 ${min}~${max}',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function NewCoursePage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n\n  const handleOnFinish = (value) => {\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    dispatch(\n      addCourse({\n        title: value.title,\n        price: value.price,\n        description: value.description,\n        imgUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('新增課程成功');\n        //dispatch(getMe());\n        return history.push('/teacher/courses');\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  const handleChange = (info) => {\n    //console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      //console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n      return;\n    }\n  };\n\n  return (\n    <PageWrapper>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: '16px 0' }}>\n          <Breadcrumb.Item>\n            <Link to=\"/teacher/courses\">課程列表</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>新增課程</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <FormContainer>\n        <Form\n          {...layout}\n          form={form}\n          validateMessages={validateMessages}\n          initialValues={{ isPublic: '非公開' }}\n          onFinish={handleOnFinish}\n        >\n          <Form.Item name=\"isPublic\" label=\"課程狀態\">\n            <Select disabled>\n              <Option value=\"非公開\">非公開</Option>\n            </Select>\n          </Form.Item>\n          <Form.Item name=\"title\" label=\"課程名稱\" rules={[{ required: true }]}>\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name=\"price\"\n            label=\"課程金額\"\n            rules={[{ required: true, type: 'number', min: 0, max: 9999 }]}\n            extra=\"單位：新台幣, 限制 0~9999\"\n          >\n            <InputNumber\n              formatter={(value) =>\n                `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n              }\n              parser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"description\"\n            label=\"課程敘述\"\n            rules={[{ required: true }]}\n          >\n            <Input.TextArea rows={4} style={{ resize: 'none' }} />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳課程封面圖\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate>\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                className=\"upload-course\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\n                ) : (\n                  <>\n                    {isUploading ? (\n                      <LoadingOutlined style={{ fontSize: '50px' }} />\n                    ) : (\n                      <PlusOutlined style={{ fontSize: '50px' }} />\n                    )}\n                  </>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <center>\n            <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n              新增課程\n            </Button>\n          </center>\n        </Form>\n      </FormContainer>\n    </PageWrapper>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Form, Input, Button, Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectUser, getMe } from '../../../redux/reducers/userReducer';\nimport { updateTeacherInfo } from '../../../redux/reducers/teacherReducer';\nimport ImgCrop from 'antd-img-crop';\n\nconst PageWrapper = styled.div`\n  font-size: 20px;\n  text-align: center;\n  padding: 24px;\n`;\nconst InfoTitle = styled(Col)`\n  text-align: right;\n`;\nconst InfoDetail = styled(Col)`\n  text-align: left;\n`;\nconst FormContainer = styled.div`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function TeacherSetting() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    form.setFieldsValue({\n      name: user.Teacher.name,\n      description: user.Teacher.description,\n      upload: user.Teacher.avatarUrl,\n    });\n    setImageUrl(user.Teacher.avatarUrl);\n  }, [form, user]);\n\n  const handleChange = (info) => {\n    console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n    }\n  };\n\n  const handleOnFinish = (value) => {\n    console.log(value);\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    // 重複判定\n    if (\n      value.name === user.Teacher.name &&\n      value.description === user.Teacher.description &&\n      value.upload === user.Teacher.avatarUrl\n    ) {\n      return message.warning('資料無異動');\n    }\n    dispatch(\n      updateTeacherInfo({\n        name: value.name,\n        description: value.description,\n        avatarUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('資料更新成功');\n        return dispatch(getMe());\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  return (\n    <PageWrapper>\n      <Row>\n        <InfoTitle span={10}>申請時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.Teacher.createdAt).toLocaleString()}\n        </InfoDetail>\n      </Row>\n      <Row>\n        <InfoTitle span={10}>更新時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.Teacher.updatedAt).toLocaleString()}\n        </InfoDetail>\n      </Row>\n      <FormContainer>\n        <Form {...layout} form={form} onFinish={handleOnFinish}>\n          <Form.Item\n            name=\"name\"\n            label=\"老師名稱\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name=\"description\"\n            label=\"老師介紹\"\n            rules={[{ required: true }]}\n          >\n            <Input.TextArea rows={3} style={{ resize: 'none' }} />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳大頭照\"\n            //valuePropName=\"fileList\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate shape=\"round\">\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img\n                    src={imageUrl}\n                    alt=\"avatar\"\n                    style={{ width: '100%', borderRadius: '50%' }}\n                  />\n                ) : (\n                  <>{isUploading ? <LoadingOutlined /> : <PlusOutlined />}</>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <center>\n            <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n              確認更新\n            </Button>\n          </center>\n        </Form>\n      </FormContainer>\n    </PageWrapper>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport { Button, List, Typography, Space, Tooltip } from \"antd\";\nimport {\n  MenuOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  PlusOutlined,\n} from \"@ant-design/icons\";\n\nconst ListContainer = styled.div`\n\n`;\n\nconst ListContent = styled(List.Item)`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ListFooter = styled(List.Item)`\n  background-color: ${(props) => props.theme.colors.secondary.light};\n`;\n\nconst UnitText = styled.span`\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nfunction Unit({\n  unit,\n  dragHandleProps,\n  handleClickEditUnitButton,\n  handleDeleteUnit,\n}) {\n  return (\n    <ListContent>\n      <Space align=\"center\" size={10}>\n        <Tooltip title=\"拖拉\">\n          <MenuOutlined style={{ color: \"#999\" }} {...dragHandleProps} />\n        </Tooltip>\n        <UnitText>{unit.title}</UnitText>\n      </Space>\n      <Space>\n        <Tooltip title=\"編輯\">\n          <Button\n            icon={<EditOutlined />}\n            onClick={() => handleClickEditUnitButton(unit.id)}\n          ></Button>\n        </Tooltip>\n        <Tooltip title=\"刪除\">\n          <Button\n            icon={<DeleteOutlined />}\n            onClick={() => handleDeleteUnit(unit.id)}\n          />\n        </Tooltip>\n      </Space>\n    </ListContent>\n  );\n}\n\nexport default function CourseUnitsList({\n  unitList,\n  placeholder,\n  handleAddUnit,\n  handleDeleteUnit,\n  handleClickEditUnitButton,\n}) {\n  return (\n    <ListContainer>\n      <List size=\"large\" bordered>\n        {unitList.map((unit, index) => (\n          <Draggable key={unit.id} draggableId={`id: ${unit.id}`} index={index}>\n            {(provided) => (\n              <div ref={provided.innerRef} {...provided.draggableProps}>\n                <Unit\n                  unit={unit}\n                  dragHandleProps={provided.dragHandleProps}\n                  handleDeleteUnit={handleDeleteUnit}\n                  handleClickEditUnitButton={handleClickEditUnitButton}\n                />\n              </div>\n            )}\n          </Draggable>\n        ))}\n        {placeholder}\n        <ListFooter>\n          <Space\n            align=\"center\"\n            size={10}\n            style={{ cursor: \"pointer\" }}\n            onClick={handleAddUnit}\n          >\n            <PlusOutlined />\n            <UnitText>新增課程</UnitText>\n          </Space>\n        </ListFooter>\n      </List>\n    </ListContainer>\n  );\n}\n","import React, {\n  useEffect,\n  useState,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Select,\n  Upload,\n  message,\n} from 'antd';\nimport ImgCrop from 'antd-img-crop';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    range: '${label}需介於於 ${min}~${max}',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nfunction CourseSettingForm({ course }, ref) {\n  const [form] = Form.useForm();\n  const [imageUrl, setImageUrl] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleChange = (info) => {\n    console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    getFieldsValue: () => {\n      return form.validateFields();\n    },\n  }));\n  useEffect(() => {\n    form.setFieldsValue({\n      isPublic: course.isPublic ? '公開' : '非公開',\n      title: course.title,\n      price: course.price,\n      description: course.description,\n      upload: course.imgUrl,\n    });\n    setImageUrl(course.imgUrl);\n  }, [form, course]);\n  return (\n    <Form form={form} {...layout} validateMessages={validateMessages}>\n      <center>建立時間：{new Date(course.createdAt).toLocaleString()}</center>\n      <center>最後更新：{new Date(course.updatedAt).toLocaleString()}</center>\n      <br />\n      <Form.Item name=\"isPublic\" label=\"課程狀態\" rules={[{ required: true }]}>\n        <Select>\n          <Option value=\"公開\">公開</Option>\n          <Option value=\"非公開\">非公開</Option>\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"title\" label=\"課程名稱\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item\n        name=\"price\"\n        label=\"課程金額\"\n        rules={[{ required: true, type: 'number', min: 0, max: 9999 }]}\n        extra=\"單位：新台幣, 限制 0~9999\"\n      >\n        <InputNumber\n          formatter={(value) =>\n            `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          }\n          parser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\n        />\n      </Form.Item>\n      <Form.Item\n        name=\"description\"\n        label=\"課程敘述\"\n        rules={[{ required: true }]}\n      >\n        <Input.TextArea rows={4} style={{ resize: 'none' }} />\n      </Form.Item>\n      <Form.Item\n        name=\"upload\"\n        label=\"Upload\"\n        //valuePropName=\"fileList\"\n        extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n        rules={[\n          {\n            required: true,\n          },\n        ]}\n      >\n        <ImgCrop rotate>\n          <Upload\n            name=\"image\"\n            listType=\"picture-card\"\n            className=\"upload-course\"\n            showUploadList={false}\n            action=\"https://api.imgur.com/3/image\"\n            headers={{\n              Authorization: 'Client-ID ef0e0fd605be920',\n              'X-Requested-With': null,\n            }}\n            beforeUpload={beforeUpload}\n            onChange={handleChange}\n          >\n            {imageUrl ? (\n              <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\n            ) : (\n              <div>\n                {isUploading ? <LoadingOutlined /> : <PlusOutlined />}\n                <div style={{ marginTop: 8 }}>上傳大頭照</div>\n              </div>\n            )}\n          </Upload>\n        </ImgCrop>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default forwardRef(CourseSettingForm);\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectIsGettingCourse,\n  getDetailCourse,\n  setDetailCourse,\n  updateCourse,\n  selectDetailCourse,\n} from '../../../redux/reducers/courseReducer';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport styled from 'styled-components';\nimport { Layout, Breadcrumb, Button, message } from 'antd';\nimport CourseUnitsList from '../../../components/CourseUnitsList';\nimport CourseSettingForm from '../../../components/CourseSettingForm';\nimport Loading from '../../../components/Loading';\nconst { Content } = Layout;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n  text-align: center;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst CourseContent = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\nconst ButtonWrapper = styled.div`\n  margin: 18px auto;\n  text-align: center;\n`;\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\nexport default function UpdateCoursePage() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const history = useHistory();\n  const course = useSelector(selectDetailCourse);\n  //console.log('course detail', course);\n  const ChildRef = useRef();\n\n  useEffect(() => {\n    dispatch(getDetailCourse(id));\n    return () => {\n      dispatch(setDetailCourse(null));\n    };\n  }, [dispatch, id]);\n\n  function handleOnDragEnd(result) {\n    // 無動作或是目的地=原本位置 > 返回\n    if (!result || result.destination.index === result.source.index) return;\n    const reorderedUnitList = reorder(\n      course.unit_list,\n      result.source.index,\n      result.destination.index\n    );\n    dispatch(setDetailCourse({ ...course, unit_list: reorderedUnitList }));\n  }\n\n  const handleAddUnit = () => {\n    const oldUnitList = course.unit_list;\n    const lastUnitId =\n      oldUnitList.length > 0\n        ? Number(oldUnitList[oldUnitList.length - 1].id)\n        : 0;\n    const unitId = lastUnitId + 1;\n    const unit = { id: unitId, title: '新課程' };\n    // 更新當前資料\n    dispatch(\n      setDetailCourse({ ...course, unit_list: [...course.unit_list, unit] })\n    );\n  };\n\n  const handleDeleteUnit = (id) => {\n    const newUnitList = course.unit_list.filter((item) => item.id !== id);\n    // 更新當前資料\n    dispatch(setDetailCourse({ ...course, unit_list: newUnitList }));\n  };\n\n  const getFormValue = async () => {\n    const value = await ChildRef.current\n      .getFieldsValue()\n      .then((values) => values)\n      .catch((error) => console.log(error));\n    if (!value) return;\n    value.isPublic = value.isPublic === '公開' ? true : false;\n    value.unit_list = course.unit_list;\n    value.imgUrl = value.upload;\n    //console.log('getFormValue', value);\n    return value;\n  };\n\n  const handleClickSave = async () => {\n    const value = await getFormValue();\n    // 沒變化時就不 call API\n    if (!value) return;\n    // courseId\n    dispatch(updateCourse(id, value)).then((json) => {\n      // 把頁面導向單元編輯頁\n      if (json.ok === 1) {\n        message.success('更新課程成功', 5)\n        return history.push(`/teacher/courses/`);\n      }\n      return message.error(json.errorMessage, 5)\n    });\n  };\n\n  const handleClickEditUnitButton = async (unitId) => {\n    const value = await getFormValue();\n    if (!value) return;\n    // courseId\n    dispatch(updateCourse(id, value)).then((json) => {\n      // 把頁面導向單元編輯頁\n      if (json.ok === 1) {\n        message.success('更新課程成功', 5)\n        return history.push(`/teacher/courses/${id}/unit/${unitId}`);\n      }\n      return message.error(json.errorMessage, 5)\n    });\n  };\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && course && (\n        <PageWrapper>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/teacher/courses\">課程列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>課程\b管理({course.title})</Breadcrumb.Item>\n            </Breadcrumb>\n          </InfoHeader>\n          <CourseContent>\n            {/* 課程資訊 */}\n            <CourseSettingForm ref={ChildRef} course={course} />\n            {/* dnd */}\n            <DragDropContext onDragEnd={handleOnDragEnd}>\n              <Droppable droppableId=\"courseContent\">\n                {(provided) => (\n                  <div ref={provided.innerRef} {...provided.droppableProps}>\n                    <CourseUnitsList\n                      unitList={course.unit_list}\n                      placeholder={provided.placeholder}\n                      handleAddUnit={handleAddUnit}\n                      handleDeleteUnit={handleDeleteUnit}\n                      handleClickEditUnitButton={handleClickEditUnitButton}\n                    />\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n          </CourseContent>\n          <ButtonWrapper>\n            <Button type=\"primary\" size=\"large\" onClick={handleClickSave}>\n              儲存變更\n            </Button>\n          </ButtonWrapper>\n        </PageWrapper>\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectIsGettingCourse,\n  getUnitByUnitId,\n  selectUnit,\n  updateUnitByUnitId,\n} from '../../../redux/reducers/courseReducer';\nimport styled from 'styled-components';\nimport { Layout, Breadcrumb, Button, Form, Input, message } from 'antd';\nimport Loading from '../../../components/Loading';\nconst { Content } = Layout;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst FormContainer = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 14 },\n};\n\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    min: '${label}不可小於 ${min}',\n  },\n};\n\nexport default function EditUnitPage() {\n  const { id, unitId } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const unit = useSelector(selectUnit);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const [form] = Form.useForm();\n  console.log('original unit', unit);\n  console.log('isGettingCourse', isGettingCourse)\n\n  useEffect(() => {\n    console.log('useEffect');\n    dispatch(getUnitByUnitId(id, unitId));\n  }, [dispatch, id, unitId]);\n\n  if (unit) {\n    form.setFieldsValue({\n      title: unit.title,\n      description: unit.description || '',\n      videoUrl: unit.videoUrl || '',\n    });\n  }\n  \n  const onFinish = (values) => {\n    dispatch(updateUnitByUnitId(id, unitId, values)).then((json) => {\n      if (json.ok === 1) {\n        message.success('單元更新成功', 5);\n        return history.push(`/teacher/courses/${id}`); // 把頁面導向單元列表\n      }\n      return message.error(json.errorMessage, 5);\n    });\n    //\n  };\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && unit && (\n        <PageWrapper>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/teacher/courses\">課程列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>\n                <Link to={`/teacher/courses/${id}`}>\n                  課程\b管理({unit.courseTitle})\n                </Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>編輯單元(id:{unit.id})</Breadcrumb.Item>\n            </Breadcrumb>\n          </InfoHeader>\n          <FormContainer>\n            <Form\n              {...layout}\n              form={form}\n              onFinish={onFinish}\n              validateMessages={validateMessages}\n            >\n              <Form.Item\n                name=\"title\"\n                label=\"單元名稱\"\n                rules={[{ required: true }]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item name=\"description\" label=\"單元敘述\">\n                <Input.TextArea rows={8} style={{ resize: 'none' }} />\n              </Form.Item>\n              <Form.Item name=\"videoUrl\" label=\"影片連結\">\n                <Input placeholder=\"請輸入 Youtube 連結\" />\n              </Form.Item>\n              <center>\n                <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n                  儲存\n                </Button>\n              </center>\n            </Form>\n          </FormContainer>\n        </PageWrapper>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport MyTeachCoursePage from \"../pages/TeacherPage/MyTeachCoursePage\";\nimport NewCourseForm from '../pages/TeacherPage/NewCourseForm'\nimport TeacherSetting from '../pages/TeacherPage/TeacherSettingForm'\nimport UpdateCourseForm from '../pages/TeacherPage/UpdateCourseForm'\nimport EditUnitForm from '../pages/TeacherPage/EditUnitForm'\n\nexport default function MeRoutes() {\n  return (\n    <Switch>\n      <Route exact path={`/teacher`}>\n        <div></div>\n      </Route>\n      <Route path={`/teacher/info`}>\n        <TeacherSetting/>\n      </Route>\n      <Route exact path={`/teacher/courses`}>\n        <MyTeachCoursePage />\n      </Route>\n      <Route exact path={`/teacher/courses/new`}>\n        <NewCourseForm />\n      </Route>\n      <Route exact path=\"/teacher/courses/:id\">\n        <UpdateCourseForm />\n      </Route>\n      <Route exact path=\"/teacher/courses/:id/unit/:unitId\">\n        <EditUnitForm />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport TeacherRoutes from '../../routes/TeacherRoutes';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { UserOutlined, ReadOutlined } from '@ant-design/icons';\nimport { selectUser } from '../../redux/reducers/userReducer';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`;\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\nconst AvatarWrapper = styled.div`\n  padding: 20px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst StyledImg = styled.img`\n  height: 130px;\n  border-radius: 50%;\n`\n\nexport default function TeacherPage() {\n  const location = useLocation();\n  const history = useHistory();\n  const user = useSelector(selectUser);\n\n  useEffect(() => {\n    if (location.pathname === '/teacher') {\n      history.push('/teacher/info');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <AvatarWrapper>\n            <StyledImg alt='avatar' src={user.Teacher.avatarUrl} />\n          </AvatarWrapper>\n          <StyledMenuItem\n            key=\"1\"\n            icon={<UserOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/teacher/info\">老師資料</Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            key=\"2\"\n            icon={<ReadOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/teacher/courses\">課程管理</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ marginLeft: '200px' }}>\n        <TeacherRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Switch, Route, Link, useParams } from 'react-router-dom';\n//  引入各分頁\nimport LoginPage from '../pages/LoginPage';\nimport RegisterPage from '../pages/RegisterPage';\nimport MePage from '../pages/MePage';\nimport ConsolePage from '../pages/ConsolePage';\nimport CartListPage from '../pages/CartListPage';\nimport CheckoutPage from '../pages/CheckoutPage';\nimport CourseListPage from '../pages/CourseListPage';\nimport MyCoursePage from '../pages/MyCoursePage';\nimport CourseInfoPage from '../pages/CourseInfoPage';\nimport TeacherInfoPage from '../pages/TeacherInfoPage';\nimport ClassroomPage from '../pages/ClassroomPage';\n\nimport TeacherApplyPage from '../pages/TeacherApplyPage';\n\nimport TeacherPage from '../pages/TeacherPage';\n\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../redux/reducers/userReducer';\n\nconst padding = 36;\n\nconst NoLoggingMessage = () => (\n  <center>\n    <br />\n    <h1>請先註冊或登入</h1>\n    <h1>\n      <Link to=\"/register\">註冊</Link>\n      <br />\n      <Link to=\"/login\">登入</Link>\n    </h1>\n  </center>\n);\n\nconst UnauthorizedMessage = () => (\n  <center>\n    <br />\n    <h1>您未授權訪問此頁面</h1>\n  </center>\n);\n\nfunction Routes() {\n  const user = useSelector(selectUser);\n  console.log('route user', user);\n  return (\n    <Switch>\n      {/* ------------- 任何身分 ------------- */}\n      {/* 首頁(課程列表) */}\n      <Route exact path=\"/\" component={CourseListPage}>\n        <CourseListPage padding={padding} />\n      </Route>\n      {/* 註冊 */}\n      <Route exact path=\"/register\">\n        <RegisterPage />\n      </Route>\n      {/* 登入 */}\n      <Route exact path=\"/login\">\n        <LoginPage />\n      </Route>\n      {/* 課程列表 */}\n      <Route exact path=\"/courses\">\n        <CourseListPage padding={padding} />\n      </Route>\n      {/* 單一課程介紹 */}\n      <Route exact path=\"/courses/:id\">\n        <CourseInfoPage />\n      </Route>\n      {/* 老師介紹 */}\n      <Route exact path=\"/teacher-info/:id\">\n        <TeacherInfoPage padding={padding} />\n      </Route>\n\n      {/* ------------- 一般會員 ------------- */}\n      {/* 購物車 */}\n      <Route exact path=\"/cart\">\n        {user ? <CartListPage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 結帳 */}\n      <Route exact path=\"/checkout/:id?\">\n        {user ? <CheckoutPage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 我的課程 */}\n      <Route exact path=\"/my-course\">\n        {user ? <MyCoursePage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 上課頁面  底下還有子路由時不可設 exact */}\n      <Route path=\"/classroom/:id/\">\n        {user ? <ClassroomPage /> : <NoLoggingMessage />}\n      </Route>\n      {/* 我的帳號 底下還有子路由時不可設 exact */}\n      <Route path=\"/me\">{user ? <MePage /> : <NoLoggingMessage />}</Route>\n\n      {/* 註冊老師 */}\n      <Route path=\"/teacher-apply\">\n        {user ? (\n          user.authTypeId === 1 ? (\n            <TeacherApplyPage />\n          ) : (\n            <UnauthorizedMessage/>\n          )\n        ) : (\n          <NoLoggingMessage />\n        )}\n      </Route>\n\n      {/* ------------- 老師 ------------- */}\n      <Route path=\"/teacher\">\n        {user && user.authTypeId === 2 ? (\n          <TeacherPage />\n        ) : (\n          <NoLoggingMessage />\n        )}\n      </Route>\n\n      {/* ------------- 管理員 ------------- */}\n      {/* 管理後台 */}\n      <Route path=\"/console\">\n        {user &&\n          (user && user.authTypeId === 3 ? (\n            <ConsolePage />\n          ) : (\n            <UnauthorizedMessage />\n          ))}\n      </Route>\n\n      {/* 其餘網址一律導至首頁 */}\n      <Route path=\"/\">\n        <CourseListPage padding={padding} />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Routes;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Layout } from \"antd\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Routes from \"./routes/Routes\";\nimport { useDispatch } from \"react-redux\";\nimport { getMe } from \"./redux/reducers/userReducer\";\n\nconst { Content } = Layout;\nconst AntLayout = styled(Layout)`\n  min-height: 100vh;\n  height: ${(props) => props.fixedsider && `100vh`};\n`;\n\nconst consolePage = [\"console\", \"me\", \"classroom\", \"teacher\"];\n\nfunction App() {\n  console.log(\"render app\");\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n  console.log(pathname);\n  const checkIsConsolePage = consolePage.some((el) => pathname.includes(el));\n\n  useEffect(() => {\n    dispatch(getMe());\n  }, [dispatch]);\n\n  return (\n    <AntLayout fixedsider={checkIsConsolePage}>\n      {/* optional header */}\n      <Header />\n      <Content>\n        {/* Routes */}\n        <Routes />\n      </Content>\n      {/* optional footer */}\n      {!checkIsConsolePage && <Footer />}\n    </AntLayout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { getUnitListAPI, updateUnitListAPI } from \"../../webAPI/courseAPI\";\n\nexport const unitSlice = createSlice({\n  name: \"unit\",\n  initialState: {\n    unit: null,\n    unitList: null,\n    course: null,\n    isLoading: false,\n    errorMessage: \"\",\n  },\n  reducers: {\n    setCourse: (state, action) => {\n      state.course = action.payload;\n    },\n    setUnit: (state, action) => {\n      state.unit = action.payload;\n    },\n    setUnitList: (state, action) => {\n      state.unitList = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setCourse,\n  setUnit,\n  setUnitList,\n  setErrorMessage,\n  setIsLoading,\n} = unitSlice.actions;\n\n// redux thunk function\nexport const getUnitListByCourseId = (courseId) => (dispatch) => {\n  dispatch(setIsLoading(true));\n  dispatch(setCourse(null));\n  dispatch(setUnit(null));\n  dispatch(setUnitList(null));\n  dispatch(setErrorMessage(\"\"));\n  console.log(\"reducer\");\n  getUnitListAPI(courseId)\n    .then((course) => {\n      if (course.ok === 0) {\n        dispatch(setErrorMessage(\"cannot find course\"));\n        dispatch(setIsLoading(false));\n        return;\n      }\n      // success\n      dispatch(setUnit(course.data.unit_list[0]));\n      dispatch(setUnitList(course.data.unit_list));\n      dispatch(setCourse(course.data));\n      dispatch(setIsLoading(false));\n    })\n    .catch((err) => {\n      dispatch(setIsLoading(false));\n      console.log(\"err: \", err);\n    });\n};\nexport const getUnitByUnitId = (course, unitId) => (dispatch) => {\n  dispatch(setIsLoading(true));\n  dispatch(setUnit(course.unit_list[unitId]));\n  dispatch(setIsLoading(false));\n};\nexport const updateLocalUnitList = (unitList) => (dispatch) => {\n  dispatch(setUnitList(unitList));\n};\nexport const updateUnitList = (courseId, unitList) => (dispatch) => {\n  if (!courseId || !unitList) return console.log(\"no required info\");\n  updateUnitListAPI(courseId, unitList)\n    .then((json) => {\n      if (json.ok === 0) {\n        console.log(json);\n        return;\n      }\n      // success\n      console.log(\"更新單元列表成功\");\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n// selector\nexport const selectUnit = (store) => store.unit.unit;\nexport const selectUnitList = (store) => store.unit.unitList;\nexport const selectCourse = (store) => store.unit.course;\nexport const selectErrorMessage = (store) => store.unit.errorMessage;\nexport const selectIsLoading = (store) => store.unit.isLoading;\n\nexport default unitSlice.reducer;\n","/* eslint-disable import/no-unresolved */\n/* eslint-disable no-param-reassign */\nimport { createSlice } from '@reduxjs/toolkit';\n\nexport const errorMessageSlice = createSlice({\n  name: 'error',\n  initialState: {\n    errorMessage: null,\n  },\n  reducers: {\n    setErrorMessage: (state, action) => {\n      //  參數為單一值非物件\n      state.errorMessage = action.payload;\n    },\n  },\n});\n\n// 設定 action\nexport const { setErrorMessage } = errorMessageSlice.actions;\n\n// selector\nexport const selectErrorMessage = store => store.error.errorMessage;\n\nexport default errorMessageSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport cartReducer from \"./reducers/cartReducer\";\r\nimport courseReducer from \"./reducers/courseReducer\";\r\nimport teacherReducer from \"./reducers/teacherReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport memberReducer from \"./reducers/memberReducer\";\r\nimport unitReducer from \"./reducers/unitReducer\";\r\nimport orderReducer from \"./reducers/orderReducer\";\r\nimport errorMessageReducer from \"./reducers/errorMessageReducer\"\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    cart: cartReducer,\r\n    order: orderReducer,\r\n    course: courseReducer,\r\n    teacher: teacherReducer,\r\n    user: userReducer,\r\n    member: memberReducer,\r\n    unit: unitReducer,\r\n    errorMessage: errorMessageReducer,\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ThemeProvider } from \"styled-components\";\nimport { theme } from \"./constants/theme\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <Router>\n          <App />\n        </Router>\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const theme = {\n  colors: {\n    primary: {\n      main: \"#3483cd\",\n      light: \"#70b2ff\",\n      dark: `#00579c`,\n      text: \"#000000\",\n    },\n    secondary: {\n      main: \"#f89f3c\",\n      light: \"#ffd06c85\",\n      dark: `#c07000`,\n      text: \"#000000\",\n    },\n    white: \"#fff\",\n    grey: \"#d3d3d3c4\",\n  },\n};\n"],"sourceRoot":""}