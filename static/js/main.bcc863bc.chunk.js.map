{"version":3,"sources":["constants/breakpoint.js","constants/API_BASE_URL.js","utils.js","webAPI/userAPI.js","webAPI/cartAPI.js","redux/reducers/cartReducer.js","redux/reducers/userReducer.js","img/LOGO.png","components/Header/Header.js","components/Footer/Footer.js","components/CourseCard/CourseCard.js","components/Loading/Loading.js","redux/reducers/courseReducer.js","webAPI/courseAPI.js","img/carousel_1.jpg","img/carousel_2.jpg","img/carousel_3.jpg","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/RegisterPage.js","pages/MePage/AccountSetting/ModalUpdatePassword.js","pages/MePage/AccountSetting/AccountSetting.js","redux/reducers/orderReducer.js","webAPI/orderAPI.js","pages/MePage/OrderHistory/OrderHistory.js","routes/MeRoutes.js","pages/MePage/MePage.js","pages/ConsoleCoursesPage/CoursesTable.js","pages/ConsoleCoursesPage/ConsoleCoursesPage.js","webAPI/adminAPI.js","redux/reducers/memberReducer.js","pages/ConsoleMembersPage/MembersTable.js","pages/ConsoleMembersPage/ConsoleMembersPage.js","pages/MemberDetailPage/MemberDetailPage.js","routes/ConsoleRoutes.js","pages/ConsolePage/ConsolePage.js","pages/CartListPage/CartListPage.js","pages/CheckoutPage/CheckoutPage.js","pages/CourseListPage/CourseListPage.js","pages/MyCoursePage/MyCoursePage.js","pages/CourseInfoPage/CourseInfoPage.js","webAPI/teacherAPI.js","redux/reducers/teacherReducer.js","pages/TeacherInfoPage/TeacherInfoPage.js","pages/ClassroomPage/UnitPage.js","pages/ClassroomPage/ClassroomPage.js","pages/TeacherApplyPage/TeacherApplyPage.js","pages/TeacherPage/MyTeachCoursePage/MyTeachCourseTable.js","pages/TeacherPage/MyTeachCoursePage/MyTeachCoursePage.js","pages/TeacherPage/NewCourseForm/NewCourseForm.js","pages/TeacherPage/TeacherSettingForm/TeacherSettingForm.js","components/CourseUnitsList/CourseUnitsList.js","components/CourseSettingForm/CourseSettingForm.js","pages/TeacherPage/UpdateCourseForm/UpdateCourseForm.js","pages/TeacherPage/EditUnitForm/EditUnitForm.js","routes/TeacherRoutes.js","pages/TeacherPage/TeacherPage.js","routes/Routes.js","App.js","reportWebVitals.js","redux/reducers/unitReducer.js","redux/reducers/errorMessageReducer.js","redux/store.js","index.js","constants/theme.js"],"names":["MEDIA_QUERY_MOBILE_M","MEDIA_QUERY_TABLET","BASE_URL","TOKEN_NAME","passwordRegExp","isStrongPassword","password","test","toString","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","toCurrency","num","parts","split","replace","join","translateAuth","AuthTypeId","addCartItemAPI","id","fetch","method","headers","Authorization","then","res","json","deleteCartItemAPI","cartSlice","createSlice","name","initialState","cartList","isGettingCartList","getCartListError","isAddingCartItem","addCartItemError","isDeletingCartItem","deleteCartItemError","reducers","setCartList","state","action","console","log","payload","setIsGettingCartList","setGetCartListError","setIsAddingCartItem","setAddCartItemError","setIsDeletingCartItem","setDeleteCartItemError","actions","getCartList","dispatch","ok","errorMessage","data","cart_items","catch","err","selectCartList","store","cart","userSlice","user","isGettingUser","setUser","setIsGettingUser","setUserErrorMessage","getMe","getState","a","login","email","body","JSON","stringify","loginAPI","register","nickname","registerAPI","logout","updateMyInfo","updateMyInfoAPI","updateMyPassword","oldPassword","newPassword","updateMyPasswordAPI","selectUser","useBreakpoint","Grid","Search","Input","StyledMenu","styled","Menu","HeaderContainer","div","props","theme","colors","primary","text","Logo","Link","NavContainer","NavToggleGroup","NavRightPart","NavToggler","Button","NavTogglerBody","light","CartIcon","ShoppingCartOutlined","LeftMenu","searchValue","setSearchValue","onSearch","handleClose","currentKey","md","mode","onClick","selectedKeys","style","display","alignItems","value","onChange","e","placeholder","width","Item","to","RightMenu","handleLogout","authTypeId","Header","useDispatch","history","useHistory","pathname","useLocation","useSelector","useState","setCurrentKey","useEffect","indexOf","getCurrentKey","push","visible","setState","src","LOGO","alt","count","length","offset","title","placement","closable","onClose","FooterContainer","grey","MediaCol","Col","MediaWrapper","Footer","gutter","sm","xs","FacebookFilled","TwitterSquareFilled","InstagramFilled","href","color","GithubOutlined","fontSize","Meta","Card","CardWrapper","main","TeacherLink","Price","CourseCard","course","isBought","cover","imgUrl","price","Teacher","TeacherId","size","avatarUrl","LoadingWrapper","Loading","courseSlice","isGettingCourse","getCourseError","courseList","myCourseList","myTeachCourseList","detailCourse","unit","setCourseList","setIsGettingCourse","setGetCourseError","setCourse","setMyCourseList","setMyTeachCourseList","setDetailCourse","setUnit","getCourseList","params","keyword","page","limit","sort","order","getPublic","getCourseListAPI","getCourse","getCourseAPI","getMyCourseList","getMyTeachCourseList","addCourse","description","addCourseAPI","updateCourse","courseId","isPublic","unit_list","undefined","updateCourseAPI","getDetailCourse","getDetailCourseAPI","parse","getUnitByUnitId","unitId","getUnitByUnitIdAPI","updateUnitByUnitId","updateUnitByUnitIdAPI","selectIsGettingCourse","selectCourseList","selectCourse","selectMyCourseList","selectMyTeachCourseList","selectDetailCourse","selectUnit","PageWrapper","Intro","CoursesWrapper","TitleLatestCourse","CourseListPage","isGettingCourseList","showThumbs","showStatus","autoPlay","infiniteLoop","carousel_1","carousel_2","carousel_3","lg","filter","map","LoginBox","FormTitle","NoAccountMessage","StyledForm","Form","layout","labelCol","span","wrapperCol","tailLayout","validateMessages","required","types","Login","React","onFinish","message","loading","content","key","duration","success","error","label","rules","type","Password","htmlType","RegisterBox","HasAccountMessage","Register","getFieldValue","validator","_","inputValue","Promise","resolve","reject","extra","dependencies","BoxWrapper","UpdateForm","forwardRef","ref","setModalText","useForm","form","useImperativeHandle","resetForm","resetFields","setTimeout","ModalUpdatePassword","setVisible","ChildRef","useRef","modalText","onCancel","current","afterClose","footer","InfoRow","Row","InfoTitle","InfoDetail","AccountSetting","Date","createdAt","toLocaleString","updatedAt","defaultValue","enterButton","warning","danger","orderSlice","orderResponse","isSendingOrder","sendingOrderError","orderList","setOrderResponse","setIsSendingOrder","setSendingOrderError","setOrderList","sendOrder","sendOrderAPI","getMyOrderList","selectOrderList","EmptyOrderList","CourseImg","img","i","paymentType","sumPrice","isPaid","className","columns","dataIndex","expandable","expandedRowRender","row","render","selectedOrderItems","Order_items","Course","amountPaid","dataSource","pagination","MeRoutes","exact","path","Sider","Layout","FixedSider","StyledMenuItem","IconWrapper","UseIcon","UserOutlined","MePage","location","defaultSelectedKeys","defaultOpenKeys","icon","FileDoneOutlined","marginLeft","record","CoursesTable","courses","item","slice","Content","InfoHeader","ConsoleCoursesPage","margin","memberSlice","memberList","member","isGettingMemberList","isGettingMember","setMemberList","setMember","setErrorMessage","setIsGettingMemberList","setIsGettingMember","getMemberList","getMember","getMemberAPI","updateMemberAuth","authType","updateUserInfoAPI","selectMember","selectMemberList","selectIsGettingMemberList","selectIsGettingMember","MembersTable","members","auth","TableContainer","white","ConsoleMembersPage","Option","Select","Typography","Title","Text","MemberContent","CourseTitle","AuthSelection","selectedUserId","handleChange","MemberDetailPage","useParams","localAuthTypeId","setLocalAuthTypeId","bordered","CourseId","ConsoleRoutes","ConsolePage","BookOutlined","ContactsOutlined","padding","LeftContainer","RightContainerOuter","RightContainerInner","secondary","CartListPage","forEach","el","handleDeleteCartItem","deleteCartItem","DeleteOutlined","pageSize","align","block","Paragraph","FormWrapper","formItemLayout","buttonItemLayout","CheckoutPage","sumCourse","priceString","values","orderData","orderCourses","level","allowClear","SearchWrapper","SearchInfo","URLSearchParams","search","get","selected","setSelected","MyCourseListPage","CourseWrapper","ButtonPlacer","ButtonWrapper","CourseInfoPage","checkIsAlreadyInCart","Number","boughtCourses","addCartItem","disabled","unit_title","number","renderItem","teacherSlice","teacherList","isGettingTeacherList","getTeacherListError","teacher","isGettingTeacher","getTeacherError","setTeacherList","setIsGettingTeacherList","setGetTeacherListError","setTeacher","setIsGettingTeacher","setGetTeacherError","getTeacher","getTeacherAPI","applyTeacher","applyTeacherAPI","updateTeacherInfo","updateTeacherInfoAPI","selectTeacher","selectIsGettingTeacher","TeacherWrapper","TeacherTitle","TeacherInfoPage","Courses","UnitTitle","UnitDescription","UnitVideo","Youtube","UnitPage","url","courseTitle","videoUrl","videoId","URL","opt","justifyContent","playerVars","autoplay","FixedLayout","ScrollSider","prop","StyledImg","ContentWrapper","ClassroomPage","handleClickUnit","PlayCircleOutlined","RegisterPageWrapper","FormItem","beforeUpload","file","isJpgOrPng","isLt2M","TeacherApplyPage","isUploading","setIsUploading","imageUrl","setImageUrl","upload","TextArea","rows","resize","rotate","shape","listType","showUploadList","info","status","returnUrl","response","link","setFieldsValue","borderRadius","LoadingOutlined","PlusOutlined","MyTeachCourseTable","MyTeachCoursePage","FormContainer","range","NewCoursePage","initialValues","min","max","formatter","parser","grid","aspect","modalTitle","Info","TeacherSetting","ListContainer","ListContent","List","ListFooter","UnitText","Unit","dragHandleProps","handleClickEditUnitButton","handleDeleteUnit","MenuOutlined","EditOutlined","CourseUnitsList","unitList","handleAddUnit","index","draggableId","provided","innerRef","draggableProps","cursor","CourseSettingForm","getFieldsValue","validateFields","marginTop","CourseContent","UpdateCoursePage","oldUnitList","newUnitList","getFormValue","handleClickSave","onDragEnd","result","destination","source","reorderedUnitList","list","startIndex","endIndex","Array","from","splice","removed","reorder","droppableId","droppableProps","EditUnitPage","AvatarWrapper","TeacherPage","ReadOutlined","NoLoggingMessage","UnauthorizedMessage","Routes","AntLayout","$fixedsider","consolePage","fixedSiderPage","App","checkIsConsolePage","some","includes","checkIsFixedSiderPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","unitSlice","isLoading","setUnitList","setIsLoading","errorMessageSlice","configureStore","reducer","cartReducer","orderReducer","courseReducer","teacherReducer","userReducer","memberReducer","unitReducer","errorMessageReducer","ReactDOM","StrictMode","dark","document","getElementById"],"mappings":"qUAAaA,EAAuB,uCAEvBC,EAAqB,uC,yCCFrBC,EAAW,uCCAlBC,EAAa,QAEbC,EAAiB,0CAEVC,EAAmB,SAACC,GAC/B,OAAOF,EAAeG,KAAKD,EAASE,aAGzBC,EAAe,SAACC,GAC3BC,aAAaC,QAAQT,EAAYO,IAGtBG,EAAe,kBAAMF,aAAaG,QAAQX,IAEhD,SAASY,EAAWC,GACzB,IAAIC,EAAQD,EAAIR,WAAWU,MAAM,KAEjC,OADAD,EAAM,GAAKA,EAAM,GAAGE,QAAQ,wBAAyB,KAC9C,MAAQF,EAAMG,KAAK,KAGrB,SAASC,EAAcC,GAC5B,OAAQA,GACN,KAAK,EACH,MAAO,2BACT,KAAK,EACH,MAAO,qBACT,KAAK,EACH,MAAO,qBACT,QACE,MAAO,gBC1BN,ICQMC,EAAiB,SAACC,GAAD,OAC5BC,MAAM,GAAD,OAAIvB,EAAJ,4BAAgCsB,GAAM,CACzCE,OAAQ,OACRC,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,WAEVC,EAAoB,SAACR,GAAD,OAC/BC,MAAM,GAAD,OAAIvB,EAAJ,4BAAgCsB,GAAM,CACzCE,OAAQ,SACRC,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,WCpBVE,EAAYC,YAAY,CACnCC,KAAM,OACNC,aAAc,CACZC,SAAU,GACVC,mBAAmB,EACnBC,iBAAkB,KAClBC,kBAAkB,EAClBC,iBAAkB,KAClBC,oBAAoB,EACpBC,oBAAqB,MAEvBC,SAAU,CACRC,YAAa,SAACC,EAAOC,GACnBC,QAAQC,IAAI,eACZH,EAAMT,SAAWU,EAAOG,QACxBJ,EAAMP,iBAAmB,MAE3BY,qBAAsB,SAACL,EAAOC,GAC5BD,EAAMR,kBAAoBS,EAAOG,SAEnCE,oBAAqB,SAACN,EAAOC,GAC3BD,EAAMP,iBAAmBQ,EAAOG,SAElCG,oBAAqB,SAACP,EAAOC,GAC3BD,EAAMN,iBAAmBO,EAAOG,SAElCI,oBAAqB,SAACR,EAAOC,GAC3BD,EAAML,iBAAmBM,EAAOG,SAElCK,sBAAuB,SAACT,EAAOC,GAC7BD,EAAMJ,mBAAqBK,EAAOG,SAEpCM,uBAAwB,SAACV,EAAOC,GAC9BD,EAAMH,oBAAsBI,EAAOG,Y,EAcrCjB,EAAUwB,QAPZZ,E,EAAAA,YACAM,E,EAAAA,qBACAC,E,EAAAA,oBACAC,E,EAAAA,oBACAC,E,EAAAA,oBACAC,E,EAAAA,sBACAC,E,EAAAA,uBAIWE,EAAc,kBAAM,SAACC,GAChCX,QAAQC,IAAI,qBACZU,EAASR,GAAqB,IDrDvB1B,MAAM,GAAD,OAAIvB,EAAJ,UAAsB,CAChCyB,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UCkDJF,MAAK,SAACE,GACrB,GAAgB,IAAZA,EAAK6B,GAIP,OAHAD,EAASd,EAAY,KACrBc,EAASP,EAAoBrB,EAAK8B,oBAClCF,EAASR,GAAqB,IAGhCQ,EAASd,EAAYd,EAAK+B,KAAKC,aAC/BJ,EAASR,GAAqB,OAC7Ba,OAAM,SAAAC,GACPjB,QAAQC,IAAI,QAASgB,QAmCZC,EAAiB,SAACC,GAAD,OAAWA,EAAMC,KAAK/B,UAErCJ,IAAf,QC3FaoC,EAAYnC,YAAY,CACnCC,KAAM,OACNC,aAAc,CACZkC,KAAM,KAENC,cAAe,KACfV,aAAc,MAEhBjB,SAAU,CACR4B,QAAS,SAAC1B,EAAOC,GACfD,EAAMwB,KAAOvB,EAAOG,SAEtBuB,iBAJQ,SAIS3B,EAAOC,GACtBD,EAAMyB,cAAgBxB,EAAOG,SAE/BwB,oBAAqB,SAAC5B,EAAOC,GAC3BD,EAAMe,aAAed,EAAOG,Y,EAU9BmB,EAAUZ,QAHZe,E,EAAAA,QACAC,E,EAAAA,iBACAC,E,EAAAA,oBAIWC,GAAQ,yDAAM,WAAOhB,EAAUiB,GAAjB,eAAAC,EAAA,+DACCD,IADD,EACjBL,eAGNZ,EAASc,GAAiB,IAJH,SHdzBhD,MAAM,GAAD,OAAIvB,EAAJ,aAAyB,CAC5ByB,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UGeJF,MAAK,SAACE,GACrB,GAAgB,IAAZA,EAAK6B,GAIP,OAHAD,EAASa,EAAQ,OACjBb,EAASe,EAAoB3C,EAAK8B,eAE3BF,EAASc,GAAiB,IAEnCd,EAASD,KACTC,EAASa,EAAQzC,EAAK+B,UAdC,gCAiBlBH,EAASc,GAAiB,KAjBR,2CAAN,yDAoBRK,GAAQ,SAACC,EAAOzE,GAAR,OAAqB,SAACqD,GACzC,OAAKoB,GAAUzE,GAIfqD,EAASc,GAAiB,IHpDJ,SAACM,EAAOzE,GAAR,OACtBmB,MAAM,GAAD,OAAIvB,EAAJ,gBAA4B,CAC/ByB,QAAS,CACP,eAAgB,oBAElBD,OAAQ,OACRsD,KAAMC,KAAKC,UAAU,CACnBH,QACAzE,eAEDuB,MAAK,SAACC,GAAD,OAASA,EAAIC,UG2CdoD,CAASJ,EAAOzE,GAAUuB,MAAK,SAACE,GAOrC,OANgB,IAAZA,EAAK6B,IAIPnD,EAAasB,EAAKrB,OAEbqB,MAXA4B,EAASe,EAAoB,oBAc3BU,GAAW,SAACL,EAAOzE,EAAU+E,GAAlB,OAA+B,SAAC1B,GACtD,OAAKoB,GAAUzE,GAAa+E,EH7EH,SAACN,EAAOzE,EAAU+E,GAAlB,OACzB5D,MAAM,GAAD,OAAIvB,EAAJ,mBAA+B,CAClCyB,QAAS,CACP,eAAgB,oBAElBD,OAAQ,OACRsD,KAAMC,KAAKC,UAAU,CACnBH,QACAzE,WACA+E,eAEDxD,MAAK,SAACC,GAAD,OAASA,EAAIC,UGqEduD,CAAYP,EAAOzE,EAAU+E,GAAUxD,MAAK,SAACE,GAQlD,OAPgB,IAAZA,EAAK6B,IAEPnD,EAAasB,EAAKrB,OAKbqB,KAVA4B,EAASe,EAAoB,oBAa3Ba,GAAS,kBAAM,SAAC5B,GAC3BlD,EAAa,IACbkD,EAASa,EAAQ,OACjBb,EAASd,EAAY,OAGV2C,GAAe,SAACH,GAAD,OAAc,SAAC1B,GACzC,OHjE6B,SAAC0B,GAAD,OAC7B5D,MAAM,GAAD,OAAIvB,EAAJ,aAAyB,CAC5ByB,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYf,MAE3Ba,OAAQ,QACRsD,KAAMC,KAAKC,UAAU,CACnBG,eAEDxD,MAAK,SAACC,GAAD,OAASA,EAAIC,UGuDd0D,CAAgBJ,GAAUxD,MAAK,SAACC,GACrC,OAAOA,OAIE4D,GAAmB,SAACC,EAAaC,GAAd,OAA8B,SAACjC,GAE7D,OH5DiC,SAACgC,EAAaC,GAAd,OACjCnE,MAAM,GAAD,OAAIvB,EAAJ,sBAAkC,CACrCyB,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYf,MAE3Ba,OAAQ,QACRsD,KAAMC,KAAKC,UAAU,CACnBS,cACAC,kBAED/D,MAAK,SAACC,GAAD,OAASA,EAAIC,UGiDd8D,CAAoBF,EAAaC,GAAa/D,MAAK,SAACC,GACzD,OAAOA,OAaEgE,GAAa,SAAC3B,GAAD,OAAWA,EAAMG,KAAKA,MAGjCD,KAAf,Q,UC7He,OAA0B,iC,ytDCWjC0B,GAAkBC,IAAlBD,cACAE,GAAWC,IAAXD,OACFE,GAAaC,YAAOC,IAAPD,CAAH,MAKVE,GAAkBF,IAAOG,IAAV,MAEV,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQC,QAU3CC,GAAOT,YAAOU,IAAPV,CAAH,MAOJW,GAAeX,IAAOG,IAAV,KAIdtG,GAKE+G,GAAiBZ,IAAOG,IAAV,KAEhBtG,GAIEgH,GAAeb,IAAOG,IAAV,MAIZW,GAAad,YAAOe,IAAPf,CAAH,KAMZnG,GAIEmH,GAAiBhB,IAAOG,IAAV,MAIJ,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQU,SAUpC,SAACb,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQU,SAOlDC,GAAWlB,YAAOmB,KAAPnB,CAAH,MACH,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQC,QAGpC,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQU,SAI7CG,GAAW,SAAC,GAMX,IALLC,EAKI,EALJA,YACAC,EAII,EAJJA,eACAC,EAGI,EAHJA,SACAC,EAEI,EAFJA,YACAC,EACI,EADJA,WAEQC,EAAO/B,KAAP+B,GACR,OACE,eAAC3B,GAAD,CACE4B,KAAMD,EAAK,aAAe,SAC1BE,QAASJ,EACTK,aAAcJ,EACdK,MAAO,CACLC,QAAS,OACTC,WAAY,UANhB,UASE,cAACnC,GAAD,CACEoC,MAAOZ,EACPa,SAAU,SAACC,GAAD,OAAOb,EAAea,EAAEF,QAClCG,YAAY,2BACZb,SAAUA,EACVO,MAAO,CAAEO,MAAO,OAElB,cAAC,IAAKC,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,WAAT,uCADa,eAOfC,GAAY,SAAC,GAAqD,IAAnDtE,EAAkD,EAAlDA,KAAMuE,EAA4C,EAA5CA,aAAcjB,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,WAC5CC,EAAO/B,KAAP+B,GACR,OACE,eAAC3B,GAAD,CACE4B,KAAMD,EAAK,aAAe,SAC1BE,QAASJ,EACTK,aAAcJ,EAHhB,UAKGvD,GACC,qCACuB,IAApBA,EAAKwE,YACJ,cAAC,IAAKJ,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,iBAAT,uCADa,iBAIjB,cAAC,IAAKD,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,aAAT,uCADa,aAGf,cAAC,IAAKD,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,MAAT,uCADa,aAGM,IAApBrE,EAAKwE,YACJ,cAAC,IAAKJ,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,WAAT,uCADa,WAII,IAApBrE,EAAKwE,YACJ,cAAC,IAAKJ,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,WAAT,uCADa,WAIjB,cAAC,IAAKD,KAAN,CAAwBV,QAASa,EAAjC,SACE,cAAC,IAAD,CAAMF,GAAG,IAAT,2BADa,cAKjBrE,GACA,qCACE,cAAC,IAAKoE,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,YAAT,2BADa,YAGf,cAAC,IAAKD,KAAN,UACE,cAAC,IAAD,CAAMC,GAAG,SAAT,2BADa,gBAqBV,SAASI,KACtB,IAAMpF,EAAWqF,cACXC,EAAUC,cAEVC,EADWC,cACSD,SACpB9G,EAAWgH,YAAYnF,GACvBI,EAAO+E,YAAYvD,IANM,EAOOwD,mBAAS,IAPhB,mBAOxB7B,EAPwB,KAOXC,EAPW,OAQK4B,mBAAS,IARd,mBAQxBzB,EARwB,KAQZ0B,EARY,KAU/BC,qBAAU,WACRxG,QAAQC,IAAI,UACZsG,EAxBJ,SAAuBJ,GACrB,OAAqC,IAAjCA,EAASM,QAAQ,YAA0B,UACJ,IAAvCN,EAASM,QAAQ,kBAAgC,gBACd,IAAnCN,EAASM,QAAQ,cAA4B,YACjB,IAA5BN,EAASM,QAAQ,OAAqB,KACL,IAAjCN,EAASM,QAAQ,YAA0B,UACV,IAAjCN,EAASM,QAAQ,YAA0B,UACT,IAAlCN,EAASM,QAAQ,aAA2B,WACb,IAA/BN,EAASM,QAAQ,UAAwB,QACtC,QAeSC,CAAcP,MAC3B,CAACA,IAEJ,IAAMxB,EAAW,SAACU,GACZA,IACFX,EAAe,IACfuB,EAAQU,KAAR,2BAAiCtB,MAI/BQ,EAAe,WACnBlF,EAAS4B,OAvBoB,EA0BL+D,mBAAS,CAAEM,SAAS,IA1Bf,mBA0BxB9G,EA1BwB,KA0BjB+G,EA1BiB,KAiCzBjC,EAAc,WAClBiC,EAAS,CACPD,SAAS,KAIb,OACE,eAACtD,GAAD,WACE,cAACO,GAAD,CAAM8B,GAAG,IAAT,SACE,qBAAKmB,IAAKC,GAAMC,IAAI,oBAEtB,eAACjD,GAAD,WACE,cAACC,GAAD,UACE,cAAC,GAAD,CACES,YAAaA,EACbE,SAAUA,EACVD,eAAgBA,EAChBG,WAAYA,MAGhB,eAACZ,GAAD,WACE,cAAC,IAAD,CAAOgD,MAAO5H,EAAS6H,OAAQC,OAAQ,CAAC,IAAxC,SACE,cAAC,IAAD,CAAMxB,GAAG,QAAT,SACE,cAACrB,GAAD,QAGJ,cAACN,GAAD,UACE,cAAC,GAAD,CACE1C,KAAMA,EACNjC,SAAUA,EACVwG,aAAcA,EACdhB,WAAYA,SAIlB,cAACX,GAAD,CAAYc,QAxCE,WAClB6B,EAAS,CACPD,SAAS,KAsCP,SACE,cAACxC,GAAD,MAEF,eAAC,IAAD,CACEgD,MAAM,QACNC,UAAU,MACVC,UAAU,EACVC,QAAS3C,EACTgC,QAAS9G,EAAM8G,QALjB,UAOE,cAAC,GAAD,CACEnC,YAAaA,EACbE,SAAUA,EACVD,eAAgBA,EAChBE,YAAaA,EACbC,WAAYA,IAEd,cAAC,GAAD,CACEvD,KAAMA,EACNjC,SAAUA,EACVwG,aAAcA,EACdjB,YAAaA,EACbC,WAAYA,a,inBC7QxB,IAAM2C,GAAkBpE,IAAOG,IAAV,MAGL,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAO+D,QACnC,SAACjE,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQC,QAE3C8D,GAAWtE,YAAOuE,KAAPvE,CAAH,MAIRwE,GAAexE,IAAOG,IAAV,MAeH,SAASsE,KAGtB,OACE,cAACL,GAAD,UACE,eAAC,KAAD,CAAKM,OAAQ,CAAC,EAAG,CAAEC,GAAI,GAAIjD,GAAI,IAA/B,UACE,eAAC,KAAD,CAAKkD,GAAI,GAAIlD,GAAI,EAAjB,UACE,6BACE,gEAEF,2DACA,8DAEF,eAAC4C,GAAD,CAAUM,GAAI,GAAIlD,GAAI,EAAtB,UACE,6BACE,gEAEF,eAAC8C,GAAD,WACE,cAACK,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,IACA,mBACEC,KAAK,6CACLlD,MAAO,CAAEmD,MAAO,SAFlB,SAIE,cAACC,GAAA,EAAD,YAIN,eAAC,KAAD,CACEN,GAAI,GACJlD,GAAI,GACJI,MAAO,CACLqD,SAAU,IAJd,UAOE,kEAEA,sBACErD,MAAO,CACLqD,SAAU,IAFd,UAKE,mBAAGH,KAAK,6CAAR,wEAGA,gDACgB,IACd,mBAAGA,KAAK,0BAA0BhB,MAAM,UAAxC,qBAEK,IAJP,OAKO,IACL,mBAAGgB,KAAK,4BAA4BhB,MAAM,WAA1C,4C,ynBCjFNoB,GAASC,KAATD,KACFE,GAActF,IAAOG,IAAV,MACL,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAC/B,SAACnF,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAKnDC,GAAcxF,YAAOU,IAAPV,CAAH,MAYXyF,IAHUzF,IAAOG,IAAV,MAGCH,IAAOG,IAAV,MAIA,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,SAGlC,SAASG,GAAT,GAA2C,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,SAC3C,OACE,qCACE,cAAC,IAAD,CAAMrD,GAAE,mBAAcoD,EAAOvK,IAA7B,SACE,cAACkK,GAAD,UACE,eAAC,KAAD,CAAMO,MAAO,qBAAKjC,IAAI,cAAcF,IAAKiC,EAAOG,SAAhD,UACE,cAACV,GAAD,CACEpB,MAAO2B,EAAO3B,SAEZ4B,GAAY,cAACH,GAAD,UAAQ9K,EAAWgL,EAAOI,gBAI/CJ,EAAOK,SACN,cAACR,GAAD,CAAajD,GAAE,wBAAmBoD,EAAOM,WAAzC,SACE,cAAC,KAAD,CAAQC,KAAM,QAASxC,IAAKiC,EAAOK,QAAQG,iB,kPC5CrD,IAAMC,GAAiBpG,IAAOG,IAAV,MAoBLkG,OARf,WACE,OACE,cAACD,GAAD,UACE,cAAC,KAAD,CAAMF,KAAM,a,SCJLI,GAAcxK,YAAY,CACrCC,KAAM,SACNC,aAAc,CACZuK,iBAAiB,EACjBC,eAAgB,KAChBC,WAAY,GACZd,OAAQ,KACRe,aAAc,KACdC,kBAAmB,KACnBC,aAAc,KACdC,KAAM,MAERrK,SAAU,CACRsK,cAAe,SAACpK,EAAOC,GACrBD,EAAM+J,WAAa9J,EAAOG,QAC1BJ,EAAM8J,eAAiB,MAEzBO,mBAAoB,SAACrK,EAAOC,GAC1BD,EAAM6J,gBAAkB5J,EAAOG,SAEjCkK,kBAAmB,SAACtK,EAAOC,GACzBD,EAAM8J,eAAiB7J,EAAOG,SAEhCmK,UAAW,SAACvK,EAAOC,GACjBD,EAAMiJ,OAAShJ,EAAOG,QACtBJ,EAAM8J,eAAiB,MAEzBU,gBAAiB,SAACxK,EAAOC,GACvBD,EAAMgK,aAAe/J,EAAOG,QAC5BJ,EAAM8J,eAAiB,MAEzBW,qBAAsB,SAACzK,EAAOC,GAC5BD,EAAMiK,kBAAoBhK,EAAOG,QACjCJ,EAAM8J,eAAiB,MAEzBY,gBAAiB,SAAC1K,EAAOC,GACvBD,EAAMkK,aAAejK,EAAOG,QAC5BJ,EAAM8J,eAAiB,MAEzBa,QAAS,SAAC3K,EAAOC,GACfD,EAAMmK,KAAOlK,EAAOG,QACpBJ,EAAM8J,eAAiB,S,GAezBF,GAAYjJ,QARd0J,G,GAAAA,mBACAC,G,GAAAA,kBACAF,G,GAAAA,cACAG,G,GAAAA,UACAC,G,GAAAA,gBACAC,G,GAAAA,qBACAC,G,GAAAA,gBACAC,G,GAAAA,QAIWC,GAAgB,SAACC,GAAD,OAAY,SAAChK,GACxCA,EAASwJ,IAAmB,ICxEE,WAOpB,IAAD,yDAAP,GAAO,IANTS,eAMS,MANC,GAMD,MALTC,YAKS,MALF,GAKE,MAJTC,aAIS,MAJH,GAIG,MAHTC,YAGS,MAHF,KAGE,MAFTC,aAES,MAFD,MAEC,MADTC,iBACS,MADG,GACH,EAET,OADAjL,QAAQC,IAAI,UAAW2K,GAChBnM,MAAM,GAAD,OACPvB,EADO,6BACsB0N,EADtB,kBACuCG,EADvC,mBACsDC,EADtD,kBACqEH,EADrE,mBACoFC,EADpF,oBACqGG,GAC/G,CACEtM,QAAS,CACPC,cAAc,UAAD,OAAYf,QAG7BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UDyDpBmM,CAAiBP,GACd9L,MAAK,SAACE,GACL,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASyJ,GAAkBrL,EAAK8B,oBAChCF,EAASwJ,IAAmB,IAI9BxJ,EAASuJ,GAAcnL,EAAK+B,OAC5BH,EAASwJ,IAAmB,OAE7BnJ,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAGdkK,GAAY,SAAC3M,GAAD,OAAQ,SAACmC,GAChCA,EAASwJ,IAAmB,ICtEF,SAAC3L,GAAD,OAC1BC,MAAM,GAAD,OAAIvB,EAAJ,oBAAwBsB,GAAM,CACjCG,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UDkErBqM,CAAa5M,GACVK,MAAK,SAACE,GACL,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASyJ,GAAkBrL,EAAK8B,oBAChCF,EAASwJ,IAAmB,IAI9BxJ,EAAS0J,GAAUtL,EAAK+B,OACxBH,EAASwJ,IAAmB,OAE7BnJ,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAGdoK,GAAkB,kBAAM,SAAC1K,GACpCA,EAASwJ,IAAmB,ICH5B1L,MAAM,GAAD,OAAIvB,EAAJ,8BAA0C,CAC7CyB,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UDClBF,MAAK,SAACE,GACL,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASyJ,GAAkBrL,EAAK8B,oBAChCF,EAASwJ,IAAmB,IAI9BxJ,EAAS2J,GAAgBvL,EAAK+B,OAC9BH,EAASwJ,IAAmB,OAE7BnJ,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAGdqK,GAAuB,kBAAM,SAAC3K,GACzCA,EAASwJ,IAAmB,ICb5B1L,MAAM,GAAD,OAAIvB,EAAJ,6BAAyC,CAC5CyB,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UDWlBF,MAAK,SAACE,GACL,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASyJ,GAAkBrL,EAAK8B,oBAChCF,EAASwJ,IAAmB,IAI9BxJ,EAAS4J,GAAqBxL,EAAK+B,OACnCH,EAASwJ,IAAmB,OAE7BnJ,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAMdsK,GAAY,SAAC,GAAD,IAAGnE,EAAH,EAAGA,MAAOoE,EAAV,EAAUA,YAAarC,EAAvB,EAAuBA,MAAOD,EAA9B,EAA8BA,OAA9B,OAA2C,SAACvI,GACnE,OCrH0B,SAACyG,EAAO+B,EAAOqC,EAAatC,GAA5B,OAC1BzK,MAAM,GAAD,OAAIvB,EAAJ,YAAwB,CAC3BwB,OAAQ,OACRC,QAAS,CACPC,cAAc,UAAD,OAAYf,KACzB,eAAgB,oBAElBmE,KAAMC,KAAKC,UAAU,CACnBkF,QACA+B,QACAqC,cACAtC,aAEDrK,MAAK,SAACC,GAAD,OAASA,EAAIC,UDwGd0M,CAAarE,EAAO+B,EAAOqC,EAAatC,GAC5CrK,MAAK,SAACE,GACL,OAAOA,KAERiC,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAIdyK,GAAe,SAACC,EAAD,OAAYvE,EAAZ,EAAYA,MAAO+B,EAAnB,EAAmBA,MAAOqC,EAA1B,EAA0BA,YAAaI,EAAvC,EAAuCA,SAAUC,EAAjD,EAAiDA,UAAW3C,EAA5D,EAA4DA,OAA5D,OAAyE,SACnGvI,GAEA,GAAKgL,GAAavE,KAAS+B,EAAQ,IAAMqC,QAA4BM,IAAbF,GAA2BC,GAAc3C,EACjG,OC1G6B,SAC7ByC,EAD6B,OAE3BvE,EAF2B,EAE3BA,MAAO+B,EAFoB,EAEpBA,MAAOqC,EAFa,EAEbA,YAAaI,EAFA,EAEAA,SAAUC,EAFV,EAEUA,UAAW3C,EAFrB,EAEqBA,OAFrB,OAI7BzK,MAAM,GAAD,OAAIvB,EAAJ,oBAAwByO,GAAY,CACvCjN,OAAQ,QACRC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYf,MAE3BmE,KAAMC,KAAKC,UAAU,CACnBkF,QACA+B,QACAqC,cACAI,WACAC,YACA3C,aAEDrK,MAAK,SAACC,GAAD,OAASA,EAAIC,UDwFdgN,CAAgBJ,EAAU,CAACvE,QAAO+B,QAAOqC,cAAaI,WAAUC,YAAW3C,WAC/ErK,MAAK,SAACE,GACL,OAAOA,KAERiC,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAKd+K,GAAkB,SAACL,GAAD,OAAc,SAAChL,GAC5CA,EAASwJ,IAAmB,ICnDI,SAACwB,GAAD,OAChClN,MAAM,GAAD,OAAIvB,EAAJ,2BAA+ByO,GAAY,CAC9ChN,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UD+CrBkN,CAAmBN,GAChB9M,MAAK,SAACE,GACL,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASyJ,GAAkBrL,EAAK8B,oBAChCF,EAASwJ,IAAmB,IAI9BxJ,EAAS6J,GAAgB,6BAAIzL,EAAK+B,MAAV,IAAgB+K,UAAW5J,KAAKiK,MAAMnN,EAAK+B,KAAK+K,eACxElL,EAASwJ,IAAmB,OAE7BnJ,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAIdkL,GAAkB,SAACR,EAAUS,GAAX,OAAsB,SAACzL,GACpDA,EAASwJ,IAAmB,IC9DI,SAACwB,EAAUS,GAAX,OAChC3N,MAAM,GAAD,OAAIvB,EAAJ,oBAAwByO,EAAxB,kBAA0CS,GAAU,CACvDzN,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UD0DrBsN,CAAmBV,EAAUS,GAC1BvN,MAAK,SAACE,GACL,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASyJ,GAAkBrL,EAAK8B,oBAChCF,EAASwJ,IAAmB,IAI9BxJ,EAAS8J,GAAQ1L,EAAK+B,OACtBH,EAASwJ,IAAmB,OAE7BnJ,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAIdqL,GAAqB,SAACX,EAAUS,EAAQnC,GAAnB,OAA4B,SAACtJ,GAE7D,OADAA,EAASwJ,IAAmB,ICzEO,SAACwB,EAAUS,EAAQnC,GAAnB,OACnCxL,MAAM,GAAD,OAAIvB,EAAJ,oBAAwByO,EAAxB,kBAA0CS,GAAU,CACvD1N,OAAQ,QACRC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYf,MAE3BmE,KAAMC,KAAKC,UAAU,CACnB+H,WAEDpL,MAAK,SAACC,GAAD,OAASA,EAAIC,UDgEdwN,CAAsBZ,EAAUS,EAAQnC,GAC5CpL,MAAK,SAACE,GACL,OAAgB,IAAZA,EAAK6B,IACPD,EAASyJ,GAAkBrL,EAAK8B,eAChCF,EAASwJ,IAAmB,IACrBpL,IAGT4B,EAASwJ,IAAmB,IACrBpL,MAERiC,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAKduL,GAAwB,SAACrL,GAAD,OAAWA,EAAM4H,OAAOY,iBAChD8C,GAAmB,SAACtL,GAAD,OAAWA,EAAM4H,OAAOc,YAC3C6C,GAAe,SAACvL,GAAD,OAAWA,EAAM4H,OAAOA,QACvC4D,GAAqB,SAACxL,GAAD,OAAWA,EAAM4H,OAAOe,cAC7C8C,GAA0B,SAACzL,GAAD,OAAWA,EAAM4H,OAAOgB,mBAClD8C,GAAqB,SAAC1L,GAAD,OAAWA,EAAM4H,OAAOiB,cAC7C8C,GAAa,SAAC3L,GAAD,OAAWA,EAAM4H,OAAOkB,MAEnCP,MAAf,Q,mBExOe,OAA0B,uCCA1B,OAA0B,uCCA1B,OAA0B,uC,0fCmBzC,IAAMqD,GAAc3J,IAAOG,IAAV,MACXyJ,GAAQ5J,IAAOG,IAAV,MACA,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAO3CsE,GAAiB7J,IAAOG,IAAV,MAGd2J,GAAoB9J,IAAOG,IAAV,MACZ,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAOlC,SAASwE,KACtB,IAAMxM,EAAWqF,cACX6D,EAAaxD,YAAYoG,IACzBW,EAAsB/G,YAAYmG,IAkBxC,OAfAhG,qBAAU,WAUR,OARA7F,EACE+J,GAAc,CACZG,KAAM,EACNC,MAAO,EACPE,MAAO,UAIJ,WACLrK,EAASuJ,GAAc,QAExB,CAACvJ,IAGF,mCACE,eAACoM,GAAD,WACE,cAACC,GAAD,UACE,uJAGF,eAAC,YAAD,CACEK,YAAY,EACZC,YAAY,EACZC,UAAU,EACVC,cAAc,EAJhB,UAME,8BACE,qBAAK1G,IAAK2G,GAAYzG,IAAI,UAE5B,8BACE,qBAAKF,IAAK4G,GAAY1G,IAAI,UAE5B,8BACE,qBAAKF,IAAK6G,GAAY3G,IAAI,aAG7BoG,GAAuB,cAAC,GAAD,IACtBA,GAA6C,IAAtBvD,EAAW3C,OAGlC,eAAC+F,GAAD,WACE,cAACC,GAAD,mDACA,cAAC,KAAD,CAAKpF,OAAQ,CAAC,CAAEE,GAAI,GAAID,GAAI,GAAIjD,GAAI,GAAI8I,GAAI,IAAM,IAAlD,SACG/D,EACEgE,QAAO,SAAC9E,GAAD,OAAYA,EAAO6C,YAC1BkC,KAAI,SAAC/E,GAAD,OACH,cAAC,KAAD,CAAqBf,GAAI,GAAIlD,GAAI,EAAG8I,GAAI,EAAxC,SACE,cAAC9E,GAAD,CAAYC,OAAQA,KADZA,EAAOvK,YARzB,cAACwO,GAAD,4C,6mBC9EV,IAAMe,GAAW3K,IAAOG,IAAV,MAIQ,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAKtDqF,GAAY5K,IAAOG,IAAV,MAoBT0K,GAAmB7K,YAAOU,IAAPV,CAAH,MAEX,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAK3CuF,GAAa9K,YAAO+K,KAAP/K,CAAH,MAIVgL,GAAS,CACbC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAGJE,GAAa,CACjBD,WAAY,CACVD,KAAM,KAGJG,GAAmB,CACvBC,SAAU,uBACVC,MAAO,CACL5M,MAAO,2DAII,SAAS6M,KACtB,IAAM3I,EAAUC,cACVvF,EAAWqF,cACX1E,EAAO+E,YAAYvD,IAEzB+L,IAAMrI,WAAU,WACd,GAAIlF,EACF,OAAO2E,EAAQU,KAAK,OAErB,CAACrF,EAAM2E,IA2BV,OACE,eAAC8H,GAAD,WACE,cAACC,GAAD,2BACA,cAACC,GAAD,CAAkBtI,GAAG,YAArB,6CACA,eAACuI,GAAD,6BACME,IADN,IAEEjP,KAAK,QACL2P,SAhCe,SAACzJ,GAAW,IACvBtD,EAAoBsD,EAApBtD,MAAOzE,EAAa+H,EAAb/H,SACfyR,KAAQC,QAAQ,CACdC,QAAS,qBACTC,IAAK,YACLC,SAAU,IAEZxO,EAASmB,GAAMC,EAAOzE,IAAWuB,MAAK,SAACE,GACrC,OAAgB,IAAZA,EAAK6B,IACPmO,KAAQK,QAAQ,CACdH,QAAS,2BACTC,IAAK,YACLC,SAAU,IAEZxO,EAASgB,MACFsE,EAAQU,KAAK,MAEfoI,KAAQM,MAAM,CACnBJ,QAASlQ,EAAK8B,aACdqO,IAAK,YACLC,SAAU,QAaVV,iBAAkBA,GAJpB,UAME,cAAC,KAAK/I,KAAN,CACE4J,MAAM,QACNnQ,KAAK,QACLoQ,MAAO,CAAC,CAAEb,UAAU,EAAMc,KAAM,UAHlC,SAKE,cAAC,IAAD,CAAOhK,YAAY,yEAErB,cAAC,KAAKE,KAAN,CACE4J,MAAM,WACNnQ,KAAK,WACLoQ,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,cAAC,IAAMe,SAAP,CAAgBjK,YAAY,6DAE9B,cAAC,KAAKE,KAAN,6BAAe8I,IAAf,aACE,cAAC,IAAD,CAAQkB,SAAS,SAASF,KAAK,UAA/B,8B,qlBCxHV,IAAMG,GAAcvM,IAAOG,IAAV,MAIK,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAKtDqF,GAAY5K,IAAOG,IAAV,MAITqM,GAAoBxM,YAAOU,IAAPV,CAAH,MAEZ,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAK3CuF,GAAa9K,YAAO+K,KAAP/K,CAAH,MAGVgL,GAAS,CACbC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAGJE,GAAa,CACjBD,WAAY,CACVD,KAAM,KAGJG,GAAmB,CACvBC,SAAU,uCACVC,MAAO,CACL5M,MAAO,2DAII,SAAS8N,KACtB,IAAM5J,EAAUC,cACV5E,EAAO+E,YAAYvD,IACnBnC,EAAWqF,cAEjB6I,IAAMrI,WAAU,WACVlF,GACF2E,EAAQU,KAAK,OAEd,CAACrF,EAAM2E,IA2BV,OACE,eAAC0J,GAAD,WACE,cAAC,GAAD,2BACA,cAACC,GAAD,CAAmBjK,GAAG,SAAtB,mDACA,eAAC,GAAD,6BACMyI,IADN,IAEEjP,KAAK,WACL2P,SAhCe,SAACzJ,GAAW,IACvBtD,EAA8BsD,EAA9BtD,MAAOzE,EAAuB+H,EAAvB/H,SAAU+E,EAAagD,EAAbhD,SACzB0M,KAAQC,QAAQ,CACdC,QAAS,qBACTC,IAAK,gBACLC,SAAU,IAEZxO,EAASyB,GAASL,EAAOzE,EAAU+E,IAAWxD,MAAK,SAACE,GAClD,OAAgB,IAAZA,EAAK6B,IACPmO,KAAQK,QAAQ,CACdH,QAAS,2BACTC,IAAK,gBACLC,SAAU,IAEZxO,EAASgB,MACFsE,EAAQU,KAAK,MAEfoI,KAAQM,MAAM,CACnBJ,QAASlQ,EAAK8B,aACdqO,IAAK,gBACLC,SAAU,QAaVV,iBAAkBA,GAJpB,UAME,cAAC,KAAK/I,KAAN,CACE4J,MAAM,QACNnQ,KAAK,QACLoQ,MAAO,CACL,CACEC,KAAM,QACNd,UAAU,IANhB,SAUE,cAAC,IAAD,CAAOlJ,YAAY,iDAErB,cAAC,KAAKE,KAAN,CACE4J,MAAM,WACNnQ,KAAK,WACLoQ,MAAO,CACL,CACEb,UAAU,GAEZ,cAAGoB,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAGC,GACX,OAAKA,GAAc5S,EAAiB4S,GAC3BC,QAAQC,UAEVD,QAAQE,OAAO,6CAI5BC,MAAM,sGAhBR,SAkBE,cAAC,IAAMZ,SAAP,CAAgBjK,YAAY,qCAE9B,cAAC,KAAKE,KAAN,CACE4J,MAAM,mBACNnQ,KAAK,UACLmR,aAAc,CAAC,YACfD,MAAM,6CACNd,MAAO,CACL,CACEb,UAAU,GAEZ,gBAAGoB,EAAH,EAAGA,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAGC,GACX,OAAKA,GAAcH,EAAc,cAAgBG,EAG1CC,QAAQE,OAAO,iEAFbF,QAAQC,cAZzB,SAmBE,cAAC,IAAMV,SAAP,MAEF,cAAC,KAAK/J,KAAN,CACE4J,MAAM,WACNnQ,KAAK,WACLoQ,MAAO,CACL,CACEb,UAAU,IALhB,SASE,cAAC,IAAD,CAAOlJ,YAAY,qCAErB,cAAC,KAAKE,KAAN,6BAAe8I,IAAf,aACE,cAAC,IAAD,CAAQkB,SAAS,SAASF,KAAK,UAAUlG,KAAK,QAA9C,oC,8GCjJV,IAAMiH,GAAanN,IAAOG,IAAV,MAGV6K,GAAS,CACbC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAGJE,GAAa,CACjBD,WAAY,CACVD,KAAM,KAGJG,GAAmB,CACvBC,SAAU,wCAGN8B,GAAaC,sBAAW,WAAmBC,GAAS,IAAzBC,EAAwB,EAAxBA,aAAwB,EACxCxC,KAAKyC,UAAbC,EADgD,oBAEjDlQ,EAAWqF,cACXC,EAAUC,cAEhB4K,8BAAoBJ,GAAK,iBAAO,CAC9BK,UAAW,WACTF,EAAKG,cACLrQ,EAASe,EAAoB,YAmCjC,OACE,cAAC6O,GAAD,UACE,eAAC,KAAD,2BACEM,KAAMA,GACFzC,IAFN,IAGEjP,KAAK,iBACL2P,SArCe,SAACzJ,GAAW,IACvB1C,EAA6B0C,EAA7B1C,YAAaC,EAAgByC,EAAhBzC,YACrBmM,KAAQC,QAAQ,CACdC,QAAS,iCACTC,IAAK,aACLC,SAAU,IAGZxO,EAAS+B,GAAiBC,EAAaC,IAAc/D,MAAK,SAACE,GAEzD,GAAgB,IAAZA,EAAK6B,GAOP,OANAmO,KAAQK,QAAQ,CACdH,QAAS,uCACTC,IAAK,aACLC,SAAU,IAEZwB,EAAa,8IACNM,YAAW,WAChBtQ,EAAS4B,MACT0D,EAAQU,KAAK,YACZ,KAGLoI,KAAQM,MAAM,CACZJ,QAASlQ,EAAK8B,aACdqO,IAAK,aACLC,SAAU,QAYVV,iBAAkBA,GALpB,UAOE,cAAC,KAAK/I,KAAN,CACE4J,MAAM,qBACNnQ,KAAK,cACLoQ,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,cAAC,IAAMe,SAAP,MAEF,cAAC,KAAK/J,KAAN,CACE4J,MAAM,qBACNnQ,KAAK,cACLoQ,MAAO,CACL,CAAEb,UAAU,GACZ,cAAGoB,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAGC,GACX,OAAKA,GAAc5S,EAAiB4S,GAC3BC,QAAQC,UAEVD,QAAQE,OAAO,6CAI5BC,MAAM,gJAdR,SAgBE,cAAC,IAAMZ,SAAP,MAEF,cAAC,KAAK/J,KAAN,CACE4J,MAAM,2BACNnQ,KAAK,UACLmR,aAAc,CAAC,eACff,MAAO,CACL,CAAEb,UAAU,GACZ,gBAAGoB,EAAH,EAAGA,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAGC,GACX,OACGA,GACDH,EAAc,iBAAmBG,EAI5BC,QAAQE,OAAO,iEAFbF,QAAQC,cAMvBE,MAAM,6CAlBR,SAoBE,cAAC,IAAMZ,SAAP,MAEF,cAAC,KAAK/J,KAAN,6BAAe8I,IAAf,aACE,cAAC,IAAD,CAAQkB,SAAS,SAASF,KAAK,UAA/B,sCASK,SAAS0B,GAAT,GAAuD,IAAxBtK,EAAuB,EAAvBA,QAASuK,EAAc,EAAdA,WAC/CC,EAAWC,mBADkD,EAMjCxC,IAAMvI,WAN2B,mBAM5DgL,EAN4D,KAMjDX,EANiD,KAYnE,OAJAnK,qBAAU,WACRmK,EAAa,cAACH,GAAD,CAAYG,aAAcA,EAAcD,IAAKU,OACzD,IAGD,cAAC,KAAD,CACEhK,MAAM,2BACNmK,SAbe,WACjBJ,GAAW,GACXC,EAASI,QAAQT,aAYfU,WAAY,kBAAM/P,EAAoB,OACtCkF,QAASA,EACT8K,OAAQ,KACRpK,UAAQ,EANV,SAQGgK,I,kaC5JP,IAAMvE,GAAc3J,IAAOG,IAAV,MAKXoO,GAAUvO,YAAOwO,KAAPxO,CAAH,MAGPyO,GAAYzO,YAAOuE,KAAPvE,CAAH,MAGT0O,GAAa1O,YAAOuE,KAAPvE,CAAH,MAGRH,GAAWC,IAAXD,OAEO,SAAS8O,KACtB,IAAMpR,EAAWqF,cACX1E,EAAO+E,YAAYvD,IAFc,EAqCTwD,oBAAS,GArCA,mBAqChCM,EArCgC,KAqCvBuK,EArCuB,KA0CvC,OACE,eAAC,GAAD,WACE,eAACQ,GAAD,WACE,cAACE,GAAD,CAAWvD,KAAM,GAAjB,yBACA,cAACwD,GAAD,CAAYxD,KAAM,GAAlB,SAAuBhN,EAAKS,WAE9B,eAAC4P,GAAD,WACE,cAACE,GAAD,CAAWvD,KAAM,GAAjB,4CACA,cAACwD,GAAD,CAAYxD,KAAM,GAAlB,SACG,IAAI0D,KAAK1Q,EAAK2Q,WAAWC,sBAG9B,eAACP,GAAD,WACE,cAACE,GAAD,CAAWvD,KAAM,GAAjB,4CACA,cAACwD,GAAD,CAAYxD,KAAM,GAAlB,SACG,IAAI0D,KAAK1Q,EAAK6Q,WAAWD,sBAG9B,eAACP,GAAD,WACE,cAACE,GAAD,CAAWvD,KAAM,GAAjB,gCACA,cAACwD,GAAD,CAAYxD,KAAM,EAAlB,SACE,cAAC,GAAD,CACE8D,aAAc9Q,EAAKe,SACnBgQ,YAAY,2BACZ1N,SA9DwB,SAACU,GAC7BA,IAAU/D,EAAKe,UAQnB0M,KAAQC,QAAQ,CACdC,QAAS,iCACTC,IAAK,aACLC,SAAU,IAGZxO,EAAS6B,GAAa6C,IAAQxG,MAAK,SAACE,GAClC,GAAgB,IAAZA,EAAK6B,GAMP,OALAmO,KAAQK,QAAQ,CACdH,QAAS,uCACTC,IAAK,aACLC,SAAU,IAELxO,EAASgB,MAElBoN,KAAQM,MAAM,CACZJ,QAASlQ,EAAK8B,aACdqO,IAAK,aACLC,SAAU,QAzBZJ,KAAQuD,QAAQ,CACdrD,QAAS,2BACTC,IAAK,aACLC,SAAU,YA6DZ,cAAC,IAAD,CAAQK,KAAK,UAAUlG,KAAK,QAAQiJ,QAAM,EAACvN,QAhC7B,WAChBmM,GAAW,IA+BT,sCAGA,cAACD,GAAD,CAAqBtK,QAASA,EAASuK,WAAYA,O,cC/F5CqB,GAAatT,YAAY,CACpCC,KAAM,QACNC,aAAc,CACZqT,cAAe,KACfC,gBAAgB,EAChBC,kBAAmB,KACnBC,UAAW,MAEbhT,SAAU,CACRiT,iBAAkB,SAAC/S,EAAOC,GACxBD,EAAM2S,cAAgB1S,EAAOG,SAE/B4S,kBAAmB,SAAChT,EAAOC,GACzBD,EAAM4S,eAAiB3S,EAAOG,SAEhC6S,qBAAsB,SAACjT,EAAOC,GAC5BD,EAAM6S,kBAAoB5S,EAAOG,SAEnC8S,aAAc,SAAClT,EAAOC,GACpBD,EAAM8S,UAAY7S,EAAOG,Y,GAW3BsS,GAAW/R,QAFbsS,I,GAFAF,iB,GACAC,kB,GACAC,sBACAC,G,GAAAA,aAIWC,GAAY,SAACnS,GAAD,OAAU,SAACH,GAClC,OCpC0B,SAACG,GAC3B,OAAOrC,MAAM,GAAD,OAAIvB,EAAJ,WAAuB,CACjCwB,OAAQ,OACRC,QAAS,CACPC,cAAc,UAAD,OAAYf,KACzB,eAAgB,oBAElBmE,KAAMC,KAAKC,UAAUpB,KACpBjC,MAAK,SAACC,GAAD,OAASA,EAAIC,UD4BdmU,CAAapS,GACjBjC,MAAK,SAACE,GACL,OAAOA,KAERiC,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAIdkS,GAAiB,kBAAM,SAACxS,GACnC,OClCOlC,MAAM,GAAD,OAAIvB,EAAJ,cAA0B,CACpCyB,QAAS,CACPC,cAAc,UAAD,OAAYf,QAG1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBiC,OAAM,SAACqO,GAAD,OAAWrP,QAAQC,IAAIoP,MD4BLxQ,MAAK,SAAC+T,GAC/B,GAAqB,IAAjBA,EAAUhS,GACZ,OAAOD,EAASoS,GAAqBH,EAAU/R,eACjDF,EAASqS,GAAaJ,EAAU9R,YAMvBsS,GAAkB,SAACjS,GAAD,OAAWA,EAAM6J,MAAM4H,WAEvCJ,MAAf,Q,8TElDA,IAAMzF,GAAc3J,IAAOG,IAAV,MAGX8P,GAAiBjQ,IAAOG,IAAV,MAKd+P,GAAYlQ,IAAOmQ,IAAV,MAIA,SAASxB,KACtB,IAAMpR,EAAWqF,cACX4M,EAAYvM,YAAY+M,IAC9B5M,qBAAU,WACR7F,EAASwS,QACR,CAACxS,IAEJ,IASMG,EAAO,GACb,GAAI8R,EACF,IAAK,IAAIY,EAAI,EAAGA,EAAIZ,EAAU1L,SAAUsM,EACtC1S,EAAK6F,KAAK,CACRuI,IAAKsE,EACLhV,GAAIoU,EAAUY,GAAGhV,GACjBW,KAAMyT,EAAUY,GAAGrU,KACnBsU,YAAab,EAAUY,GAAGC,YAC1BC,SAAU3V,EAAW6U,EAAUY,GAAGE,UAClCC,OAAQf,EAAUY,GAAGG,OAAS,SAAM,SACpC1B,UAAW,IAAID,KAAKY,EAAUY,GAAGvB,WAAWC,mBA8BlD,OACE,mCACGU,EACC,cAAC,GAAD,UACE,cAAC,KAAD,CACEgB,UAAU,+BACVC,QAvDM,CACd,CAAEzM,MAAO,2BAAQ0M,UAAW,KAAM5E,IAAK,MACvC,CAAE9H,MAAO,iCAAS0M,UAAW,OAAQ5E,IAAK,QAC1C,CAAE9H,MAAO,2BAAQ0M,UAAW,cAAe5E,IAAK,eAChD,CAAE9H,MAAO,2BAAQ0M,UAAW,WAAY5E,IAAK,YAC7C,CAAE9H,MAAO,qBAAO0M,UAAW,SAAU5E,IAAK,UAC1C,CAAE9H,MAAO,uCAAU0M,UAAW,YAAa5E,IAAK,cAkDxC6E,WAAY,CAAEC,kBAjCE,SAACC,GAczB,IAbA,IAAMJ,EAAU,CACd,CACEzM,MAAO,GACP0M,UAAW,SACX5E,IAAK,SACLgF,OAAQ,SAAChL,GAAD,OAAY,cAACoK,GAAD,CAAWxM,IAAKoC,MAEtC,CAAE9B,MAAO,2BAAQ0M,UAAW,QAAS5E,IAAK,SAC1C,CAAE9H,MAAO,2BAAQ0M,UAAW,QAAS5E,IAAK,SAC1C,CAAE9H,MAAO,2BAAQ0M,UAAW,aAAc5E,IAAK,eAE3CpO,EAAO,GACPqT,EAAqBvB,EAAUqB,EAAI/E,KAAKkF,YACrCZ,EAAI,EAAGA,EAAIW,EAAmBjN,SAAUsM,EAC/C1S,EAAK6F,KAAK,CACRuI,IAAKsE,EACLtK,OAAQiL,EAAmBX,GAAGa,OAAOnL,OACrC9B,MAAO+M,EAAmBX,GAAGa,OAAOjN,MACpC+B,MAAOpL,EAAWoW,EAAmBX,GAAGa,OAAOlL,OAC/CmL,WAAYvW,EAAWoW,EAAmBX,GAAGc,cAGjD,OAAO,cAAC,KAAD,CAAOT,QAASA,EAASU,WAAYzT,EAAM0T,YAAY,MAWtDD,WAAYzT,MAIhB,cAACuS,GAAD,iECrFO,SAASoB,KACtB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAI,MAAjB,SACE,0BAEF,cAAC,IAAD,CAAOA,KAAI,WAAX,SACE,cAAC5C,GAAD,MAEF,cAAC,IAAD,CAAO4C,KAAI,aAAX,SACE,cAAC,GAAD,S,2rBCRAC,GAAUC,IAAVD,MACFE,GAAa1R,YAAOwR,GAAPxR,CAAH,MAMVD,GAAaC,YAAOC,IAAPD,CAAH,MAIV2R,GAAiB3R,YAAOC,IAAKqC,KAAZtC,CAAH,MAGd4R,GAAc5R,IAAOG,IAAV,MAMX0R,GAAU7R,YAAO8R,KAAP9R,CAAH,MAOE,SAAS+R,KACtB,IAAMC,EAAWhP,cACXH,EAAUC,cAQhB,OAPAM,qBAAU,WAEkB,QAAtB4O,EAASjP,UACXF,EAAQU,KAAK,cAEd,CAACV,EAASmP,EAASjP,WAGpB,eAAC,IAAD,WACE,cAAC2O,GAAD,UACE,eAAC,GAAD,CACE/P,KAAK,SACLsQ,oBAAqB,CAAC,KACtBC,gBAAiB,CAAC,QAHpB,UAKE,cAACN,GAAD,UACE,cAACC,GAAD,MAEF,cAACF,GAAD,CAEEQ,KAAM,cAACL,GAAA,EAAD,CAAchQ,MAAO,CAAEqD,SAAU,MAFzC,SAIE,cAAC,IAAD,CAAM5C,GAAG,WAAT,uCAHI,KAKN,cAACoP,GAAD,CAEEQ,KAAM,cAACC,GAAA,EAAD,CAAkBtQ,MAAO,CAAEqD,SAAU,MAF7C,SAIE,cAAC,IAAD,CAAM5C,GAAG,aAAT,uCAHI,UAOV,cAAC,IAAD,CAAQT,MAAO,CAAEuQ,WAAY,SAA7B,SACE,cAAChB,GAAD,S,4CCzDFZ,GAAU,CACd,CACEzM,MAAO,KACP0M,UAAW,KACX5E,IAAK,MAEP,CACE9H,MAAO,2BACP0M,UAAW,QACX5E,IAAK,QACLgF,OAAQ,SAACtQ,EAAM8R,GAAP,OACN,cAAC,IAAD,CAAM/P,GAAE,mBAAc+P,EAAOlX,IAA7B,SAAoCoF,MAGxC,CACEwD,MAAO,2BACP0M,UAAW,QACX5E,IAAK,SAEP,CACE9H,MAAO,2BACP0M,UAAW,WACX5E,IAAK,YAEP,CACE9H,MAAO,qBACP0M,UAAW,YACX5E,IAAK,aAEP,CACE9H,MAAO,SACP8H,IAAK,SACLgF,OAAQ,SAACtQ,EAAM8R,GAAP,OACN,cAAC,KAAD,CAAOpM,KAAK,SAAZ,SACE,cAAC,IAAD,CAAM3D,GAAE,qBAAgB+P,EAAOlX,IAA/B,iDAMO,SAASmX,KACtB,IAAMhV,EAAWqF,cACX4P,EAAUvP,YAAYoG,IACtBW,EAAsB/G,YAAYmG,IAMxC,OAJAhG,qBAAU,WACR7F,EAAS+J,GAAc,CAACO,UAAW,WAClC,CAACtK,IAGF,qCACGyM,GAAuB,cAAC,GAAD,KACtBA,GACA,cAAC,KAAD,CACEyG,QAASA,GACTU,WACEqB,GACAA,EAAQ9H,KAAI,SAAC+H,GAAD,oBAAC,gBACRA,GADO,IAEV3G,IAAK2G,EAAKrX,GACV2K,MAAOpL,EAAW8X,EAAK1M,OACvByC,SAAUiK,EAAKjK,SAAW,SAAM,SAChCuG,UAAW0D,EAAK1D,UAAU2D,MAAM,EAAG,c,0JCtEzCC,GAAYlB,IAAZkB,QACFC,GAAa5S,IAAOG,IAAV,MAMD,SAAS0S,KACtB,OACE,qCACE,cAACD,GAAD,UACE,cAAC,KAAD,CAAY9Q,MAAO,CAAEgR,OAAQ,UAA7B,SACE,cAAC,KAAWxQ,KAAZ,2CAGJ,cAACqQ,GAAD,UACE,cAACJ,GAAD,SClBD,ICMMQ,GAAcjX,YAAY,CACrCC,KAAM,SACNC,aAAc,CACZgX,WAAY,GACZC,OAAQ,KACRxV,aAAc,GACdyV,qBAAqB,EACrBC,iBAAiB,GAEnB3W,SAAU,CACR4W,cAAe,SAAC1W,EAAOC,GACrBD,EAAMsW,WAAarW,EAAOG,SAE5BuW,UAAW,SAAC3W,EAAOC,GACjBD,EAAMuW,OAAStW,EAAOG,SAExBwW,gBAAiB,SAAC5W,EAAOC,GACvBD,EAAMe,aAAed,EAAOG,SAE9ByW,uBAAwB,SAAC7W,EAAOC,GAC9BD,EAAMwW,oBAAsBvW,EAAOG,SAErC0W,mBAAoB,SAAC9W,EAAOC,GAC1BD,EAAMyW,gBAAkBxW,EAAOG,Y,GAYjCiW,GAAY1V,QALd+V,G,GAAAA,cACAC,G,GAAAA,UACAC,G,GAAAA,gBACAC,G,GAAAA,uBACAC,G,GAAAA,mBAKWC,GAAgB,kBAAM,SAAClW,GAClCA,EAAS6V,GAAc,OACvB7V,EAASgW,IAAuB,IAChChW,EAAS+V,GAAgB,KD/ClBjY,MAAM,GAAD,OAAIvB,EAAJ,UAAsB,CAChCyB,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UC8ClBF,MAAK,SAACC,GACL,IAAKA,GAAkB,IAAXA,EAAI8B,GAGd,OAFAD,EAAS+V,GAAgB5X,EAAMA,EAAI+B,aAAe,yBAClDF,EAASgW,IAAuB,IAIlChW,EAAS6V,GAAc1X,EAAIgC,OAC3BH,EAASgW,IAAuB,OAEjC3V,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAId6V,GAAY,SAACtY,GAAD,OAAQ,SAACmC,GAChCA,EAAS8V,GAAU,OACnB9V,EAASiW,IAAmB,IAC5BjW,EAAS+V,GAAgB,KD7DC,SAAClY,GAC3B,OAAOC,MAAM,GAAD,OAAIvB,EAAJ,kBAAsBsB,GAAM,CACtCG,QAAS,CACPC,cAAc,UAAD,OAAYf,KACzB,eAAgB,sBAEjBgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UCyDrBgY,CAAavY,GACVK,MAAK,SAACC,GACL,IAAKA,GAAkB,IAAXA,EAAI8B,GAGd,OAFAD,EAAS+V,GAAgB5X,EAAMA,EAAI+B,aAAe,yBAClDF,EAASiW,IAAmB,IAI9B5W,QAAQC,IAAInB,EAAIgC,MAChBH,EAAS8V,GAAU3X,EAAIgC,OACvBH,EAASiW,IAAmB,OAE7B5V,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAId+V,GAAmB,SAACxY,EAAIyY,GAAL,OAAkB,SAACtW,GACjDA,EAAS+V,GAAgB,KDxEM,SAAClY,EAAIuD,EAAOM,EAAU/D,GAAtB,OAC/BG,MAAM,GAAD,OAAIvB,EAAJ,kBAAsBsB,GAAM,CAC/BG,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYf,MAE3Ba,OAAQ,QACRsD,KAAMC,KAAKC,UAAU,CACnBH,QACAM,WACA/D,iBAGDO,MAAK,SAACC,GAAD,OAASA,EAAIC,UC4DrBmY,CAAkB1Y,EAAI,KAAM,KAAMyY,GAAUpY,MAAK,SAACC,GAEhD,GADAkB,QAAQC,IAAInB,GACG,IAAXA,EAAI8B,GAAU,OAAOD,EAAS+V,GAAgB5X,EAAI+B,oBAK7CsW,GAAe,SAAChW,GAAD,OAAWA,EAAMkV,OAAOA,QACvCe,GAAmB,SAACjW,GAAD,OAAWA,EAAMkV,OAAOD,YAC3CiB,GAA4B,SAAClW,GAAD,OACvCA,EAAMkV,OAAOC,qBACFgB,GAAwB,SAACnW,GAAD,OAAWA,EAAMkV,OAAOE,iBAE9CJ,MAAf,QC9FatC,GAAU,CACrB,CACEzM,MAAO,KACP0M,UAAW,KACX5E,IAAK,MAEP,CACE9H,MAAO,eACP0M,UAAW,QACX5E,IAAK,SAEP,CACE9H,MAAO,2BACP0M,UAAW,OACX5E,IAAK,QAEP,CACE9H,MAAO,qBACP0M,UAAW,YACX5E,IAAK,aAEP,CACE9H,MAAO,SACP8H,IAAK,SACLgF,OAAQ,SAACtQ,EAAM8R,GAAP,OACN,cAAC,KAAD,CAAOpM,KAAK,SAAZ,SACE,cAAC,IAAD,CAAM3D,GAAE,2BAAsB+P,EAAOlX,IAArC,uBAMO,SAAS+Y,KACtB,IAAM5W,EAAWqF,cACXwR,EAAUnR,YAAY+Q,IACtBd,EAAsBjQ,YAAYgR,IAOxC,OALA7Q,qBAAU,WACR7F,EAASkW,QAER,CAAClW,IAGF,qCACG2V,GAAuB,cAAC,GAAD,KACtBA,GACA,cAAC,KAAD,CACEzC,QAASA,GACTU,WACEiD,GACAA,EAAQ1J,KAAI,SAAC+H,GAAD,oBAAC,gBACRA,GADO,IAEV3G,IAAK2G,EAAKrX,GACV2T,UAAW,IAAIH,KAAK6D,EAAK1D,WAAWD,iBACpCuF,KAAMpZ,EAAcwX,EAAK/P,sB,6PC7D/BiQ,GAAYlB,IAAZkB,QACFC,GAAa5S,IAAOG,IAAV,MAKVmU,GAAiBtU,YAAO2S,GAAP3S,CAAH,MACE,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SAGrC,SAASC,KACtB,OACE,qCACE,cAAC,GAAD,UACE,cAAC,KAAD,CAAY1S,MAAO,CAAEgR,OAAQ,UAA7B,SACE,cAAC,KAAWxQ,KAAZ,2CAGJ,cAACgS,GAAD,UACE,cAACH,GAAD,S,iTCCAxB,GAAYlB,IAAZkB,QACA8B,GAAWC,KAAXD,OAGF7B,IAFkB+B,KAAhBC,MAAgBD,KAATE,KAEI7U,IAAOG,IAAV,OAMV2U,GAAgB9U,YAAO2S,GAAP3S,CAAH,MAEG,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SAG9C9D,GAAU,CACd,CACEzM,MAAO,kBACP0M,UAAW,WACX5E,IAAK,WACLgF,OAAQ,SAACtQ,GAAD,OAAUA,IAEpB,CACEwD,MAAO,2BACP8H,IAAK,SACL4E,UAAW,SACXI,OAAQ,SAACG,GAAD,OAAYA,EAAO8D,eAIzBC,GAAgB,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,eAAgBC,EAAmB,EAAnBA,aAEvC,OACE,mCACE,cAAC,KAAD,CACEpT,MAAO,CAAEO,MAAO,KAChBH,SAAUgT,EACVlG,aAAc/T,EAAcga,GAH9B,SAHmB,CAAC,EAAG,EAAG,GAQRvK,KAAI,SAAChI,GAAD,OAClB,cAAC+R,GAAD,CAAyBxS,MAAOS,EAAhC,SACGzH,EAAcyH,IADJA,WASR,SAASyS,KAAoB,IAClC/Z,EAAOga,cAAPha,GACFyH,EAAUC,cACVvF,EAAWqF,cAHwB,EAIKM,mBAAS,GAJd,mBAIlCmS,EAJkC,KAIjBC,EAJiB,KAKnCrC,EAAShQ,YAAY8Q,IACrBZ,EAAkBlQ,YAAYiR,IAEpC9Q,qBAAU,WACR7F,EAASmW,GAAUtY,MAClB,CAACmC,EAAUnC,IAYd,OACE,qCACG+X,GAAmB,cAAC,GAAD,KAClBA,GAAmBF,GACnB,qCACE,eAAC,GAAD,WACE,eAAC,KAAD,CAAYnR,MAAO,CAAEgR,OAAQ,UAA7B,UACE,cAAC,KAAWxQ,KAAZ,UACE,cAAC,IAAD,CAAMC,GAAG,mBAAT,wCAEF,eAAC,KAAWD,KAAZ,4CAA4B2Q,EAAO7X,GAAnC,UAEF,eAAC,KAAD,CAAO8K,KAAK,QAAZ,UACE,cAAC,GAAD,CACEgP,aAxBd,SAAsBjT,GACpBqT,EAAmBrT,IAwBPgT,eAAgBhC,EAAOvQ,aAEzB,cAAC,IAAD,CAAQ0J,KAAK,UAAUxK,QAvBhB,WACO,IAApByT,GAAyBA,IAAoBpC,EAAOvQ,aACxDnF,EAASqW,GAAiBxY,EAAIia,IAC9BxS,EAAQU,KAAR,sBAoBU,4CAKJ,cAACuR,GAAD,UACE,eAAC,KAAD,CAAc9Q,MAAM,2BAAOuR,UAAQ,EAAnC,UACE,cAAC,KAAajT,KAAd,CAAmB4J,MAAM,kBAAzB,SAAkC+G,EAAO7X,KACzC,cAAC,KAAakH,KAAd,CAAmB4J,MAAM,2BAAOhB,KAAM,EAAtC,SACGjQ,EAAcgY,EAAOvQ,cAExB,cAAC,KAAaJ,KAAd,CAAmB4J,MAAM,2BAAzB,SACG+G,EAAOtU,QAEV,cAAC,KAAa2D,KAAd,CAAmB4J,MAAM,2BAAOhB,KAAM,EAAtC,SACG+H,EAAOhU,WAEV,cAAC,KAAaqD,KAAd,CAAmB4J,MAAM,2BAAzB,SACG,IAAI0C,KAAKqE,EAAOpE,WAAWC,mBAE9B,cAAC,KAAaxM,KAAd,CAAmB4J,MAAM,2BAAOhB,KAAM,EAAtC,SACG,IAAI0D,KAAKqE,EAAOlE,WAAWD,mBAE9B,cAAC,KAAaxM,KAAd,CAAmB4J,MAAM,uCAAShB,KAAM,EAAxC,SACG+H,EAAOxM,WAAW3C,OAAS,EAC1B,cAAC,KAAD,CACE2M,QAASA,GACTU,WAAY8B,EAAOxM,WAAWiE,KAAI,SAAC+H,GAAD,oBAAC,gBAC9BA,GAD6B,IAEhC3G,IAAK2G,EAAK+C,gBAId,gGC5IH,SAASC,KACtB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOnE,OAAK,EAACC,KAAK,mBAAlB,SACE,cAACsB,GAAD,MAEF,cAAC,IAAD,CAAOvB,OAAK,EAACC,KAAK,mBAAlB,SACE,cAACiD,GAAD,MAEF,cAAC,IAAD,CAAOlD,OAAK,EAACC,KAAK,uBAAlB,SACE,cAAC4D,GAAD,S,6VCTA3D,GAAUC,IAAVD,MACFE,GAAa1R,YAAOwR,GAAPxR,CAAH,MAMVD,GAAaC,YAAOC,IAAPD,CAAH,MAIV2R,GAAiB3R,YAAOC,IAAKqC,KAAZtC,CAAH,MAIL,SAAS0V,KACtB,IAAM1D,EAAWhP,cACXH,EAAUC,cAQhB,OAPAM,qBAAU,WAEkB,aAAtB4O,EAASjP,UACXF,EAAQU,KAAK,sBAEd,CAACV,EAASmP,EAASjP,WAGpB,eAAC,IAAD,WACE,cAAC,GAAD,UACE,eAAC,GAAD,CACEpB,KAAK,SACLsQ,oBAAqB,CAAC,KACtBC,gBAAiB,CAAC,QAHpB,UAKE,cAAC,GAAD,CAAwBC,KAAM,cAACwD,GAAA,EAAD,CAAc7T,MAAO,CAACqD,SAAU,MAA9D,SACE,cAAC,IAAD,CAAM5C,GAAG,mBAAT,uCADkB,KAGpB,cAAC,GAAD,CAAwB4P,KAAM,cAACyD,GAAA,EAAD,CAAkB9T,MAAO,CAACqD,SAAU,MAAlE,SACE,cAAC,IAAD,CAAM5C,GAAG,mBAAT,uCADkB,UAKxB,cAAC,IAAD,CAAQT,MAAO,CAAE+T,QAAS,SAAUxD,WAAY,SAAhD,SACE,cAACoD,GAAD,S,2oBCjCR,IAAM9L,GAAc3J,IAAOG,IAAV,MACJ,SAACC,GAAD,OAAWA,EAAMyV,UAC1Bjc,EAIAC,GAKEic,GAAgB9V,IAAOG,IAAV,KACftG,GAIEkc,GAAsB/V,IAAOG,IAAV,KACrBtG,GAKEmc,GAAsBhW,IAAOG,IAAV,MAET,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAO2V,UAAUhV,QACpDpH,GAOW,SAASqc,GAAT,GAAoC,IAAZL,EAAW,EAAXA,QAC/BtY,EAAWqF,cACX3G,EAAWgH,YAAYnF,GACzBwS,EAAW,EACXrU,EAAS6H,OAAS,GACpB7H,EAASka,SAAQ,SAACC,GAChB9F,GAAY8F,EAAGnF,OAAOlL,SAU1B,IANA,IAAMsQ,EAAuB,SAACjb,GAC5BmC,E/B4B0B,SAACnC,GAAD,8CAAQ,WAAOmC,GAAP,SAAAkB,EAAA,6DACpClB,EAASJ,GAAsB,IADK,SAE9BvB,EAAkBR,GAAIK,MAAK,SAACE,GAChC,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASH,EAAuBzB,EAAK8B,oBACrCF,EAASJ,GAAsB,IAGjCI,EAASH,EAAuB,OAChCG,EAASJ,GAAsB,OAC9BS,OAAM,SAAAC,GACPjB,QAAQC,IAAI,QAASgB,MAXa,OAapCN,EAASD,KAb2B,2CAAR,sD+B5BjBgZ,CAAelb,KAItBsC,EAAO,GACF0S,EAAI,EAAGA,EAAInU,EAAS6H,OAAQsM,GAAK,EACxC1S,EAAK6F,KAAK,CACRuI,IAAK7P,EAASmU,GAAGoF,SACjBpa,GAAIa,EAASmU,GAAGoF,SAChBxR,MAAO/H,EAASmU,GAAGa,OAAOjN,MAC1B+B,MAAOpL,EAAWsB,EAASmU,GAAGa,OAAOlL,SAIzC,IAAM0K,EAAU,CACd,CAAEzM,MAAO,iBAAQ0M,UAAW,CAAC,MAAO5E,IAAK,MACzC,CACE9H,MAAO,2BACP0M,UAAW,CAAC,SACZ5E,IAAK,QACLgF,OAAQ,SAACtQ,EAAM8R,GAAP,OACN,cAAC,IAAD,CAAM/P,GAAE,qBAAgB+P,EAAOlX,IAA/B,SAAsCoF,MAG1C,CAAEwD,MAAO,eAAM0M,UAAW,CAAC,SAAU5E,IAAK,SAC1C,CACE9H,MAAO,eACP0M,UAAW,GACX5E,IAAK,IACLgF,OAAQ,SAACpT,GAAD,OACN,qCACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAM6E,GAAE,oBAAe7E,EAAKtC,IAA5B,wCACQ,IACV,cAAC,IAAD,CACE+T,QAAM,EACNgD,KAAM,cAACoE,GAAA,EAAD,IACN3U,QAAS,kBAAMyU,EAAqB3Y,EAAKtC,KAH3C,gCAYR,OACE,eAAC,GAAD,CAAaya,QAASA,EAAtB,UACE,eAACC,GAAD,WACuB,IAApB7Z,EAAS6H,QACR,mCACE,0GACA,6BACE,cAAC,IAAD,CAAMvB,GAAG,IAAT,2CAILtG,EAAS6H,OAAS,GACjB,qCACE,gEACA,8CAAO7H,EAAS6H,OAAhB,kBACA,uBACA,cAAC,KAAD,CACE2M,QAASA,EACTU,WAAYzT,EACZ0T,WAAY,CAAEoF,SAAU,WAKhC,cAACT,GAAD,UACE,eAACC,GAAD,WACE,6BACE,sEAEF,uBACA,qBAAIS,MAAM,QAAV,0BAAsB9b,EAAW2V,MACjC,uBACCrU,EAAS6H,OAAS,GACjB,cAAC,IAAD,CAAQoC,KAAK,QAAQwQ,OAAK,EAA1B,SACE,cAAC,IAAD,CAAMnU,GAAE,YAAR,gD,+zBChHNqS,GAAqBD,KAArBC,MAAO+B,GAAchC,KAAdgC,UACThN,GAAc3J,IAAOG,IAAV,MACJ,SAACC,GAAD,OAAWA,EAAMyV,UAC1Bjc,EAIAC,GAKE+c,GAAc5W,IAAOG,IAAV,KACbvG,EAIAC,GAKEic,GAAgB9V,IAAOG,IAAV,KACftG,GAIEkc,GAAsB/V,IAAOG,IAAV,KACrBtG,GAKEmc,GAAsBhW,IAAOG,IAAV,MAET,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAO2V,UAAUhV,QACpDpH,GAOI4a,GAAWC,KAAXD,OAGFoC,GAAiB,CACrB5L,SAAU,CACRC,KAAM,IAERC,WAAY,CACVD,KAAM,KAGJ4L,GAAmB,CACvB3L,WAAY,CACVD,KAAM,EACNnH,OAAQ,IAGNsH,GAAmB,CACvBC,SAAU,wBAGG,SAASyL,GAAT,GAAoC,IAAZlB,EAAW,EAAXA,QAC7Bza,EAAOga,cAAPha,GACFmC,EAAWqF,cACXC,EAAUC,cACV7G,EAAWgH,YAAYnF,GACvB6H,EAAS1C,YAAYqG,IALqB,EAMjCyB,KAAKyC,UAAbC,EANyC,oBAO5C6C,EAAW,EACX0G,EAAY,EACZtZ,EAAO,GAaX,GAXA0F,qBAAU,WACR,GAAIhI,EAGF,OAFAmC,EAASwK,GAAU3M,IAEZ,WACLmC,EAAS0J,GAAU,UAGtB,CAAC1J,EAAUnC,IAGVA,GAAMuK,EACRjI,EAAK6F,KAAK,CACRuI,IAAKnG,EAAOvK,GACZA,GAAIuK,EAAOvK,GACX4I,MAAO2B,EAAO3B,MACd+B,MAAOJ,EAAOI,MACdkR,YAAatc,EAAWgL,EAAOI,SAEjCuK,EAAW3K,EAAOI,MAClBiR,EAAY,OACP,IAAK5b,GAAMa,EAAS6H,OAAS,EAAG,CAErC,IAAK,IAAIsM,EAAI,EAAGA,EAAInU,EAAS6H,OAAQsM,GAAK,EACxC1S,EAAK6F,KAAK,CACRuI,IAAK7P,EAASmU,GAAGoF,SACjBpa,GAAIa,EAASmU,GAAGoF,SAChBxR,MAAO/H,EAASmU,GAAGa,OAAOjN,MAC1B+B,MAAO9J,EAASmU,GAAGa,OAAOlL,MAC1BkR,YAAatc,EAAWsB,EAASmU,GAAGa,OAAOlL,SAE7CiR,GAAa,EAEf/a,EAASka,SAAQ,SAACC,GAChB9F,GAAY8F,EAAGnF,OAAOlL,SAI1B,IAAM0K,EAAU,CACd,CAAEzM,MAAO,iBAAQ0M,UAAW,CAAC,MAAO5E,IAAK,MACzC,CACE9H,MAAO,2BACP0M,UAAW,CAAC,SACZ5E,IAAK,QACLgF,OAAQ,SAACtQ,EAAM8R,GAAP,OACN,cAAC,IAAD,CAAM/P,GAAE,sBAAiB+P,EAAOlX,IAAhC,SAAuCoF,MAG3C,CAAEwD,MAAO,eAAM0M,UAAW,CAAC,eAAgB5E,IAAK,gBAwClD,OACE,cAAC,GAAD,CAAa+J,QAASA,EAAtB,SACE,cAAC,KAAD,6BACMgB,IADN,IAEE7L,OA3HW,WA4HXyC,KAAMA,EACN/B,SA3CW,SAACwL,GAChBvL,KAAQC,QAAQ,CACdC,QAAS,qBACTC,IAAK,aACLC,SAAU,IAEZ,IAAMoL,EAAS,6BACVD,GADU,IAEb5G,SAAUA,EACV8G,aAAc1Z,EAAKgN,KAAI,SAAC0L,GACtB,MAAO,CACLZ,SAAUY,EAAGhb,GACb8V,WAAYkF,EAAGrQ,YAIrBxI,EAASsS,GAAUsH,IAAY1b,MAAK,SAACE,GACnC,GAAgB,IAAZA,EAAK6B,GAOP,OANAmO,KAAQK,QAAQ,CACdH,QAASlQ,EAAKgQ,QACdG,IAAK,aACLC,SAAU,IAEZxO,EAASgB,MACFsE,EAAQU,KAAK,cAEtBoI,KAAQM,MAAM,CACZJ,QAASlQ,EAAK8B,aACdqO,IAAK,aACLC,SAAU,QAeVV,iBAAkBA,GAClBvJ,MAAO,CAAEO,MAAO,QANlB,SAQE,eAACuU,GAAD,WACE,eAAC,GAAD,WACgB,IAAbtG,EACC,qCACE,cAAC,GAAD,+DACA,cAACqG,GAAD,4MAKF,qCACE,cAAC,GAAD,CAAOU,MAAO,EAAd,sCACA,uBACA,cAAC,KAAK/U,KAAN,CACEvG,KAAK,OACLmQ,MAAM,eACNC,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,cAAC,IAAD,MAEF,cAAC,KAAKhJ,KAAN,CACEvG,KAAK,cACLmQ,MAAM,2BACNC,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,eAAC,KAAD,CAAQlJ,YAAY,6CAAUkV,YAAU,EAAxC,UACE,cAAC,GAAD,CAAQrV,MAAM,qBAAd,gCACA,cAAC,GAAD,CAAQA,MAAM,WAAd,gCAMJ7G,GAAMa,EAAS6H,OAAS,GAAM6B,IAChC,qCACE,cAAC,GAAD,CAAO0R,MAAO,EAAd,uCACA,8CAAOL,EAAP,kBACA,uBACA,cAAC,KAAD,CACEvG,QAASA,EACTU,WAAYzT,EACZoE,MAAO,CAAEqD,SAAU,QACnBiM,WAAY,CAAEoF,SAAU,WAKhC,cAAC,GAAD,UACE,eAAC,GAAD,WACE,cAAC,GAAD,CAAOa,MAAO,EAAd,sCACA,uBACA,qBAAIZ,MAAM,QAAV,0BAAsB9b,EAAW2V,MACjC,cAAC,KAAKhO,KAAN,6BAAewU,IAAf,aACE,cAAC,IAAD,CAAQ1K,KAAK,UAAUlG,KAAK,QAAQoG,SAAS,SAASoK,OAAK,EAA3D,SACgB,IAAbpG,EAAiB,2BAAS,gCAG9BA,EAAW,GACV,cAAC,KAAKhO,KAAN,6BAAewU,IAAf,aACE,cAAC,IAAD,CACExK,SAAS,SACTpG,KAAK,QACLtE,QA5EF,WACd6L,EAAKG,eA4EW8I,OAAK,EAJP,sD,2WCrPV9B,GAAUD,KAAVC,MACAH,GAAWC,KAAXD,OACF9K,GAAc3J,IAAOG,IAAV,MACJ,SAACC,GAAD,OAAWA,EAAMyV,WAGxB0B,GAAgBvX,IAAOG,IAAV,MAMbqX,GAAaxX,IAAOG,IAAV,MAQD,SAAS4J,GAAT,GAAsC,IAAZ8L,EAAW,EAAXA,QACjCtY,EAAWqF,cAEX4E,EANC,IAAIiQ,gBAAgBzU,cAAc0U,QAMnBC,IAAI,YAAc,GAClClR,EAAaxD,YAAYoG,IACzBW,EAAsB/G,YAAYmG,IALU,EAMlBlG,mBAAS,UANS,mBAM3C0U,EAN2C,KAMjCC,EANiC,KASlDzU,qBAAU,WAGR,OAFA7F,EAAS+J,GAAc,CAAEE,UAASI,MAAO,UAElC,WACLiQ,EAAY,UACZta,EAASuJ,GAAc,QAExB,CAACvJ,EAAUiK,IAqBd,OACE,mCACE,eAAC,GAAD,CAAaqO,QAASA,EAAtB,UACE,eAAC0B,GAAD,WACE,eAACC,GAAD,WACGhQ,GAAW,uDAAU,4CAAUA,EAAV,iBACtB,iDAAUf,EAAW3C,OAArB,4BAEF,iEAEE,eAAC,KAAD,CACE7B,MAAO2V,EACP9V,MAAO,CAAEO,MAAO,KAChBH,SAhCe,SAACD,GAC1B,IAAI+H,EAEJ,OADA6N,EAAY5V,GACJA,GACN,IAAK,SACH,OAAO1E,EAAS+J,GAAc,CAAEE,UAASG,KAAM,KAAMC,MAAO,UAC9D,IAAK,YACH,OAAOrK,EACL+J,GAAc,CAAEE,UAASG,KAAM,QAASC,MAAO,UAEnD,IAAK,WACH,OAAOrK,EACL+J,GAAc,CAAEE,UAASG,KAAM,QAASC,MAAO,SAEnD,QACE,SAcI,UAKE,cAAC,GAAD,CAAQ3F,MAAM,SAAd,oDACA,cAAC,GAAD,CAAQA,MAAM,YAAd,8CACA,cAAC,GAAD,CAAQA,MAAM,WAAd,uDAIL+H,GAAuB,cAAC,GAAD,IACtBA,GAA6C,IAAtBvD,EAAW3C,OAKlC,cAAC,KAAD,CAAKY,OAAQ,CAAC,CAAEE,GAAI,GAAID,GAAI,GAAIjD,GAAI,GAAI8I,GAAI,IAAM,IAAlD,SACG/D,EACEgE,QAAO,SAAC9E,GAAD,OAAYA,EAAO6C,YAC1BkC,KAAI,SAAC/E,GAAD,OACH,cAAC,KAAD,CAAqBf,GAAI,GAAIlD,GAAI,EAAG8I,GAAI,EAAxC,SACE,cAAC9E,GAAD,CAAYC,OAAQA,KADZA,EAAOvK,SARvB,cAAC,GAAD,CAAOic,MAAO,EAAd,SACE,qE,4FCjFZ,IAAM1N,GAAc3J,IAAOG,IAAV,MACJ,SAACC,GAAD,OAAWA,EAAMyV,WAGf,SAASiC,GAAT,GAAwC,IAAZjC,EAAW,EAAXA,QACnCnP,EAAezD,YAAYsG,IAC3BhD,EAAkBtD,YAAYmG,IAC9B7L,EAAWqF,cAUjB,OARAQ,qBAAU,WAGR,OAFA7F,EAAS0K,MAEF,WACL1K,EAAS2J,GAAgB,UAE1B,CAAC3J,IAGF,eAAC,GAAD,CAAasY,QAASA,EAAtB,UACGtP,GAAmB,cAAC,GAAD,KAClBA,GACA,sCACIG,GACA,mCACE,gHACA,6BACE,cAAC,IAAD,CAAMnE,GAAG,IAAT,2CAILmE,GAAgBA,EAAa5C,OAAS,GACrC,cAAC,KAAD,CAAKY,OAAQ,CAAC,CAAEE,GAAI,GAAID,GAAI,GAAIjD,GAAI,GAAI8I,GAAI,IAAM,IAAlD,SACG9D,EAAagE,KAAI,SAAC/E,GAAD,OAChB,cAAC,KAAD,CAAqBf,GAAI,GAAIlD,GAAI,EAAG8I,GAAI,EAAxC,SACE,cAAC9E,GAAD,CAAYC,OAAQA,EAAQC,UAAU,KAD9BD,EAAOvK,e,46BChCjC,IAAM2c,GAAgB/X,IAAOG,IAAV,MAIH,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SACnC,SAACnU,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQC,QAO3CuU,GAAc/U,IAAOG,IAAV,MAKXsF,GAAQzF,IAAOG,IAAV,MACA,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAK3CyS,GAAehY,IAAOG,IAAV,MAIZ8X,GAAgBjY,IAAOG,IAAV,MAQJ,SAAS+X,KACtB,IAAM3a,EAAWqF,cACXC,EAAUC,cACV5E,EAAO+E,YAAYvD,IACnBiG,EAAS1C,YAAYqG,IACrBrN,EAAWgH,YAAYnF,GACvByI,EAAkBtD,YAAYmG,IAC5BhO,EAAOga,cAAPha,GACF+c,EAAuB,WAC3B,IAAK,IAAI/H,EAAI,EAAGA,EAAInU,EAAS6H,OAAQsM,GAAK,EACxC,GAAInU,EAASmU,GAAGoF,WAAa4C,OAAOhd,GAElC,OAAO,EAGX,OAAO,GAkBT,OANAgI,qBAAU,WACR7F,EAASwK,GAAU3M,MAGlB,CAACmC,EAAUnC,IAGZ,qCACGmL,GAAmB,cAAC,GAAD,KAClBA,IAAoBZ,GACpB,iCACE,6BACE,6GAIJY,GAAmBZ,GACnB,eAACoS,GAAD,WACE,cAAChD,GAAD,UAAcpP,EAAO3B,QACrB,cAAC,GAAD,CAAOyS,MAAM,QAAb,SAAsB9b,EAAWgL,EAAOI,SAExC,cAACiS,GAAD,UACGrS,EAAO6C,SACN,cAACyP,GAAD,UACG/Z,GAAQA,EAAKma,cAAchV,QAAQ+U,OAAOhd,KAAQ,EACjD,cAAC,IAAD,CAAQgR,KAAK,UAAUlG,KAAK,QAAQwQ,OAAK,EAAzC,SACE,cAAC,IAAD,CAAMnU,GAAE,qBAAgBoD,EAAOvK,IAA/B,wCAGF,qCACE,cAAC,IAAD,CAAQgR,KAAK,UAAUlG,KAAK,QAAQwQ,OAAK,EAAzC,SACE,cAAC,IAAD,CAAMnU,GAAE,oBAAeoD,EAAOvK,IAA9B,wCAED+c,IACC,cAAC,IAAD,CAAQ/L,KAAK,UAAUlG,KAAK,QAAQwQ,OAAK,EAACvH,QAAM,EAAhD,SACE,cAAC,IAAD,CAAM5M,GAAG,QAAT,8CAGF,cAAC,IAAD,CACE6J,KAAK,UACLlG,KAAK,QACLtE,QAlDO,WACtB1D,GACH2E,EAAQU,KAAK,SAEV4U,KACH5a,EnCFqB,SAACnC,GAAD,8CAAQ,WAAOmC,GAAP,SAAAkB,EAAA,6DACjClB,EAASN,GAAoB,IADI,SAE3B9B,EAAeC,GAAIK,MAAK,SAACE,GAC7B,GAAgB,IAAZA,EAAK6B,GAIP,OAHAZ,QAAQC,IAAIlB,EAAK8B,cACjBF,EAASL,EAAoBvB,EAAK8B,oBAClCF,EAASN,GAAoB,IAG/BM,EAASL,EAAoB,OAC7BK,EAASN,GAAoB,OAC5BW,OAAM,SAAAC,GACPjB,QAAQC,IAAI,QAASgB,MAZU,OAcjCN,EAASD,KAdwB,2CAAR,sDmCEZgb,CAAY3S,EAAOvK,MA0CZ,iDAYR,cAAC,IAAD,CAAQ8K,KAAK,QAAQqS,UAAQ,EAA7B,8CAMJ,8BACE,cAAC,IAAD,CAAMhW,GAAE,wBAAmBoD,EAAOK,QAAQ5K,IAA1C,SACE,cAAC,KAAD,CAAQ8K,KAAM,GAAIxC,IAAKiC,EAAOK,QAAQG,gBAG1C,uBACA,8BACE,oEACA,8BAAMR,EAAOK,QAAQjK,UAGvB,8BACE,sEAEF,uBACA,4BAAI4J,EAAOyC,cACX,8BACE,sEAEF,uBACCzC,EAAO6S,YACN,cAAC,KAAD,CACEtS,KAAK,QACLqP,UAAQ,EACRpE,WAAYxL,EAAO6S,WAAW9N,KAAI,SAAC0L,EAAIhG,GACrC,MAAO,CAAEqI,OAAQrI,EAAI,EAAGpM,MAAOoS,MAEjCsC,WAAY,SAACjG,GAAD,OACV,eAAC,KAAKnQ,KAAN,WACE,iCAASmQ,EAAKgG,SADhB,KACmChG,EAAKzO,kBC/JjD,ICOM2U,GAAe7c,YAAY,CACtCC,KAAM,UACNC,aAAc,CACZ4c,YAAa,GACbC,sBAAsB,EACtBC,oBAAqB,KACrBC,QAAS,KACTC,kBAAkB,EAClBC,gBAAiB,MAEnBzc,SAAU,CACR0c,eAAgB,SAACxc,EAAOC,GACtBD,EAAMkc,YAAcjc,EAAOG,QAC3BJ,EAAMoc,oBAAsB,MAE9BK,wBAAyB,SAACzc,EAAOC,GAC/BD,EAAMmc,qBAAuBlc,EAAOG,SAEtCsc,uBAAwB,SAAC1c,EAAOC,GAC9BD,EAAMoc,oBAAsBnc,EAAOG,SAErCuc,WAAY,SAAC3c,EAAOC,GAClBD,EAAMqc,QAAUpc,EAAOG,QACvBJ,EAAMuc,gBAAkB,MAE1BK,oBAAqB,SAAC5c,EAAOC,GAC3BD,EAAMsc,iBAAmBrc,EAAOG,SAElCyc,mBAAoB,SAAC7c,EAAOC,GAC1BD,EAAMuc,gBAAkBtc,EAAOG,Y,GAajC6b,GAAatb,QAHfgc,I,GAHAH,e,GACAC,wB,GACAC,uB,GACAC,YACAC,G,GAAAA,oBACAC,G,GAAAA,mBAqBWC,GAAa,SAACpe,GAAD,OAAQ,SAACmC,GACjCA,EAAS+b,IAAoB,ID/DF,SAACle,GAAD,OAC3BC,MAAM,GAAD,OAAIvB,EAAJ,qBAAyBsB,GAAM,CAClCG,QAAS,CACPC,cAAc,UAAD,OAAYf,QAE1BgB,MAAK,SAACC,GAAD,OAASA,EAAIC,UC2DrB8d,CAAcre,GACXK,MAAK,SAACE,GACL,GAAgB,IAAZA,EAAK6B,GAGP,OAFAD,EAASgc,GAAmB5d,EAAK8B,oBACjCF,EAAS+b,IAAoB,IAI/B/b,EAAS8b,GAAW1d,EAAK+B,KAAKqb,UAC9Bxb,EAAS+b,IAAoB,OAE9B1b,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAGd6b,GAAe,SAAC,GAAD,IAAE3d,EAAF,EAAEA,KAAMqM,EAAR,EAAQA,YAAajC,EAArB,EAAqBA,UAArB,OAAoC,SAAC5I,GAG/D,OAFAX,QAAQC,IAAId,GACZwB,EAAS+b,IAAoB,ID1EA,SAAC,GAAD,IAAGvd,EAAH,EAAGA,KAAMqM,EAAT,EAASA,YAAajC,EAAtB,EAAsBA,UAAtB,OAC7B9K,MAAM,GAAD,OAAIvB,EAAJ,aAAyB,CAC5BwB,OAAQ,OACRC,QAAS,CACPC,cAAc,UAAD,OAAYf,KACzB,eAAgB,oBAElBmE,KAAMC,KAAKC,UAAU,CACnB/C,OACAqM,cACAjC,gBAED1K,MAAK,SAACC,GAAD,OAASA,EAAIC,UC+Ddge,CAAgB,CAAC5d,OAAMqM,cAAajC,cACxC1K,MAAK,SAACE,GACL,OAAOA,KAERiC,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAGd+b,GAAoB,SAAC,GAAD,IAAE7d,EAAF,EAAEA,KAAMqM,EAAR,EAAQA,YAAajC,EAArB,EAAqBA,UAArB,OAAoC,SAAC5I,GACpE,ODtEoC,SAAC,GAAD,IAAGxB,EAAH,EAAGA,KAAMqM,EAAT,EAASA,YAAajC,EAAtB,EAAsBA,UAAtB,OACpC9K,MAAM,GAAD,OAAIvB,EAAJ,aAAyB,CAC5BwB,OAAQ,QACRC,QAAS,CACPC,cAAc,UAAD,OAAYf,KACzB,eAAgB,oBAElBmE,KAAMC,KAAKC,UAAU,CACnB/C,OACAqM,cACAjC,gBAED1K,MAAK,SAACC,GAAD,OAASA,EAAIC,UC0Ddke,CAAqB,CAAC9d,OAAMqM,cAAajC,cAC/C1K,MAAK,SAACE,GACL,OAAOA,KAERiC,OAAM,SAACC,GACNjB,QAAQC,IAAI,QAASgB,QAQZic,GAAgB,SAAC/b,GAAD,OAAWA,EAAMgb,QAAQA,SACzCgB,GAAyB,SAAChc,GAAD,OAAWA,EAAMgb,QAAQC,kBAEhDL,MAAf,Q,mTCxGA,IAAMqB,GAAiBha,IAAOG,IAAV,MAIJ,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SACnC,SAACnU,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQC,QAE3CyZ,GAAeja,IAAOG,IAAV,MAMH,SAAS+Z,KACtB,IAAM3c,EAAWqF,cACXmW,EAAU9V,YAAY6W,IACtBd,EAAmB/V,YAAY8W,IAC7B3e,EAAOga,cAAPha,GASR,OANAgI,qBAAU,WAGR,OAFA7F,EAASic,GAAWpe,IAEb,eACN,CAACmC,EAAUnC,IAGZ,qCACG4d,GAAoB,cAAC,GAAD,KACnBA,GAAoBD,GACpB,eAACiB,GAAD,WACE,cAACC,GAAD,UAAelB,EAAQhd,OACvB,iCACE,cAAC,KAAD,CAAQmK,KAAM,IAAKxC,IAAKqV,EAAQ5S,cAElC,6BAAI,0DACJ,6BAAK4S,EAAQ3Q,cACb,uBACA,6BAAI,mCAAS2Q,EAAQhd,KAAjB,iCACJ,uBACA,cAAC,KAAD,CAAK2I,OAAQ,CAAC,GAAI,CAAEE,GAAI,EAAGD,GAAI,GAAIjD,GAAI,GAAI8I,GAAI,KAA/C,SACGuO,EAAQoB,QAAQ1P,QAAO,SAAC9E,GAAD,OAAYA,EAAO6C,YAAUkC,KACnD,SAAC/E,GAAD,OACE,cAAC,KAAD,CAAqBf,GAAI,GAAIlD,GAAI,EAAjC,SACE,cAACgE,GAAD,CAAYC,OAAQA,KADZA,EAAOvK,e,ocC5CjC,IAAMgf,GAAYpa,IAAOG,IAAV,MAKTka,GAAkBra,IAAOG,IAAV,MAIfma,GAAYta,YAAOua,KAAPva,CAAH,MAQA,SAASwa,KACtB,IAAMjd,EAAWqF,cACXiE,EAAO5D,YAAYyG,IAFQ,EAGV0L,cAAfha,EAHyB,EAGzBA,GAAI4N,EAHqB,EAGrBA,OAEZ5F,qBAAU,WACR7F,EAASwL,GAAgB3N,EAAI4N,MAC5B,CAACzL,EAAUnC,EAAI4N,IAElB,IAQsByR,EAItB,OACE,mCACG5T,EACC,qCACE,eAAC,KAAD,WACA,cAAC,KAAWvE,KAAZ,UACM,cAAC,IAAD,CAAMC,GAAE,qBAAgBsE,EAAK0B,UAA7B,SAA0C1B,EAAK6T,gBAEnD,cAAC,KAAWpY,KAAZ,UAAkBuE,EAAK7C,WAEzB,cAACoW,GAAD,UAAYvT,EAAK7C,QACjB,cAACqW,GAAD,UAAkBxT,EAAKuB,cACtBvB,EAAK8T,UACJ,cAACL,GAAD,CAAWM,SAjBCH,EAiBqB5T,EAAK8T,SAhB5B,IAAIlD,gBAAgB,IAAIoD,IAAIJ,GAAK/C,QAClCC,IAAI,MAeoCmD,IAzB3C,CACdzY,MAAO,MACPL,WAAY,SACZ+Y,eAAgB,SAChBC,WAAY,CACVC,SAAU,SAwBV,cAAC,GAAD,M,irBCtDEtI,GAAmBlB,IAAnBkB,QAASnB,GAAUC,IAAVD,MACToD,GAAUD,KAAVC,MACFsG,GAAclb,YAAOyR,IAAPzR,CAAH,MAGXmb,GAAcnb,YAAOwR,GAAPxR,CAAH,MAGK,SAACob,GAAD,OAAUA,EAAK/a,MAAMC,OAAOiU,SAG5C8G,GAAYrb,IAAOmQ,IAAV,MAGT4E,GAAc/U,IAAOG,IAAV,MAOXmb,GAAiBtb,YAAO2S,GAAP3S,CAAH,MAOL,SAASub,KACtB,IAAMhe,EAAWqF,cACXC,EAAUC,cACV8D,EAAe3D,YAAYwG,IACzBrO,EAAOga,cAAPha,GAERgI,qBAAU,WACR7F,EAASqL,GAAgBxN,MACxB,CAACmC,EAAUnC,IAEd,IAAMogB,EAAkB,SAACrZ,GACvB,OAAOU,EAAQU,KAAR,qBAA2BnI,EAA3B,iBAAsC+G,EAAE2J,OAGjD,OACE,mCACGlF,EACC,eAACsU,GAAD,WACE,cAACC,GAAD,UACE,eAAC,IAAD,CACExZ,KAAK,SACLsQ,oBAAqB,CAAC,KACtBC,gBAAiB,CAAC,QAHpB,UAKE,cAACmJ,GAAD,CAAWzX,IAAI,2BAAOF,IAAKkD,EAAad,SACxC,cAAC,GAAD,UAAcc,EAAa5C,QAC1B4C,EAAa6B,UAAUiC,KAAI,SAAC7D,GAAD,OAC1B,cAAC,IAAKvE,KAAN,CAEE6P,KAAM,cAACsJ,GAAA,EAAD,CAAoB3Z,MAAO,CAAEqD,SAAU,MAC7CvD,QAAS4Z,EAHX,SAKG3U,EAAK7C,OAJD6C,EAAKzL,YASlB,cAACkgB,GAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOhK,OAAK,EAACC,KAAI,iBAAjB,SACE,mCACE,eAAC,GAAD,wDAAe3K,EAAa5C,SAC5B,cAAC,GAAD,CAAOqT,MAAO,EAAd,iGAGJ,cAAC,IAAD,CAAO/F,OAAK,EAACC,KAAI,8BAAjB,SACE,cAACiJ,GAAD,cAMR,cAAC,GAAD,M,o1BClFR,IAAMkB,GAAsB1b,IAAOG,IAAV,MAGnBoM,GAAcvM,IAAOG,IAAV,MAIK,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,QAAQgF,QAKtDqF,GAAY5K,IAAOG,IAAV,MAITwb,GAAW3b,YAAO+K,KAAKzI,KAAZtC,CAAH,MAaR8K,GAAa9K,YAAO+K,KAAP/K,CAAH,MAIVgL,GAAS,CACbC,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAGJE,GAAa,CACjBD,WAAY,CACVD,KAAM,KAGJG,GAAmB,CACvBC,SAAU,uCACVC,MAAO,CACL5M,MAAO,2DAIX,SAASid,GAAaC,GACpB,IAAMC,EAA2B,eAAdD,EAAKzP,MAAuC,cAAdyP,EAAKzP,KACjD0P,GACHnQ,KAAQM,MAAM,qCAEhB,IAAM8P,EAASF,EAAK3V,KAAO,KAAO,KAAO,EAWzC,OAVK6V,GACHpQ,KAAQM,MAAM,gCAEZ6P,GAAcC,GAChBpQ,KAAQC,QAAQ,CACdC,QAAS,oCACTC,IAAK,cACLC,SAAU,IAGP+P,GAAcC,EAGR,SAASC,KACtB,IAAMnZ,EAAUC,cACVvF,EAAWqF,cAFwB,EAGHM,oBAAS,GAHN,mBAGlC+Y,EAHkC,KAGrBC,EAHqB,OAIThZ,mBAAS,MAJA,mBAIlCiZ,EAJkC,KAIxBC,EAJwB,OAK1BrR,KAAKyC,UAAbC,EALkC,oBAoDzC,OACE,cAACiO,GAAD,UACE,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,eAAC,GAAD,6BACM1Q,IADN,IAEEyC,KAAMA,EACN/B,SA5Be,SAACzJ,GAEtB,GADArF,QAAQC,IAAIoF,IACPA,EAAMoa,OACT,OAAO1Q,KAAQM,MAAM,4EAEvB1O,EACEmc,GAAa,CACX3d,KAAMkG,EAAMlG,KACZqM,YAAanG,EAAMmG,YACnBjC,UAAWlE,EAAMoa,UAEnB5gB,MAAK,SAACC,GACN,OAAe,IAAXA,EAAI8B,IACNmO,KAAQK,QAAQ,wCAChBzO,EAASgB,MACFsE,EAAQU,KAAK,MAEfoI,KAAQM,MAAMvQ,EAAI+B,kBAYrB4N,iBAAkBA,GAJpB,UAME,cAACsQ,GAAD,CACEzP,MAAM,2BACNnQ,KAAK,OACLoQ,MAAO,CACL,CACEb,UAAU,IALhB,SASE,cAAC,IAAD,CAAOlJ,YAAY,iDAErB,cAAC,KAAKE,KAAN,CACE4J,MAAM,2BACNnQ,KAAK,cACLoQ,MAAO,CACL,CACEb,UAAU,IALhB,SASE,cAAC,IAAMgR,SAAP,CACEC,KAAM,EACNza,MAAO,CAAE0a,OAAQ,QACjBpa,YAAY,iDAGhB,cAAC,KAAKE,KAAN,CACEvG,KAAK,SACLmQ,MAAM,iCACNe,MAAM,4EACNd,MAAO,CACL,CACEb,UAAU,IANhB,SAUE,cAAC,KAAD,CAASmR,QAAM,EAACC,MAAM,QAAtB,SACE,cAAC,KAAD,CACE3gB,KAAK,QACL4gB,SAAS,eACTC,gBAAgB,EAChBjgB,OAAO,gCACPpB,QAAS,CACPC,cAAe,4BACf,mBAAoB,MAEtBogB,aAAcA,GACd1Z,SAtGO,SAAC2a,GAEpB,GADAjgB,QAAQC,IAAI,OAAQggB,GACK,cAArBA,EAAKhB,KAAKiB,QAId,GAAyB,SAArBD,EAAKhB,KAAKiB,OAAmB,CAC/BlgB,QAAQC,IAAI,QACZ8O,KAAQK,QAAQ,CACdH,QAAS,uCACTC,IAAK,cACLC,SAAU,IAGZ,IAAMgR,EAAYF,EAAKhB,KAAKmB,SAAStf,KAAKuf,KAM1C,OALAb,EAAYW,GACZngB,QAAQC,IAAI,YAAakgB,QACzBtP,EAAKyP,eAAe,CAClBb,OAAQU,UAfVb,GAAe,IAyFP,SAYGC,EACC,qBACEzY,IAAKyY,EACLvY,IAAI,SACJ9B,MAAO,CAAEO,MAAO,OAAQ8a,aAAc,SAGxC,mCACGlB,EAAc,cAACmB,GAAA,EAAD,IAAsB,cAACC,GAAA,EAAD,YAM/C,uBACA,cAAC1B,GAAD,6BAAcvQ,IAAd,aACE,cAAC,IAAD,CAAQkB,SAAS,SAASpG,KAAK,QAAQkG,KAAK,UAA5C,kDCrML,IAAMqE,GAAU,CACrB,CACEzM,MAAO,KACP0M,UAAW,KACX5E,IAAK,MAEP,CACE9H,MAAO,2BACP0M,UAAW,QACX5E,IAAK,QACLgF,OAAQ,SAACtQ,EAAM8R,GAAP,OACN,cAAC,IAAD,CAAM/P,GAAE,mBAAc+P,EAAOlX,IAA7B,SAAoCoF,MAGxC,CACEwD,MAAO,2BACP0M,UAAW,QACX5E,IAAK,SAEP,CACE9H,MAAO,2BACP0M,UAAW,WACX5E,IAAK,YAEP,CACE9H,MAAO,qBACP0M,UAAW,YACX5E,IAAK,aAEP,CACE9H,MAAO,SACP8H,IAAK,SACLgF,OAAQ,SAACtQ,EAAM8R,GAAP,OACN,eAAC,KAAD,CAAOpM,KAAK,SAAZ,UACE,cAAC,IAAD,CAAM3D,GAAE,2BAAsB+P,EAAOlX,IAArC,0BACA,cAAC,IAAD,CAAMmH,GAAE,qBAAgB+P,EAAOlX,IAA/B,kDAMO,SAASkiB,KACtB,IAAM/f,EAAWqF,cACX4P,EAAUvP,YAAYuG,IACtBQ,EAAsB/G,YAAYmG,IAMxC,OALAhG,qBAAU,WACR7F,EAAS2K,QACR,CAAC3K,IACJX,QAAQC,IAAI2V,GAGV,qCACGxI,GAAuB,cAAC,GAAD,KACtBA,GACA,mCACGwI,EACC,cAAC,KAAD,CACE/B,QAASA,GACTU,WACEqB,GACAA,EAAQ9H,KAAI,SAAC+H,GAAD,oBAAC,gBACRA,GADO,IAEV3G,IAAK2G,EAAKrX,GACV2K,MAAOpL,EAAW8X,EAAK1M,OACvByC,SAAUiK,EAAKjK,SAAW,SAAM,SAChCuG,UAAW0D,EAAK1D,UAAU2D,MAAM,EAAG,WAKzC,iCACE,yG,yQC9Ed,IAAM/I,GAAc3J,IAAOG,IAAV,MAGXyS,GAAa5S,IAAOG,IAAV,MAOD,SAASod,KACtB,OACE,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,KAAD,UACE,cAAC,KAAWjb,KAAZ,yCAEF,cAAC,IAAD,CAAQ8J,KAAK,UAAb,SACE,cAAC,IAAD,CAAM7J,GAAG,uBAAT,2CAGF,cAAC+a,GAAD,O,oaCPA3K,GAAYlB,IAAZkB,QACA8B,GAAWC,KAAXD,OAEF9K,GAAc3J,IAAOG,IAAV,MAIXyS,GAAa5S,IAAOG,IAAV,MAKVqd,GAAgBxd,YAAO2S,GAAP3S,CAAH,MAGG,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SAG9CvJ,GAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAEhBG,GAAmB,CACvBC,SAAU,uBACVC,MAAO,CACLkN,OAAQ,oCAEVA,OAAQ,CACNgF,MAAO,mDAIX,SAAS7B,GAAaC,GACpB,IAAMC,EAA2B,eAAdD,EAAKzP,MAAuC,cAAdyP,EAAKzP,KACjD0P,GACHnQ,KAAQM,MAAM,qCAEhB,IAAM8P,EAASF,EAAK3V,KAAO,KAAO,KAAO,EAWzC,OAVK6V,GACHpQ,KAAQM,MAAM,gCAEZ6P,GAAcC,GAChBpQ,KAAQC,QAAQ,CACdC,QAAS,oCACTC,IAAK,cACLC,SAAU,IAGP+P,GAAcC,EAGR,SAAS2B,KACtB,IAAM7a,EAAUC,cACVvF,EAAWqF,cAFqB,EAGvBmI,KAAKyC,UAAbC,EAH+B,sBAIAvK,oBAAS,GAJT,mBAI/B+Y,EAJ+B,KAIlBC,EAJkB,OAKNhZ,mBAAS,MALH,mBAK/BiZ,EAL+B,KAKrBC,EALqB,KAmDtC,OACE,eAAC,GAAD,WACE,cAAC,GAAD,UACE,eAAC,KAAD,CAAYta,MAAO,CAAEgR,OAAQ,UAA7B,UACE,cAAC,KAAWxQ,KAAZ,UACE,cAAC,IAAD,CAAMC,GAAG,mBAAT,wCAEF,cAAC,KAAWD,KAAZ,4CAGJ,cAACkb,GAAD,UACE,eAAC,KAAD,6BACMxS,IADN,IAEEyC,KAAMA,EACNpC,iBAAkBA,GAClBsS,cAAe,CAAEnV,SAAU,sBAC3BkD,SA5De,SAACzJ,GACtB,IAAKA,EAAMoa,OACT,OAAO1Q,KAAQM,MAAM,4EAEvB1O,EACE4K,GAAU,CACRnE,MAAO/B,EAAM+B,MACb+B,MAAO9D,EAAM8D,MACbqC,YAAanG,EAAMmG,YACnBtC,OAAQ7D,EAAMoa,UAEhB5gB,MAAK,SAACC,GACN,OAAe,IAAXA,EAAI8B,IACNmO,KAAQK,QAAQ,wCAETnJ,EAAQU,KAAK,qBAEfoI,KAAQM,MAAMvQ,EAAI+B,kBAsCvB,UAOE,cAAC,KAAK6E,KAAN,CAAWvG,KAAK,WAAWmQ,MAAM,2BAAjC,SACE,cAAC,KAAD,CAAQqM,UAAQ,EAAhB,SACE,cAAC,GAAD,CAAQtW,MAAM,qBAAd,oCAGJ,cAAC,KAAKK,KAAN,CAAWvG,KAAK,QAAQmQ,MAAM,2BAAOC,MAAO,CAAC,CAAEb,UAAU,IAAzD,SACE,cAAC,IAAD,MAEF,cAAC,KAAKhJ,KAAN,CACEvG,KAAK,QACLmQ,MAAM,2BACNC,MAAO,CAAC,CAAEb,UAAU,EAAMc,KAAM,SAAUwR,IAAK,EAAGC,IAAK,OACvD5Q,MAAM,4DAJR,SAME,cAAC,KAAD,CACE6Q,UAAW,SAAC7b,GAAD,MACT,YAAKA,GAAQlH,QAAQ,wBAAyB,MAEhDgjB,OAAQ,SAAC9b,GAAD,OAAWA,EAAMlH,QAAQ,cAAe,SAGpD,cAAC,KAAKuH,KAAN,CACEvG,KAAK,cACLmQ,MAAM,2BACNC,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,cAAC,IAAMgR,SAAP,CAAgBC,KAAM,EAAGza,MAAO,CAAE0a,OAAQ,YAE5C,cAAC,KAAKla,KAAN,CACEvG,KAAK,SACLmQ,MAAM,6CACNe,MAAM,4EACNd,MAAO,CACL,CACEb,UAAU,IANhB,SAUE,cAAC,KAAD,CAASmR,QAAM,EAACuB,MAAI,EAACC,OAAQ,EAAE,EAAGC,WAAY,2BAA9C,SACE,cAAC,KAAD,CACEniB,KAAK,QACL4gB,SAAS,eACTnM,UAAU,gBACVoM,gBAAgB,EAChBjgB,OAAO,gCACPpB,QAAS,CACPC,cAAe,4BACf,mBAAoB,MAEtBogB,aAAcA,GACd1Z,SA3FO,SAAC2a,GAEpB,GAAyB,cAArBA,EAAKhB,KAAKiB,QAId,GAAyB,SAArBD,EAAKhB,KAAKiB,OAAmB,CAE/BnR,KAAQK,QAAQ,CACdH,QAAS,uCACTC,IAAK,cACLC,SAAU,IAGZ,IAAMgR,EAAYF,EAAKhB,KAAKmB,SAAStf,KAAKuf,KAK1C,OAJAb,EAAYW,QACZtP,EAAKyP,eAAe,CAClBb,OAAQU,UAdVb,GAAe,IA6EP,SAaGC,EACC,qBAAKzY,IAAKyY,EAAUvY,IAAI,SAAS9B,MAAO,CAAEO,MAAO,UAEjD,mCACG4Z,EACC,cAACmB,GAAA,EAAD,CAAiBtb,MAAO,CAAEqD,SAAU,OAAQ0Q,QAAS,UAErD,cAACwH,GAAA,EAAD,CAAcvb,MAAO,CAAEqD,SAAU,OAAQ0Q,QAAS,kBAO9D,iCACE,cAAC,IAAD,CAAQzJ,KAAK,UAAUlG,KAAK,QAAQoG,SAAS,SAA7C,iD,oYCtMZ,IAAM3C,GAAc3J,IAAOG,IAAV,MAMXge,GAAOne,IAAOG,IAAV,MAIJqd,GAAgBxd,IAAOG,IAAV,MAGG,SAACC,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SAE9CvJ,GAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAEtB,SAAS0Q,GAAaC,GACpB,IAAMC,EAA2B,eAAdD,EAAKzP,MAAuC,cAAdyP,EAAKzP,KACjD0P,GACHnQ,KAAQM,MAAM,qCAEhB,IAAM8P,EAASF,EAAK3V,KAAO,KAAO,KAAO,EAWzC,OAVK6V,GACHpQ,KAAQM,MAAM,gCAEZ6P,GAAcC,GAChBpQ,KAAQC,QAAQ,CACdC,QAAS,oCACTC,IAAK,cACLC,SAAU,IAGP+P,GAAcC,EAGR,SAASqC,KACtB,IAAM7gB,EAAWqF,cACX1E,EAAO+E,YAAYvD,IAFc,EAGDwD,oBAAS,GAHR,mBAGhC+Y,EAHgC,KAGnBC,EAHmB,OAIPhZ,mBAAS,MAJF,mBAIhCiZ,EAJgC,KAItBC,EAJsB,OAKxBrR,KAAKyC,UAAbC,EALgC,oBAOvCrK,qBAAU,WACRqK,EAAKyP,eAAe,CAClBnhB,KAAMmC,EAAK8H,QAAQjK,KACnBqM,YAAalK,EAAK8H,QAAQoC,YAC1BiU,OAAQne,EAAK8H,QAAQG,YAEvBiW,EAAYle,EAAK8H,QAAQG,aACxB,CAACsH,EAAMvP,IAoDV,OACE,eAAC,GAAD,WACE,eAACigB,GAAD,4CAAY,IAAIvP,KAAK1Q,EAAK8H,QAAQ6I,WAAWC,oBAC7C,eAACqP,GAAD,4CAAY,IAAIvP,KAAK1Q,EAAK8H,QAAQ+I,WAAWD,oBAC7C,cAAC,GAAD,UACE,eAAC,KAAD,6BAAU9D,IAAV,IAAkByC,KAAMA,EAAM/B,SAjCb,SAACzJ,GAEtB,OADArF,QAAQC,IAAIoF,GACPA,EAAMoa,OAKTpa,EAAMlG,OAASmC,EAAK8H,QAAQjK,MAC5BkG,EAAMmG,cAAgBlK,EAAK8H,QAAQoC,aACnCnG,EAAMoa,SAAWne,EAAK8H,QAAQG,UAEvBwF,KAAQuD,QAAQ,uCAEzB3R,EACEqc,GAAkB,CAChB7d,KAAMkG,EAAMlG,KACZqM,YAAanG,EAAMmG,YACnBjC,UAAWlE,EAAMoa,UAEnB5gB,MAAK,SAACC,GACN,OAAe,IAAXA,EAAI8B,IACNmO,KAAQK,QAAQ,wCACTzO,EAASgB,OAEXoN,KAAQM,MAAMvQ,EAAI+B,iBArBlBkO,KAAQM,MAAM,6EA8BnB,UACE,cAAC,KAAK3J,KAAN,CACEvG,KAAK,OACLmQ,MAAM,2BACNC,MAAO,CACL,CACEb,UAAU,IALhB,SASE,cAAC,IAAD,MAEF,cAAC,KAAKhJ,KAAN,CACEvG,KAAK,cACLmQ,MAAM,2BACNC,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,cAAC,IAAMgR,SAAP,CAAgBC,KAAM,EAAGza,MAAO,CAAE0a,OAAQ,YAE5C,cAAC,KAAKla,KAAN,CACEvG,KAAK,SACLmQ,MAAM,iCAENe,MAAM,4EACNd,MAAO,CACL,CACEb,UAAU,IAPhB,SAWE,cAAC,KAAD,CAASmR,QAAM,EAACC,MAAM,QAAtB,SACE,cAAC,KAAD,CACE3gB,KAAK,QACL4gB,SAAS,eACTC,gBAAgB,EAChBjgB,OAAO,gCACPpB,QAAS,CACPC,cAAe,4BACf,mBAAoB,MAEtBogB,aAAcA,GACd1Z,SAhGO,SAAC2a,GAEpB,GADAjgB,QAAQC,IAAI,OAAQggB,GACK,cAArBA,EAAKhB,KAAKiB,QAId,GAAyB,SAArBD,EAAKhB,KAAKiB,OAAmB,CAC/BlgB,QAAQC,IAAI,QACZ8O,KAAQK,QAAQ,CACdH,QAAS,uCACTC,IAAK,cACLC,SAAU,IAGZ,IAAMgR,EAAYF,EAAKhB,KAAKmB,SAAStf,KAAKuf,KAC1Cb,EAAYW,GACZtP,EAAKyP,eAAe,CAClBb,OAAQU,UAdVb,GAAe,IAmFP,SAYGC,EACC,qBACEzY,IAAKyY,EACLvY,IAAI,SACJ9B,MAAO,CAAEO,MAAO,OAAQ8a,aAAc,SAGxC,mCAAGlB,EAAc,cAACmB,GAAA,EAAD,IAAsB,cAACC,GAAA,EAAD,YAK/C,iCACE,cAAC,IAAD,CAAQjR,KAAK,UAAUlG,KAAK,QAAQoG,SAAS,SAA7C,iD,odClKZ,IAAM+R,GAAgBre,IAAOG,IAAV,MAIbme,GAActe,YAAOue,KAAKjc,KAAZtC,CAAH,MAKXwe,GAAaxe,YAAOue,KAAKjc,KAAZtC,CAAH,MACM,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAO2V,UAAUhV,SAGxDwd,GAAWze,IAAOkL,KAAV,MAKd,SAASwT,GAAT,GAKI,IAJF7X,EAIC,EAJDA,KACA8X,EAGC,EAHDA,gBACAC,EAEC,EAFDA,0BACAC,EACC,EADDA,iBAEA,OACE,eAACP,GAAD,WACE,eAAC,KAAD,CAAO7H,MAAM,SAASvQ,KAAM,GAA5B,UACE,cAAC,KAAD,CAASlC,MAAM,eAAf,SACE,cAAC8a,GAAA,EAAD,cAAchd,MAAO,CAAEmD,MAAO,SAAc0Z,MAE9C,cAACF,GAAD,UAAW5X,EAAK7C,WAElB,eAAC,KAAD,WACE,cAAC,KAAD,CAASA,MAAM,eAAf,SACE,cAAC,IAAD,CACEmO,KAAM,cAAC4M,GAAA,EAAD,IACNnd,QAAS,kBAAMgd,EAA0B/X,EAAKzL,SAGlD,cAAC,KAAD,CAAS4I,MAAM,eAAf,SACE,cAAC,IAAD,CACEmO,KAAM,cAACoE,GAAA,EAAD,IACN3U,QAAS,kBAAMid,EAAiBhY,EAAKzL,eAQlC,SAAS4jB,GAAT,GAMX,IALFC,EAKC,EALDA,SACA7c,EAIC,EAJDA,YACA8c,EAGC,EAHDA,cACAL,EAEC,EAFDA,iBACAD,EACC,EADDA,0BAEA,OACE,cAACP,GAAD,UACE,eAAC,KAAD,CAAMnY,KAAK,QAAQqP,UAAQ,EAA3B,UACG0J,EAASvU,KAAI,SAAC7D,EAAMsY,GAAP,OACZ,cAAC,KAAD,CAAyBC,YAAW,cAASvY,EAAKzL,IAAM+jB,MAAOA,EAA/D,SACG,SAACE,GAAD,OACC,+CAAK/R,IAAK+R,EAASC,UAAcD,EAASE,gBAA1C,aACE,cAACb,GAAD,CACE7X,KAAMA,EACN8X,gBAAiBU,EAASV,gBAC1BE,iBAAkBA,EAClBD,0BAA2BA,SAPnB/X,EAAKzL,OAatBgH,EACD,cAACoc,GAAD,UACE,eAAC,KAAD,CACE/H,MAAM,SACNvQ,KAAM,GACNpE,MAAO,CAAE0d,OAAQ,WACjB5d,QAASsd,EAJX,UAME,cAAC7B,GAAA,EAAD,IACA,cAACoB,GAAD,iD,IC9EJhK,GAAWC,KAAXD,OACFzJ,GAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAEhBG,GAAmB,CACvBC,SAAU,uBACVC,MAAO,CACLkN,OAAQ,oCAEVA,OAAQ,CACNgF,MAAO,mDAIX,SAAS7B,GAAaC,GACpB,IAAMC,EAA2B,eAAdD,EAAKzP,MAAuC,cAAdyP,EAAKzP,KACjD0P,GACHnQ,KAAQM,MAAM,qCAEhB,IAAM8P,EAASF,EAAK3V,KAAO,KAAO,KAAO,EAWzC,OAVK6V,GACHpQ,KAAQM,MAAM,gCAEZ6P,GAAcC,GAChBpQ,KAAQC,QAAQ,CACdC,QAAS,oCACTC,IAAK,cACLC,SAAU,IAGP+P,GAAcC,EAGvB,SAAS0D,GAAT,EAAuCnS,GAAM,IAAhB3H,EAAe,EAAfA,OAAe,EAC3BoF,KAAKyC,UAAbC,EADmC,sBAEVvK,mBAAS,MAFC,mBAEnCiZ,EAFmC,KAEzBC,EAFyB,OAGJlZ,oBAAS,GAHL,mBAGnC+Y,EAHmC,KAGtBC,EAHsB,KA0C1C,OAfAxO,8BAAoBJ,GAAK,iBAAO,CAC9BoS,eAAgB,WACd,OAAOjS,EAAKkS,sBAGhBvc,qBAAU,WACRqK,EAAKyP,eAAe,CAClB1U,SAAU7C,EAAO6C,SAAW,eAAO,qBACnCxE,MAAO2B,EAAO3B,MACd+B,MAAOJ,EAAOI,MACdqC,YAAazC,EAAOyC,YACpBiU,OAAQ1W,EAAOG,SAEjBsW,EAAYzW,EAAOG,UAClB,CAAC2H,EAAM9H,IAER,eAAC,KAAD,2BAAM8H,KAAMA,GAAUzC,IAAtB,IAA8BK,iBAAkBA,GAAhD,UACE,oEAAc,IAAIuD,KAAKjJ,EAAOkJ,WAAWC,oBACzC,oEAAc,IAAIF,KAAKjJ,EAAOoJ,WAAWD,oBACzC,uBACA,cAAC,KAAKxM,KAAN,CAAWvG,KAAK,WAAWmQ,MAAM,2BAAOC,MAAO,CAAC,CAAEb,UAAU,IAA5D,SACE,eAAC,KAAD,WACE,cAAC,GAAD,CAAQrJ,MAAM,eAAd,0BACA,cAAC,GAAD,CAAQA,MAAM,qBAAd,qCAGJ,cAAC,KAAKK,KAAN,CAAWvG,KAAK,QAAQmQ,MAAM,2BAAOC,MAAO,CAAC,CAAEb,UAAU,IAAzD,SACE,cAAC,IAAD,MAEF,cAAC,KAAKhJ,KAAN,CACEvG,KAAK,QACLmQ,MAAM,2BACNC,MAAO,CAAC,CAAEb,UAAU,EAAMc,KAAM,SAAUwR,IAAK,EAAGC,IAAK,OACvD5Q,MAAM,4DAJR,SAME,cAAC,KAAD,CACE6Q,UAAW,SAAC7b,GAAD,MACT,YAAKA,GAAQlH,QAAQ,wBAAyB,MAEhDgjB,OAAQ,SAAC9b,GAAD,OAAWA,EAAMlH,QAAQ,cAAe,SAGpD,cAAC,KAAKuH,KAAN,CACEvG,KAAK,cACLmQ,MAAM,2BACNC,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,cAAC,IAAMgR,SAAP,CAAgBC,KAAM,EAAGza,MAAO,CAAE0a,OAAQ,YAE5C,cAAC,KAAKla,KAAN,CACEvG,KAAK,SACLmQ,MAAM,SAENe,MAAM,4EACNd,MAAO,CACL,CACEb,UAAU,IAPhB,SAWE,cAAC,KAAD,CAASmR,QAAM,EAACuB,MAAI,EAACC,OAAQ,EAAE,EAAGC,WAAY,2BAA9C,SACE,cAAC,KAAD,CACEniB,KAAK,QACL4gB,SAAS,eACTnM,UAAU,gBACVoM,gBAAgB,EAChBjgB,OAAO,gCACPpB,QAAS,CACPC,cAAe,4BACf,mBAAoB,MAEtBogB,aAAcA,GACd1Z,SA9FW,SAAC2a,GAEpB,GADAjgB,QAAQC,IAAI,OAAQggB,GACK,cAArBA,EAAKhB,KAAKiB,QAId,GAAyB,SAArBD,EAAKhB,KAAKiB,OAAmB,CAC/BlgB,QAAQC,IAAI,QACZ8O,KAAQK,QAAQ,CACdH,QAAS,uCACTC,IAAK,cACLC,SAAU,IAGZ,IAAMgR,EAAYF,EAAKhB,KAAKmB,SAAStf,KAAKuf,KAC1Cb,EAAYW,GACZtP,EAAKyP,eAAe,CAClBb,OAAQU,UAdVb,GAAe,IAgFX,SAaGC,EACC,qBAAKzY,IAAKyY,EAAUvY,IAAI,SAAS9B,MAAO,CAAEO,MAAO,UAEjD,gCACG4Z,EAAc,cAACmB,GAAA,EAAD,IAAsB,cAACC,GAAA,EAAD,IACrC,qBAAKvb,MAAO,CAAE8d,UAAW,GAAzB,yDAUDvS,4BAAWoS,I,ufCvJlB9M,GAAYlB,IAAZkB,QAEFhJ,GAAc3J,IAAOG,IAAV,MAIXyS,GAAa5S,IAAOG,IAAV,MAMV0f,GAAgB7f,YAAO2S,GAAP3S,CAAH,MAEG,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SAE9C0D,GAAgBjY,IAAOG,IAAV,MAYJ,SAAS2f,KAAoB,IAClC1kB,EAAOga,cAAPha,GACFmC,EAAWqF,cACX2D,EAAkBtD,YAAYmG,IAC9BvG,EAAUC,cACV6C,EAAS1C,YAAYwG,IAErBuE,EAAWC,mBAEjB7K,qBAAU,WAER,OADA7F,EAASqL,GAAgBxN,IAClB,WACLmC,EAAS6J,GAAgB,UAE1B,CAAC7J,EAAUnC,IAad,IAAM8jB,EAAgB,WACpB,IAAMa,EAAcpa,EAAO8C,UAMrB5B,EAAO,CAAEzL,IAJb2kB,EAAYjc,OAAS,EACjBsU,OAAO2H,EAAYA,EAAYjc,OAAS,GAAG1I,IAC3C,GACsB,EACD4I,MAAO,sBAElCzG,EACE6J,GAAgB,6BAAKzB,GAAN,IAAc8C,UAAU,GAAD,oBAAM9C,EAAO8C,WAAb,CAAwB5B,SAI5DgY,EAAmB,SAACzjB,GACxB,IAAM4kB,EAAcra,EAAO8C,UAAUgC,QAAO,SAACgI,GAAD,OAAUA,EAAKrX,KAAOA,KAElEmC,EAAS6J,GAAgB,6BAAKzB,GAAN,IAAc8C,UAAWuX,OAG7CC,EAAY,uCAAG,4BAAAxhB,EAAA,sEACCuP,EAASI,QAC1BsR,iBACAjkB,MAAK,SAACyb,GAAD,OAAYA,KACjBtZ,OAAM,SAACqO,GAAD,OAAWrP,QAAQC,IAAIoP,MAJb,UACbhK,EADa,+DAMnBA,EAAMuG,SAA8B,iBAAnBvG,EAAMuG,SACvBvG,EAAMwG,UAAY9C,EAAO8C,UACzBxG,EAAM6D,OAAS7D,EAAMoa,OARF,kBAUZpa,GAVY,2CAAH,qDAaZie,EAAe,uCAAG,4BAAAzhB,EAAA,sEACFwhB,IADE,UAChBhe,EADgB,wDAKtB1E,EAAS+K,GAAalN,EAAI6G,IAAQxG,MAAK,SAACE,GAEtC,OAAgB,IAAZA,EAAK6B,IACPmO,KAAQK,QAAQ,uCAAU,GACnBnJ,EAAQU,KAAR,sBAEFoI,KAAQM,MAAMtQ,EAAK8B,aAAc,MAXpB,2CAAH,qDAefmhB,EAAyB,uCAAG,WAAO5V,GAAP,eAAAvK,EAAA,sEACZwhB,IADY,UAC1Bhe,EAD0B,wDAIhC1E,EAAS+K,GAAalN,EAAI6G,IAAQxG,MAAK,SAACE,GAEtC,OAAgB,IAAZA,EAAK6B,IACPmO,KAAQK,QAAQ,uCAAU,GACnBnJ,EAAQU,KAAR,2BAAiCnI,EAAjC,iBAA4C4N,KAE9C2C,KAAQM,MAAMtQ,EAAK8B,aAAc,MAVV,2CAAH,sDAc/B,OACE,qCACG8I,GAAmB,cAAC,GAAD,KAClBA,GAAmBZ,GACnB,eAAC,GAAD,WACE,cAAC,GAAD,UACE,eAAC,KAAD,CAAY7D,MAAO,CAAEgR,OAAQ,UAA7B,UACE,cAAC,KAAWxQ,KAAZ,UACE,cAAC,IAAD,CAAMC,GAAG,mBAAT,wCAEF,eAAC,KAAWD,KAAZ,yCAAwBqD,EAAO3B,MAA/B,YAGJ,eAAC6b,GAAD,WAEE,cAAC,GAAD,CAAmBvS,IAAKU,EAAUrI,OAAQA,IAE1C,cAAC,KAAD,CAAiBwa,UA1F3B,SAAyBC,GAEvB,GAAKA,GAAUA,EAAOC,YAAYlB,QAAUiB,EAAOE,OAAOnB,MAA1D,CACA,IAAMoB,EA1BM,SAACC,EAAMC,EAAYC,GACjC,IAAMN,EAASO,MAAMC,KAAKJ,GADoB,EAE5BJ,EAAOS,OAAOJ,EAAY,GAArCK,EAFuC,oBAI9C,OADAV,EAAOS,OAAOH,EAAU,EAAGI,GACpBV,EAsBqBW,CACxBpb,EAAO8C,UACP2X,EAAOE,OAAOnB,MACdiB,EAAOC,YAAYlB,OAErB5hB,EAAS6J,GAAgB,6BAAKzB,GAAN,IAAc8C,UAAW8X,QAkFzC,SACE,cAAC,KAAD,CAAWS,YAAY,gBAAvB,SACG,SAAC3B,GAAD,OACC,+CAAK/R,IAAK+R,EAASC,UAAcD,EAAS4B,gBAA1C,aACE,cAACjC,GAAD,CACEC,SAAUtZ,EAAO8C,UACjBrG,YAAaid,EAASjd,YACtB8c,cAAeA,EACfL,iBAAkBA,EAClBD,0BAA2BA,eAOvC,cAAC,GAAD,UACE,cAAC,IAAD,CAAQxS,KAAK,UAAUlG,KAAK,QAAQtE,QAASse,EAA7C,8C,0WC3JJvN,GAAYlB,IAAZkB,QAEFhJ,GAAc3J,IAAOG,IAAV,MAGXyS,GAAa5S,IAAOG,IAAV,MAMVqd,GAAgBxd,YAAO2S,GAAP3S,CAAH,MAEG,SAACI,GAAD,OAAWA,EAAMC,MAAMC,OAAOiU,SAG9CvJ,GAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAGhBG,GAAmB,CACvBC,SAAU,uBACVC,MAAO,CACLkN,OAAQ,oCAEVA,OAAQ,CACNmF,IAAK,4CAIM,SAASsD,KAAgB,IAAD,EACd9L,cAAfha,EAD6B,EAC7BA,GAAI4N,EADyB,EACzBA,OACNnG,EAAUC,cACVvF,EAAWqF,cACXiE,EAAO5D,YAAYyG,IACnBnD,EAAkBtD,YAAYmG,IALC,EAMtB2B,KAAKyC,UAAbC,EAN8B,oBAOrC7Q,QAAQC,IAAI,gBAAiBgK,GAC7BjK,QAAQC,IAAI,kBAAmB0J,GAE/BnD,qBAAU,WACRxG,QAAQC,IAAI,aACZU,EAASwL,GAAgB3N,EAAI4N,MAC5B,CAACzL,EAAUnC,EAAI4N,IAEdnC,GACF4G,EAAKyP,eAAe,CAClBlZ,MAAO6C,EAAK7C,MACZoE,YAAavB,EAAKuB,aAAe,GACjCuS,SAAU9T,EAAK8T,UAAY,KAe/B,OACE,qCACGpU,GAAmB,cAAC,GAAD,KAClBA,GAAmBM,GACnB,eAAC,GAAD,WACE,cAAC,GAAD,UACE,eAAC,KAAD,CAAY/E,MAAO,CAAEgR,OAAQ,UAA7B,UACE,cAAC,KAAWxQ,KAAZ,UACE,cAAC,IAAD,CAAMC,GAAG,mBAAT,wCAEF,cAAC,KAAWD,KAAZ,UACE,eAAC,IAAD,CAAMC,GAAE,2BAAsBnH,GAA9B,wCACSyL,EAAK6T,YADd,SAIF,eAAC,KAAWpY,KAAZ,0CAA0BuE,EAAKzL,GAA/B,YAGJ,cAAC,GAAD,UACE,eAAC,KAAD,6BACM4P,IADN,IAEEyC,KAAMA,EACN/B,SAjCK,SAACwL,GAChB3Z,EAAS2L,GAAmB9N,EAAI4N,EAAQkO,IAASzb,MAAK,SAACE,GACrD,OAAgB,IAAZA,EAAK6B,IACPmO,KAAQK,QAAQ,uCAAU,GACnBnJ,EAAQU,KAAR,2BAAiCnI,KAEnCuQ,KAAQM,MAAMtQ,EAAK8B,aAAc,OA4BhC4N,iBAAkBA,GAJpB,UAME,cAAC,KAAK/I,KAAN,CACEvG,KAAK,QACLmQ,MAAM,2BACNC,MAAO,CAAC,CAAEb,UAAU,IAHtB,SAKE,cAAC,IAAD,MAEF,cAAC,KAAKhJ,KAAN,CAAWvG,KAAK,cAAcmQ,MAAM,2BAApC,SACE,cAAC,IAAMoQ,SAAP,CAAgBC,KAAM,EAAGza,MAAO,CAAE0a,OAAQ,YAE5C,cAAC,KAAKla,KAAN,CAAWvG,KAAK,WAAWmQ,MAAM,2BAAjC,SACE,cAAC,IAAD,CAAO9J,YAAY,8CAErB,iCACE,cAAC,IAAD,CAAQgK,KAAK,UAAUlG,KAAK,QAAQoG,SAAS,SAA7C,wCC5GD,SAAS+E,KACtB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAI,WAAjB,SACE,0BAEF,cAAC,IAAD,CAAOA,KAAI,gBAAX,SACE,cAAC6M,GAAD,MAEF,cAAC,IAAD,CAAO9M,OAAK,EAACC,KAAI,mBAAjB,SACE,cAACgM,GAAD,MAEF,cAAC,IAAD,CAAOjM,OAAK,EAACC,KAAI,uBAAjB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,uBAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,oCAAlB,SACE,cAAC,GAAD,S,4mBClBAC,GAAUC,IAAVD,MACFE,GAAa1R,YAAOwR,GAAPxR,CAAH,MAMVD,GAAaC,YAAOC,IAAPD,CAAH,MAGV2R,GAAiB3R,YAAOC,IAAKqC,KAAZtC,CAAH,MAGdmhB,GAAgBnhB,IAAOG,IAAV,MAMbkb,GAAYrb,IAAOmQ,IAAV,MAKA,SAASiR,KACtB,IAAMpP,EAAWhP,cACXH,EAAUC,cACV5E,EAAO+E,YAAYvD,IAQzB,OANA0D,qBAAU,WACkB,aAAtB4O,EAASjP,UACXF,EAAQU,KAAK,mBAEd,CAACV,EAASmP,EAASjP,WAGpB,eAAC,IAAD,WACE,cAAC,GAAD,UACE,eAAC,GAAD,CACEpB,KAAK,SACLsQ,oBAAqB,CAAC,KACtBC,gBAAiB,CAAC,QAHpB,UAKE,cAACiP,GAAD,UACE,cAAC,GAAD,CAAWvd,IAAI,SAASF,IAAKxF,EAAK8H,QAAQG,cAE5C,cAAC,GAAD,CAEEgM,KAAM,cAACL,GAAA,EAAD,CAAchQ,MAAO,CAAEqD,SAAU,MAFzC,SAIE,cAAC,IAAD,CAAM5C,GAAG,gBAAT,uCAHI,KAKN,cAAC,GAAD,CAEE4P,KAAM,cAACkP,GAAA,EAAD,CAAcvf,MAAO,CAAEqD,SAAU,MAFzC,SAIE,cAAC,IAAD,CAAM5C,GAAG,mBAAT,uCAHI,UAOV,cAAC,IAAD,CAAQT,MAAO,CAAEuQ,WAAY,SAA7B,SACE,cAAC,GAAD,SC/CR,IAAMwD,GAAU,GAEVyL,GAAmB,kBACvB,mCACE,uBACA,4EACA,+BACE,cAAC,IAAD,CAAM/e,GAAG,YAAT,0BACA,uBACA,cAAC,IAAD,CAAMA,GAAG,SAAT,iCAKAgf,GAAsB,kBAC1B,mCACE,uBACA,4FA4FWC,OAxFf,WACE,IAAMtjB,EAAO+E,YAAYvD,IAEzB,OADA9C,QAAQC,IAAI,aAAcqB,GAExB,eAAC,IAAD,WAGE,cAAC,IAAD,CAAOoT,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC9E,GAAD,MAGF,cAAC,IAAD,CAAO6E,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC/F,GAAD,MAGF,cAAC,IAAD,CAAO8F,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,GAAD,CAAgBsE,QAASA,OAG3B,cAAC,IAAD,CAAOvE,OAAK,EAACC,KAAK,eAAlB,SACE,cAAC2G,GAAD,MAGF,cAAC,IAAD,CAAO5G,OAAK,EAACC,KAAK,oBAAlB,SACE,cAAC2I,GAAD,CAAiBrE,QAASA,OAK5B,cAAC,IAAD,CAAOvE,OAAK,EAACC,KAAK,QAAlB,SACGrT,EAAO,cAACgY,GAAD,CAAcL,QAASA,KAAc,cAAC,GAAD,MAG/C,cAAC,IAAD,CAAOvE,OAAK,EAACC,KAAK,iBAAlB,SACGrT,EAAO,cAAC6Y,GAAD,CAAclB,QAASA,KAAc,cAAC,GAAD,MAG/C,cAAC,IAAD,CAAOvE,OAAK,EAACC,KAAK,aAAlB,SACGrT,EAAO,cAAC,GAAD,CAAc2X,QAASA,KAAc,cAAC,GAAD,MAG/C,cAAC,IAAD,CAAOtE,KAAK,kBAAZ,SACGrT,EAAO,cAACqd,GAAD,IAAoB,cAAC,GAAD,MAG9B,cAAC,IAAD,CAAOhK,KAAK,MAAZ,SAAmBrT,EAAO,cAAC6T,GAAD,IAAa,cAAC,GAAD,MAGvC,cAAC,IAAD,CAAOR,KAAK,iBAAZ,SACGrT,EACqB,IAApBA,EAAKwE,WACH,cAACsZ,GAAD,IAEA,cAAC,GAAD,IAGF,cAAC,GAAD,MAKJ,cAAC,IAAD,CAAOzK,KAAK,WAAZ,SACGrT,GAA4B,IAApBA,EAAKwE,WAAmB,cAAC0e,GAAD,IAAkB,cAAC,GAAD,MAKrD,cAAC,IAAD,CAAO7P,KAAK,WAAZ,SACGrT,IACEA,GAA4B,IAApBA,EAAKwE,WACZ,cAACgT,GAAD,IAEA,cAAC,GAAD,OAKN,cAAC,IAAD,CAAOnE,KAAK,IAAZ,SACE,cAAC,GAAD,CAAgBsE,QAASA,W,mHCnHzBlD,GAAYlB,IAAZkB,QACF8O,GAAYzhB,YAAOyR,IAAPzR,CAAH,MAEH,SAACI,GAAD,OAAWA,EAAMshB,aAAN,WAGjBC,GAAc,CAAC,UAAW,KAAM,YAAa,YAC7CC,GAAiB,CAAC,aA8BTC,OA5Bf,WAEE,IAAMtkB,EAAWqF,cACTG,EAAaC,cAAbD,SAEF+e,EAAqBH,GAAYI,MAAK,SAAC3L,GAAD,OAAQrT,EAASif,SAAS5L,MAChE6L,EAAwBL,GAAeG,MAAK,SAAC3L,GAAD,OAChDrT,EAASif,SAAS5L,MAOpB,OAJAhT,qBAAU,WACR7F,EAASgB,QACR,CAAChB,IAGF,eAACkkB,GAAD,CAAWC,YAAaO,EAAxB,UAEE,cAACtf,GAAD,IACA,cAAC,GAAD,UAEE,cAAC,GAAD,OAGAmf,GAAsB,cAACrd,GAAD,QC/Bfyd,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB3mB,MAAK,YAAkD,IAA/C4mB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFDO,GAAY5mB,YAAY,CACnCC,KAAM,OACNC,aAAc,CACZ6K,KAAM,KACNoY,SAAU,KACVtZ,OAAQ,KACRgd,WAAW,EACXllB,aAAc,IAEhBjB,SAAU,CACRyK,UAAW,SAACvK,EAAOC,GACjBD,EAAMiJ,OAAShJ,EAAOG,SAExBuK,QAAS,SAAC3K,EAAOC,GACfD,EAAMmK,KAAOlK,EAAOG,SAEtB8lB,YAAa,SAAClmB,EAAOC,GACnBD,EAAMuiB,SAAWtiB,EAAOG,SAE1BwW,gBAAiB,SAAC5W,EAAOC,GACvBD,EAAMe,aAAed,EAAOG,SAE9B+lB,aAAc,SAACnmB,EAAOC,GACpBD,EAAMimB,UAAYhmB,EAAOG,Y,GAY3B4lB,GAAUrlB,QA2DCqlB,I,GAhEbzb,U,GACAI,Q,GACAub,Y,GACAtP,gB,GACAuP,aA4DaH,GAAf,SC/FaI,GAAoBhnB,YAAY,CAC3CC,KAAM,QACNC,aAAc,CACZyB,aAAc,MAEhBjB,SAAU,CACR8W,gBAAiB,SAAC5W,EAAOC,GAEvBD,EAAMe,aAAed,EAAOG,YAWnBgmB,IALoBA,GAAkBzlB,QAAtCiW,gBAKAwP,GAAf,SCbeC,eAAe,CAC5BC,QAAS,CACPhlB,KAAMilB,EACNrb,MAAOsb,GACPvd,OAAQwd,GACRpK,QAASqK,GACTllB,KAAMmlB,GACNpQ,OAAQqQ,GACRzc,KAAM0c,GACN9lB,aAAc+lB,MCTlBC,IAAS3S,OACP,cAAC,IAAM4S,WAAP,UACE,cAAC,IAAD,CAAU3lB,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAesC,MCbA,CACnBC,OAAQ,CACNC,QAAS,CACPgF,KAAM,UACNtE,MAAO,UACP0iB,KAAM,UACNnjB,KAAM,WAERyV,UAAW,CACT1Q,KAAM,UACNtE,MAAO,YACP0iB,KAAM,UACNnjB,KAAM,WAER+T,MAAO,OACPlQ,KAAM,cDFJ,SACE,cAAC,IAAD,UACE,cAAC,GAAD,YAKRuf,SAASC,eAAe,SAM1B3B,O","file":"static/js/main.bcc863bc.chunk.js","sourcesContent":["export const MEDIA_QUERY_MOBILE_M = '@media screen and (min-width: 375px)';\nexport const MEDIA_QUERY_MOBILE_L = '@media screen and (min-width: 480px)';\nexport const MEDIA_QUERY_TABLET = '@media screen and (min-width: 768px)';\nexport const MEDIA_QUERY_LAPTOP = '@media screen and (min-width: 1200px)';\n\n/* ant design breakpoint width#\n{\n  xs: '480px',\n  sm: '576px',\n  md: '768px',\n  lg: '992px',\n  xl: '1200px',\n  xxl: '1600px',\n}\n*/\n","export const BASE_URL = \"https://gagio-backend.ahwei777.tw/v1\";\n//export const BASE_URL = \"http://localhost:3002/v1\";","const TOKEN_NAME = \"token\";\n\nconst passwordRegExp = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/;\n\nexport const isStrongPassword = (password) => {\n  return passwordRegExp.test(password.toString());\n};\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\n\nexport function toCurrency(num) {\n  var parts = num.toString().split(\".\");\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  return \"NT$\" + parts.join(\".\");\n}\n\nexport function translateAuth(AuthTypeId) {\n  switch (AuthTypeId) {\n    case 1:\n      return \"一般會員\";\n    case 2:\n      return \"開課者\";\n    case 3:\n      return \"管理員\";\n    default:\n      return \"未知\";\n  }\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const registerAPI = (email, password, nickname) =>\n  fetch(`${BASE_URL}/users/register`, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body: JSON.stringify({\n      email,\n      password,\n      nickname,\n    }),\n  }).then((res) => res.json());\n\nexport const loginAPI = (email, password) =>\n  fetch(`${BASE_URL}/users/login`, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  }).then((res) => res.json());\n\nexport const getMeAPI = () =>\n  fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateMyInfoAPI = (nickname) =>\n  fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      nickname,\n    }),\n  }).then((res) => res.json());\n\nexport const updateMyPasswordAPI = (oldPassword, newPassword) =>\n  fetch(`${BASE_URL}/users/password/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      oldPassword,\n      newPassword,\n    }),\n  }).then((res) => res.json());\n\nexport const updateUserAuthAPI = (id, AuthTypeId) =>\n  fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      AuthTypeId,\n    }),\n  }).then((res) => res.json());\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getCartListAPI = () => {\n  return fetch(`${BASE_URL}/carts`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const addCartItemAPI = (id) =>\n  fetch(`${BASE_URL}/carts/cart-item/${id}`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const deleteCartItemAPI = (id) =>\n  fetch(`${BASE_URL}/carts/cart-item/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport { getCartListAPI, addCartItemAPI, deleteCartItemAPI } from '../../webAPI/cartAPI';\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    cartList: [],\n    isGettingCartList: false,\n    getCartListError: null,\n    isAddingCartItem: false,\n    addCartItemError: null,\n    isDeletingCartItem: false,\n    deleteCartItemError: null,\n  },\n  reducers: {\n    setCartList: (state, action) => {\n      console.log('setCartList')\n      state.cartList = action.payload;\n      state.getCartListError = null;\n    },\n    setIsGettingCartList: (state, action) => {\n      state.isGettingCartList = action.payload;\n    },\n    setGetCartListError: (state, action) => {\n      state.getCartListError = action.payload;\n    },\n    setIsAddingCartItem: (state, action) => {\n      state.isAddingCartItem = action.payload;\n    },\n    setAddCartItemError: (state, action) => {\n      state.addCartItemError = action.payload;\n    },\n    setIsDeletingCartItem: (state, action) => {\n      state.isDeletingCartItem = action.payload;\n    },\n    setDeleteCartItemError: (state, action) => {\n      state.deleteCartItemError = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setCartList,\n  setIsGettingCartList,\n  setGetCartListError,\n  setIsAddingCartItem,\n  setAddCartItemError,\n  setIsDeletingCartItem,\n  setDeleteCartItemError\n} = cartSlice.actions;\n\n// redux thunk function\nexport const getCartList = () => (dispatch) => {\n  console.log('thunk getCartList')\n  dispatch(setIsGettingCartList(true));\n  getCartListAPI().then((json) => {\n    if (json.ok === 0) {\n      dispatch(setCartList([]))\n      dispatch(setGetCartListError(json.errorMessage));\n      dispatch(setIsGettingCartList(false));\n      return;\n    }\n    dispatch(setCartList(json.data.cart_items))\n    dispatch(setIsGettingCartList(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n};\nexport const addCartItem = (id) => async (dispatch) => {\n  dispatch(setIsAddingCartItem(true));\n  await addCartItemAPI(id).then((json) => {\n    if (json.ok === 0) {\n      console.log(json.errorMessage)\n      dispatch(setAddCartItemError(json.errorMessage));\n      dispatch(setIsAddingCartItem(false));\n      return;\n    }\n    dispatch(setAddCartItemError(null));\n    dispatch(setIsAddingCartItem(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n  dispatch(getCartList());\n};\nexport const deleteCartItem = (id) => async (dispatch) => {\n  dispatch(setIsDeletingCartItem(true));\n  await deleteCartItemAPI(id).then((json) => {\n    if (json.ok === 0) {\n      dispatch(setDeleteCartItemError(json.errorMessage));\n      dispatch(setIsDeletingCartItem(false));\n      return;\n    }\n    dispatch(setDeleteCartItemError(null));\n    dispatch(setIsDeletingCartItem(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n  dispatch(getCartList());\n};\n// selector\nexport const selectCartList = (store) => store.cart.cartList;\n\nexport default cartSlice.reducer;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  loginAPI,\n  registerAPI,\n  getMeAPI,\n  updateMyInfoAPI,\n  updateMyPasswordAPI,\n  updateUserAuthAPI,\n} from '../../webAPI/userAPI';\nimport { getCartList, setCartList } from './cartReducer';\nimport { setAuthToken } from '../../utils';\n\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    user: null,\n    // 初始值設為 null 避免 render header 時因為還在確認使用者身分而跳字\n    isGettingUser: null,\n    errorMessage: null,\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n    },\n    setIsGettingUser(state, action) {\n      state.isGettingUser = action.payload;\n    },\n    setUserErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setUser,\n  setIsGettingUser,\n  setUserErrorMessage,\n} = userSlice.actions;\n\n// redux thunk function\nexport const getMe = () => async (dispatch, getState) => {\n  const { isGettingUser } = getState();\n  if (!isGettingUser) {\n    // start\n    dispatch(setIsGettingUser(true));\n  }\n  await getMeAPI().then((json) => {\n    if (json.ok === 0) {\n      dispatch(setUser(null));\n      dispatch(setUserErrorMessage(json.errorMessage));\n      // finish\n      return dispatch(setIsGettingUser(false));\n    }\n    dispatch(getCartList());\n    dispatch(setUser(json.data));\n  });\n  // finish\n  return dispatch(setIsGettingUser(false));\n};\n\nexport const login = (email, password) => (dispatch) => {\n  if (!email || !password) {\n    return dispatch(setUserErrorMessage('missing field'));\n  }\n  // start\n  dispatch(setIsGettingUser(true));\n  return loginAPI(email, password).then((json) => {\n    if (json.ok === 1) {\n      //dispatch(setUserErrorMessage(json.errorMessage));\n      // finish\n      //return dispatch(setIsGettingUser(false));\n      setAuthToken(json.token);\n    }\n    return json;\n  });\n};\nexport const register = (email, password, nickname) => (dispatch) => {\n  if (!email || !password || !nickname) {\n    return dispatch(setUserErrorMessage('missing field'));\n  }\n  return registerAPI(email, password, nickname).then((json) => {\n    if (json.ok === 1) {\n      // finish\n      setAuthToken(json.token);\n      //return dispatch(getMe());\n    }\n    //dispatch(setUserErrorMessage(json.errorMessage));\n    // return dispatch(setIsGettingUser(false));\n    return json;\n  });\n};\nexport const logout = () => (dispatch) => {\n  setAuthToken('');\n  dispatch(setUser(null));\n  dispatch(setCartList([]));\n};\n\nexport const updateMyInfo = (nickname) => (dispatch) => {\n  return updateMyInfoAPI(nickname).then((res) => {\n    return res;\n  });\n};\n\nexport const updateMyPassword = (oldPassword, newPassword) => (dispatch) => {\n  // 前端已完成確認密碼\n  return updateMyPasswordAPI(oldPassword, newPassword).then((res) => {\n    return res;\n  });\n};\n\nexport const updateUserAuth = (id, email, nickname, authType) => (dispatch) => {\n  updateUserAuthAPI(id, email, nickname, authType).then((res) => {\n    if (res.ok === 0) {\n      return dispatch(setUserErrorMessage(res.errorMessage));\n    }\n  });\n};\n\n// selector\nexport const selectUser = (store) => store.user.user;\nexport const selectUserErrorMessage = (store) => store.user.errorMessage;\n\nexport default userSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/LOGO.07bbf93b.png\";","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { Badge, Button, Menu, Drawer, Grid, Input } from 'antd';\nimport { MEDIA_QUERY_TABLET } from '../../constants/breakpoint';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout, selectUser } from '../../redux/reducers/userReducer';\nimport { selectCartList } from '../../redux/reducers/cartReducer';\nimport { ShoppingCartOutlined } from '@ant-design/icons';\nimport LOGO from '../../img/LOGO.png';\n\nconst { useBreakpoint } = Grid;\nconst { Search } = Input;\nconst StyledMenu = styled(Menu)`\n  font-size: 16px;\n  background: transparent;\n  border: none;\n`;\nconst HeaderContainer = styled.div`\n  background: white;\n  color: ${(props) => props.theme.colors.primary.text};\n  padding: 5px 15px;\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: sticky;\n  z-index: 9;\n  top: 0;\n`;\nconst Logo = styled(Link)`\n  width: 150px;\n  text-align: center;\n  & > img {\n    height: 52px;\n  }\n`;\nconst NavContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1;\n  }\n`;\n// RWD 隱藏切換\nconst NavToggleGroup = styled.div`\n  display: none;\n  ${MEDIA_QUERY_TABLET} {\n    display: block;\n  }\n`;\nconst NavRightPart = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst NavToggler = styled(Button)`\n  height: 32px;\n  padding: 6px;\n  display: inline-block;\n  background: none;\n  margin-left: 30px;\n  ${MEDIA_QUERY_TABLET} {\n    display: none;\n  }\n`;\nconst NavTogglerBody = styled.div`\n  display: block;\n  width: 20px;\n  height: 2px;\n  background: ${(props) => props.theme.colors.primary.light};\n  position: relative;\n  ::after,\n  ::before {\n    content: attr(x);\n    width: 20px;\n    position: absolute;\n    top: -6px;\n    left: 0;\n    height: 2px;\n    background: ${(props) => props.theme.colors.primary.light};\n  }\n  ::after {\n    top: auto;\n    bottom: -6px;\n  }\n`;\nconst CartIcon = styled(ShoppingCartOutlined)`\n  color: ${(props) => props.theme.colors.primary.text};\n  font-size: 24px;\n  :hover {\n    color: ${(props) => props.theme.colors.primary.light};\n  }\n`;\n\nconst LeftMenu = ({\n  searchValue,\n  setSearchValue,\n  onSearch,\n  handleClose,\n  currentKey,\n}) => {\n  const { md } = useBreakpoint();\n  return (\n    <StyledMenu\n      mode={md ? 'horizontal' : 'inline'}\n      onClick={handleClose}\n      selectedKeys={currentKey}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n      }}\n    >\n      <Search\n        value={searchValue}\n        onChange={(e) => setSearchValue(e.value)}\n        placeholder=\"搜尋課程\"\n        onSearch={onSearch}\n        style={{ width: 150 }}\n      />\n      <Menu.Item key=\"courses\">\n        <Link to=\"/courses\">課程列表</Link>\n      </Menu.Item>\n    </StyledMenu>\n  );\n};\n\nconst RightMenu = ({ user, handleLogout, handleClose, currentKey }) => {\n  const { md } = useBreakpoint();\n  return (\n    <StyledMenu\n      mode={md ? 'horizontal' : 'inline'}\n      onClick={handleClose}\n      selectedKeys={currentKey}\n    >\n      {user && (\n        <>\n          {user.authTypeId === 1 && (\n            <Menu.Item key=\"teacher-apply\">\n              <Link to=\"/teacher-apply\">申請開課</Link>\n            </Menu.Item>\n          )}\n          <Menu.Item key=\"my-course\">\n            <Link to=\"/my-course\">我的課程</Link>\n          </Menu.Item>\n          <Menu.Item key=\"myAccount\">\n            <Link to=\"/me\">帳號設定</Link>\n          </Menu.Item>\n          {user.authTypeId === 2 && (\n            <Menu.Item key=\"teacher\">\n              <Link to=\"/teacher\">老師後台</Link>\n            </Menu.Item>\n          )}\n          {user.authTypeId === 3 && (\n            <Menu.Item key=\"console\">\n              <Link to=\"/console\">管理後台</Link>\n            </Menu.Item>\n          )}\n          <Menu.Item key=\"logout\" onClick={handleLogout}>\n            <Link to=\"/\">登出</Link>\n          </Menu.Item>\n        </>\n      )}\n      {!user && (\n        <>\n          <Menu.Item key=\"register\">\n            <Link to=\"/register\">註冊</Link>\n          </Menu.Item>\n          <Menu.Item key=\"login\">\n            <Link to=\"/login\">登入</Link>\n          </Menu.Item>\n        </>\n      )}\n    </StyledMenu>\n  );\n};\n\nfunction getCurrentKey(pathname) {\n  if (pathname.indexOf('/courses') === 0) return 'courses';\n  if (pathname.indexOf('/teacher-apply') === 0) return 'teacher-apply';\n  if (pathname.indexOf('/my-course') === 0) return 'my-course';\n  if (pathname.indexOf('/me') === 0) return 'me';\n  if (pathname.indexOf('/teacher') === 0) return 'teacher';\n  if (pathname.indexOf('/console') === 0) return 'console';\n  if (pathname.indexOf('/register') === 0) return 'register';\n  if (pathname.indexOf('/login') === 0) return 'login';\n  return 'index';\n}\n\nexport default function Header() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const pathname = location.pathname;\n  const cartList = useSelector(selectCartList);\n  const user = useSelector(selectUser);\n  const [searchValue, setSearchValue] = useState('');\n  const [currentKey, setCurrentKey] = useState('');\n\n  useEffect(() => {\n    console.log('getKey');\n    setCurrentKey(getCurrentKey(pathname))\n  }, [pathname]);\n\n  const onSearch = (value) => {\n    if (value) {\n      setSearchValue('');\n      history.push(`/courses?keyword=${value}`);\n    }\n  };\n\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n\n  const [state, setState] = useState({ visible: false });\n\n  const handleClick = () => {\n    setState({\n      visible: true,\n    });\n  };\n  const handleClose = () => {\n    setState({\n      visible: false,\n    });\n  };\n\n  return (\n    <HeaderContainer>\n      <Logo to=\"/\">\n        <img src={LOGO} alt=\"img not found\" />\n      </Logo>\n      <NavContainer>\n        <NavToggleGroup>\n          <LeftMenu\n            searchValue={searchValue}\n            onSearch={onSearch}\n            setSearchValue={setSearchValue}\n            currentKey={currentKey}\n          />\n        </NavToggleGroup>\n        <NavRightPart>\n          <Badge count={cartList.length} offset={[10]}>\n            <Link to=\"/cart\">\n              <CartIcon />\n            </Link>\n          </Badge>\n          <NavToggleGroup>\n            <RightMenu\n              user={user}\n              cartList={cartList}\n              handleLogout={handleLogout}\n              currentKey={currentKey}\n            />\n          </NavToggleGroup>\n        </NavRightPart>\n        <NavToggler onClick={handleClick}>\n          <NavTogglerBody />\n        </NavToggler>\n        <Drawer\n          title=\"GaGiO\"\n          placement=\"top\"\n          closable={false}\n          onClose={handleClose}\n          visible={state.visible}\n        >\n          <LeftMenu\n            searchValue={searchValue}\n            onSearch={onSearch}\n            setSearchValue={setSearchValue}\n            handleClose={handleClose}\n            currentKey={currentKey}\n          />\n          <RightMenu\n            user={user}\n            cartList={cartList}\n            handleLogout={handleLogout}\n            handleClose={handleClose}\n            currentKey={currentKey}\n          />\n        </Drawer>\n      </NavContainer>\n    </HeaderContainer>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Row, Col } from 'antd';\nimport {\n  FacebookFilled,\n  TwitterSquareFilled,\n  InstagramFilled,\n  GithubOutlined,\n} from '@ant-design/icons';\n\nconst FooterContainer = styled.div`\n  text-align: center;\n  padding: 12px 24px;\n  background: ${(props) => props.theme.colors.grey};\n  color: ${(props) => props.theme.colors.primary.text};\n`;\nconst MediaCol = styled(Col)`\n  display: flex;\n  flex-direction: column;\n`;\nconst MediaWrapper = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & span {\n    font-size: 24px;\n    transition: all 0.5s;\n    :hover {\n      cursor: pointer;\n      font-size: 36px;\n    }\n  }\n`;\n\nexport default function Footer() {\n  //const themeContext = useContext(ThemeContext);\n\n  return (\n    <FooterContainer>\n      <Row gutter={[0, { sm: 24, md: 0 }]}>\n        <Col xs={12} md={6}>\n          <h3>\n            <strong>關於我們</strong>\n          </h3>\n          <div>加入我們</div>\n          <div>服務條款</div>\n        </Col>\n        <MediaCol xs={12} md={6}>\n          <h3>\n            <strong>追蹤動態</strong>\n          </h3>\n          <MediaWrapper>\n            <FacebookFilled />\n            <TwitterSquareFilled />\n            <InstagramFilled />\n            <a\n              href=\"https://github.com/ahwei777/GaGiO-frontend\"\n              style={{ color: 'black' }}\n            >\n              <GithubOutlined />\n            </a>\n          </MediaWrapper>\n        </MediaCol>\n        <Col\n          xs={24}\n          md={12}\n          style={{\n            fontSize: 24,\n          }}\n        >\n          <div>GaGiO © All Rights Reserved.</div>\n          {/* credits */}\n          <div\n            style={{\n              fontSize: 12,\n            }}\n          >\n            <a href=\"https://www.freepik.com/vectors/technology\">\n              Technology vector created by vectorjuice - www.freepik.com\n            </a>\n            <div>\n              Icons made by{' '}\n              <a href=\"https://www.freepik.com\" title=\"Freepik\">\n                Freepik\n              </a>{' '}\n              from{' '}\n              <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n                www.flaticon.com\n              </a>\n            </div>\n          </div>\n\n          {/* credits */}\n        </Col>\n      </Row>\n    </FooterContainer>\n  );\n}\n","import React from 'react';\nimport { Card, Avatar } from 'antd';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { toCurrency } from '../../utils';\n\nconst { Meta } = Card;\nconst CardWrapper = styled.div`\n  border: ${(props) => props.theme.colors.primary.main} 1px solid;\n  border-bottom: ${(props) => props.theme.colors.primary.main} 5px solid;\n  :hover {\n    opacity: 0.7;\n  }\n`;\nconst TeacherLink = styled(Link)`\n  position: absolute;\n  left: 8%;\n  top: 8%;\n  transition: all 0.5s;\n  :hover {\n    transform: scale(1.3);\n  }\n`;\nconst Student = styled.div`\n  margin-top: 12px;\n`;\nconst Price = styled.div`\n  font-size: 24px;\n  font-weight: bold;\n  text-align: right;\n  color: ${(props) => props.theme.colors.primary.main};\n`;\n\nexport default function CourseCard({ course, isBought }) {\n  return (\n    <>\n      <Link to={`/courses/${course.id}`}>\n        <CardWrapper>\n          <Card cover={<img alt=\"unavailable\" src={course.imgUrl} />}>\n            <Meta\n              title={course.title}\n            />\n              {!isBought && <Price>{toCurrency(course.price)}</Price>}\n          </Card>\n        </CardWrapper>\n      </Link>\n      {course.Teacher && (\n        <TeacherLink to={`/teacher-info/${course.TeacherId}`}>\n          <Avatar size={'large'} src={course.Teacher.avatarUrl} />\n        </TeacherLink>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport { Spin } from 'antd';\nimport styled from 'styled-components';\n\nconst LoadingWrapper = styled.div`\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n`;\n\nfunction Loading() {\n  return (\n    <LoadingWrapper>\n      <Spin size={'large'}/>\n    </LoadingWrapper>\n  );\n}\n\nexport default Loading;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport {\n  getCourseListAPI,\n  getCourseAPI,\n  addCourseAPI,\n  updateCourseAPI,\n  getMyCourseListAPI,\n  getMyTeachCourseListAPI,\n  getDetailCourseAPI,\n  getUnitByUnitIdAPI,\n  updateUnitByUnitIdAPI\n} from \"../../webAPI/courseAPI\";\n\nexport const courseSlice = createSlice({\n  name: \"course\",\n  initialState: {\n    isGettingCourse: false,\n    getCourseError: null,\n    courseList: [],\n    course: null,\n    myCourseList: null,\n    myTeachCourseList: null,\n    detailCourse: null,\n    unit: null,\n  },\n  reducers: {\n    setCourseList: (state, action) => {\n      state.courseList = action.payload;\n      state.getCourseError = null;\n    },\n    setIsGettingCourse: (state, action) => {\n      state.isGettingCourse = action.payload;\n    },\n    setGetCourseError: (state, action) => {\n      state.getCourseError = action.payload;\n    },\n    setCourse: (state, action) => {\n      state.course = action.payload;\n      state.getCourseError = null;\n    },\n    setMyCourseList: (state, action) => {\n      state.myCourseList = action.payload;\n      state.getCourseError = null;\n    },\n    setMyTeachCourseList: (state, action) => {\n      state.myTeachCourseList = action.payload;\n      state.getCourseError = null;\n    },\n    setDetailCourse: (state, action) => {\n      state.detailCourse = action.payload;\n      state.getCourseError = null;\n    },\n    setUnit: (state, action) => {\n      state.unit = action.payload;\n      state.getCourseError = null;\n    },\n  },\n});\n\n// action\nexport const {\n  setIsGettingCourse,\n  setGetCourseError,\n  setCourseList,\n  setCourse,\n  setMyCourseList,\n  setMyTeachCourseList,\n  setDetailCourse,\n  setUnit\n} = courseSlice.actions;\n\n// redux thunk function\nexport const getCourseList = (params) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getCourseListAPI(params)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getCourse = (id) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getCourseAPI(id)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setCourse(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getMyCourseList = () => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getMyCourseListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setMyCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getMyTeachCourseList = () => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getMyTeachCourseListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setMyTeachCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n\n\nexport const addCourse = ({ title, description, price, imgUrl }) => (dispatch) => {\n  return addCourseAPI(title, price, description, imgUrl)\n    .then((json) => {\n      return json\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateCourse = (courseId, {title, price, description, isPublic, unit_list, imgUrl }) => (\n  dispatch\n) => {\n  if (!courseId || !title || price < 0 || !description || isPublic === undefined || !unit_list || !imgUrl) return;\n  return updateCourseAPI(courseId, {title, price, description, isPublic, unit_list, imgUrl})\n    .then((json) => {\n      return json;\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n\nexport const getDetailCourse = (courseId) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getDetailCourseAPI(courseId)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setDetailCourse({...json.data, unit_list: JSON.parse(json.data.unit_list)}));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getUnitByUnitId = (courseId, unitId) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getUnitByUnitIdAPI(courseId, unitId)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setUnit(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateUnitByUnitId = (courseId, unitId, unit) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  return updateUnitByUnitIdAPI(courseId, unitId, unit)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return json;\n      }\n      // success\n      dispatch(setIsGettingCourse(false));\n      return json;\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n// selector\nexport const selectIsGettingCourse = (store) => store.course.isGettingCourse;\nexport const selectCourseList = (store) => store.course.courseList;\nexport const selectCourse = (store) => store.course.course;\nexport const selectMyCourseList = (store) => store.course.myCourseList;\nexport const selectMyTeachCourseList = (store) => store.course.myTeachCourseList;\nexport const selectDetailCourse = (store) => store.course.detailCourse;\nexport const selectUnit = (store) => store.course.unit;\n\nexport default courseSlice.reducer;\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getCourseListAPI = ({\n  keyword = '',\n  page = '',\n  limit='',\n  sort = 'id',\n  order = 'ASC',\n  getPublic = '',\n} = {}) => {\n  console.log('keyword', keyword);\n  return fetch(\n    `${BASE_URL}/courses?_keyword=${keyword}&_sort=${sort}&_order=${order}&_page=${page}&_limit=${limit}&_public=${getPublic}`,\n    {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`,\n      },\n    }\n  ).then((res) => res.json());\n};\n\nexport const getCourseAPI = (id) =>\n  fetch(`${BASE_URL}/courses/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const addCourseAPI = (title, price, description, imgUrl) =>\n  fetch(`${BASE_URL}/courses`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      title,\n      price,\n      description,\n      imgUrl,\n    }),\n  }).then((res) => res.json());\n\n// XX\nexport const deleteCourseAPI = (id) =>\n  fetch(`${BASE_URL}/courses/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateCourseAPI = (\n  courseId,\n  { title, price, description, isPublic, unit_list, imgUrl }\n) =>\n  fetch(`${BASE_URL}/courses/${courseId}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      title,\n      price,\n      description,\n      isPublic,\n      unit_list,\n      imgUrl,\n    }),\n  }).then((res) => res.json());\n\n//XX\nexport const addUnitListAPI = (courseId) =>\n  fetch(`${BASE_URL}/unit`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({ courseId, unit_list: [] }),\n  }).then((res) => res.json());\n\n//XX\nexport const getUnitListAPI = (courseId) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\n//XX\nexport const updateUnitListAPI = (courseId, unitList) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      unit_list: unitList,\n    }),\n  }).then((res) => res.json());\n\nexport const getMyCourseListAPI = () =>\n  fetch(`${BASE_URL}/courses/bought-courses/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getMyTeachCourseListAPI = () =>\n  fetch(`${BASE_URL}/courses/teach-courses/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getDetailCourseAPI = (courseId) =>\n  fetch(`${BASE_URL}/courses/detail/${courseId}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getUnitByUnitIdAPI = (courseId, unitId) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units/${unitId}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateUnitByUnitIdAPI = (courseId, unitId, unit) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units/${unitId}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      unit,\n    }),\n  }).then((res) => res.json());\n","export default __webpack_public_path__ + \"static/media/carousel_1.0e1d997a.jpg\";","export default __webpack_public_path__ + \"static/media/carousel_2.06f516b6.jpg\";","export default __webpack_public_path__ + \"static/media/carousel_3.68edf004.jpg\";","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Typography } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  selectCourseList,\n  selectIsGettingCourse,\n  getCourseList,\n  setCourseList,\n} from '../../redux/reducers/courseReducer';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css'; // requires a loader\nimport { Carousel } from 'react-responsive-carousel';\nimport carousel_1 from '../../img/carousel_1.jpg';\nimport carousel_2 from '../../img/carousel_2.jpg';\nimport carousel_3 from '../../img/carousel_3.jpg';\n\nconst PageWrapper = styled.div``;\nconst Intro = styled.div`\n  color: ${(props) => props.theme.colors.primary.main};\n  font-size: 24px;\n  font-weight: bold;\n  text-align: center;\n  padding: 12px;\n`;\n\nconst CoursesWrapper = styled.div`\n  padding: 0px 24px;\n`;\nconst TitleLatestCourse = styled.div`\n  color: ${(props) => props.theme.colors.primary.main};\n  font-size: 28px;\n  font-weight: bold;\n  text-align: left;\n  padding: 12px;\n`\n\nexport default function CourseListPage() {\n  const dispatch = useDispatch();\n  const courseList = useSelector(selectCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    // 取得最新上架課程\n    dispatch(\n      getCourseList({\n        page: 1,\n        limit: 8,\n        order: 'DESC',\n      })\n    );\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      dispatch(setCourseList([]));\n    };\n  }, [dispatch]);\n\n  return (\n    <>\n      <PageWrapper>\n        <Intro>\n          <div>不受時間與空間限制，自由享受學習與教學</div>\n        </Intro>\n        {/* Carousel */}\n        <Carousel\n          showThumbs={false}\n          showStatus={false}\n          autoPlay={true}\n          infiniteLoop={true}\n        >\n          <div>\n            <img src={carousel_1} alt=\"img\" />\n          </div>\n          <div>\n            <img src={carousel_2} alt=\"img\" />\n          </div>\n          <div>\n            <img src={carousel_3} alt=\"img\" />\n          </div>\n        </Carousel>\n        {isGettingCourseList && <Loading />}\n        {!isGettingCourseList && courseList.length === 0 ? (\n          <Intro>查無課程</Intro>\n        ) : (\n          <CoursesWrapper>\n            <TitleLatestCourse>最新上架課程</TitleLatestCourse>\n            <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n              {courseList\n                .filter((course) => course.isPublic)\n                .map((course) => (\n                  <Col key={course.id} xs={12} md={8} lg={6}>\n                    <CourseCard course={course} />\n                  </Col>\n                ))}\n            </Row>\n          </CoursesWrapper>\n        )}\n      </PageWrapper>\n    </>\n  );\n}\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login, getMe, selectUser } from '../../redux/reducers/userReducer';\nimport { useHistory, Link } from 'react-router-dom';\n\nconst LoginBox = styled.div`\n  padding-top: 10px;\n  margin: 16px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 18px;\n`;\n/*\nconst StyledButton = styled(Button)`\n  background-color: ${(props) => props.theme.colors.primary.light};\n  transition: tranform 0.3s;\n  &:hover {\n    background-color: #ffffff;\n    color: ${(props) => props.theme.colors.primary.main};\n    border: 1px solid ${(props) => props.theme.colors.primary.main};\n  }\n  &:visited {\n    background-color: ${(props) => props.theme.colors.primary.light};\n    border: 0;\n    color: #000000;\n  }\n`;\n*/\nconst NoAccountMessage = styled(Link)`\n  font-size: 16px;\n  color: ${(props) => props.theme.colors.primary.main};\n  &:hover {\n    font-weight: bold;\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '${label} is required',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nexport default function Login() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n\n  React.useEffect(() => {\n    if (user) {\n      return history.push('/');\n    }\n  }, [user, history]);\n\n  const handleFinish = (value) => {\n    const { email, password } = value;\n    message.loading({\n      content: '登入中',\n      key: 'isLogging',\n      duration: 0,\n    });\n    dispatch(login(email, password)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '登入成功',\n          key: 'isLogging',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error({\n        content: json.errorMessage,\n        key: 'isLogging',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <LoginBox>\n      <FormTitle>登入</FormTitle>\n      <NoAccountMessage to=\"/register\">還沒有帳號?</NoAccountMessage>\n      <StyledForm\n        {...layout}\n        name=\"login\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[{ required: true, type: 'email' }]}\n        >\n          <Input placeholder=\"請輸入您註冊的電子信箱\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[{ required: true }]}\n        >\n          <Input.Password placeholder=\"請輸入您註冊的密碼\" />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\">\n            Submit\n          </Button>\n        </Form.Item>\n      </StyledForm>\n    </LoginBox>\n  );\n}\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { register, getMe, selectUser } from '../../redux/reducers/userReducer';\nimport { useHistory, Link } from 'react-router-dom';\nimport { isStrongPassword } from '../../utils';\n\nconst RegisterBox = styled.div`\n  padding-top: 10px;\n  margin: 16px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 10px;\n`;\nconst HasAccountMessage = styled(Link)`\n  font-size: 16px;\n  color: ${(props) => props.theme.colors.primary.main};\n  &:hover {\n    font-weight: bold;\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nexport default function Register() {\n  const history = useHistory();\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    if (user) {\n      history.push('/');\n    }\n  }, [user, history]);\n\n  const handleFinish = (value) => {\n    const { email, password, nickname } = value;\n    message.loading({\n      content: '註冊中',\n      key: 'isRegistering',\n      duration: 0,\n    });\n    dispatch(register(email, password, nickname)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '註冊成功',\n          key: 'isRegistering',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error({\n        content: json.errorMessage,\n        key: 'isRegistering',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <RegisterBox>\n      <FormTitle>註冊</FormTitle>\n      <HasAccountMessage to=\"/login\">已經有帳號了?</HasAccountMessage>\n      <StyledForm\n        {...layout}\n        name=\"register\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[\n            {\n              type: 'email',\n              required: true,\n            },\n          ]}\n        >\n          <Input placeholder=\"請輸入電子信箱\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n            },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || isStrongPassword(inputValue)) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼規則不符!');\n              },\n            }),\n          ]}\n          extra=\"8～20個字，包含大寫、小寫字母和數字\"\n        >\n          <Input.Password placeholder=\"請輸入密碼\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Confirm Password\"\n          name=\"confirm\"\n          dependencies={['password']}\n          extra=\"請再次輸入密碼\"\n          rules={[\n            {\n              required: true,\n            },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || getFieldValue('password') === inputValue) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼和確認密碼不相同!');\n              },\n            }),\n          ]}\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"Nickname\"\n          name=\"nickname\"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input placeholder=\"請輸入暱稱\" />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\" size=\"large\">\n            註冊\n          </Button>\n        </Form.Item>\n      </StyledForm>\n    </RegisterBox>\n  );\n}\n","import React, {\n  useEffect,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n} from 'react';\nimport { Form, Input, Button, Modal, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport {\n  setUserErrorMessage,\n  updateMyPassword,\n  logout,\n} from '../../../redux/reducers/userReducer';\nimport { useHistory } from 'react-router';\nimport { isStrongPassword } from '../../../utils';\n\nconst BoxWrapper = styled.div`\n  text-align: center;\n`;\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n};\n\nconst UpdateForm = forwardRef(({ setModalText }, ref) => {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useImperativeHandle(ref, () => ({\n    resetForm: () => {\n      form.resetFields();\n      dispatch(setUserErrorMessage(null));\n    },\n  }));\n\n  const handleFinish = (value) => {\n    const { oldPassword, newPassword } = value;\n    message.loading({\n      content: '變更密碼中',\n      key: 'isUpdating',\n      duration: 0,\n    });\n\n    dispatch(updateMyPassword(oldPassword, newPassword)).then((json) => {\n      // 更新成功 登出\n      if (json.ok === 1) {\n        message.success({\n          content: '變更密碼成功',\n          key: 'isUpdating',\n          duration: 5,\n        });\n        setModalText('更新成功，將於三秒後登出，請使用新密碼重新登入');\n        return setTimeout(() => {\n          dispatch(logout());\n          history.push('/login');\n        }, 3000);\n      }\n      // 更新失敗,設置錯誤訊息\n      message.error({\n        content: json.errorMessage,\n        key: 'isUpdating',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <BoxWrapper>\n      <Form\n        form={form}\n        {...layout}\n        name=\"updatePassword\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"舊密碼\"\n          name=\"oldPassword\"\n          rules={[{ required: true }]}\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"新密碼\"\n          name=\"newPassword\"\n          rules={[\n            { required: true },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || isStrongPassword(inputValue)) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼規則不符!');\n              },\n            }),\n          ]}\n          extra=\"8～20個字，至少一個數字、一個大寫以及一個小寫字母\"\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"確認密碼\"\n          name=\"confirm\"\n          dependencies={['newPassword']}\n          rules={[\n            { required: true },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (\n                  !inputValue ||\n                  getFieldValue('newPassword') === inputValue\n                ) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼和確認密碼不相同!');\n              },\n            }),\n          ]}\n          extra=\"請再次輸入密碼\"\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\">\n            確定\n          </Button>\n        </Form.Item>\n      </Form>\n    </BoxWrapper>\n  );\n});\n\nexport default function ModalUpdatePassword({ visible, setVisible }) {\n  const ChildRef = useRef();\n  const closeModal = () => {\n    setVisible(false);\n    ChildRef.current.resetForm();\n  };\n  const [modalText, setModalText] = React.useState();\n\n  useEffect(() => {\n    setModalText(<UpdateForm setModalText={setModalText} ref={ChildRef} />);\n  }, []);\n\n  return (\n    <Modal\n      title=\"變更密碼\"\n      onCancel={closeModal}\n      afterClose={() => setUserErrorMessage(null)}\n      visible={visible}\n      footer={null}\n      closable\n    >\n      {modalText}\n    </Modal>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Button, Input, message} from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  selectUser,\n  getMe,\n  updateMyInfo,\n} from '../../../redux/reducers/userReducer';\nimport ModalUpdatePassword from './ModalUpdatePassword';\n\nconst PageWrapper = styled.div`\n  font-size: 20px;\n  text-align: center;\n  padding: 10px;\n`;\nconst InfoRow = styled(Row)`\n  margin: 30px auto;\n`;\nconst InfoTitle = styled(Col)`\n  text-align: right;\n`;\nconst InfoDetail = styled(Col)`\n  text-align: left;\n`;\nconst { Search } = Input;\n\nexport default function AccountSetting() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n\n  const handleClickUpdateNickname = (value) => {\n    if (value === user.nickname ){\n      message.warning({\n        content: '暱稱相同',\n        key: 'isUpdating',\n        duration: 5,\n      });\n      return\n    }\n    message.loading({\n      content: '變更暱稱中',\n      key: 'isUpdating',\n      duration: 0,\n    });\n\n    dispatch(updateMyInfo(value)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '變更暱稱成功',\n          key: 'isUpdating',\n          duration: 5,\n        });\n        return dispatch(getMe());\n      }\n      message.error({\n        content: json.errorMessage,\n        key: 'isUpdating',\n        duration: 5,\n      });\n      return \n    });\n  };\n  // 變更密碼 Modal\n  const [visible, setVisible] = useState(false);\n  const showModal = () => {\n    setVisible(true);\n  };\n\n  return (\n    <PageWrapper>\n      <InfoRow>\n        <InfoTitle span={10}>Email：</InfoTitle>\n        <InfoDetail span={12}>{user.email}</InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>註冊時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.createdAt).toLocaleString()}\n        </InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>更新時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.updatedAt).toLocaleString()}\n        </InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>暱稱：</InfoTitle>\n        <InfoDetail span={8}>\n          <Search\n            defaultValue={user.nickname}\n            enterButton=\"變更暱稱\"\n            onSearch={handleClickUpdateNickname}\n          />\n        </InfoDetail>\n      </InfoRow>\n      <Button type=\"primary\" size=\"large\" danger onClick={showModal}>\n        變更密碼\n      </Button>\n      <ModalUpdatePassword visible={visible} setVisible={setVisible} />\n    </PageWrapper>\n  );\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { sendOrderAPI, getMyOrderListAPI } from \"../../webAPI/orderAPI\";\n\nexport const orderSlice = createSlice({\n  name: \"order\",\n  initialState: {\n    orderResponse: null,\n    isSendingOrder: false,\n    sendingOrderError: null,\n    orderList: null,\n  },\n  reducers: {\n    setOrderResponse: (state, action) => {\n      state.orderResponse = action.payload;\n    },\n    setIsSendingOrder: (state, action) => {\n      state.isSendingOrder = action.payload;\n    },\n    setSendingOrderError: (state, action) => {\n      state.sendingOrderError = action.payload;\n    },\n    setOrderList: (state, action) => {\n      state.orderList = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setOrderResponse,\n  setIsSendingOrder,\n  setSendingOrderError,\n  setOrderList,\n} = orderSlice.actions;\n\n// redux thunk function\nexport const sendOrder = (data) => (dispatch) => {\n  return sendOrderAPI(data)\n    .then((json) => {\n      return json\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getMyOrderList = () => (dispatch) => {\n  return getMyOrderListAPI().then((orderList) => {\n    if (orderList.ok === 0)\n      return dispatch(setSendingOrderError(orderList.errorMessage));\n    dispatch(setOrderList(orderList.data));\n  });\n};\n\n// selector\nexport const selectOrderResponse = (store) => store.order.orderResponse;\nexport const selectOrderList = (store) => store.order.orderList;\n\nexport default orderSlice.reducer;\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const sendOrderAPI = (data) => {\n  return fetch(`${BASE_URL}/orders`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  }).then((res) => res.json());\n};\n\nexport const getMyOrderListAPI = () => {\n  return fetch(`${BASE_URL}/orders/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  })\n    .then((res) => res.json())\n    .catch((error) => console.log(error));\n};\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Table } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  getMyOrderList,\n  selectOrderList,\n} from '../../../redux/reducers/orderReducer';\nimport { toCurrency } from '../../../utils';\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`\nconst EmptyOrderList = styled.div`\n  padding: 32px;\n  font-size: 28px;\n  text-align: center;\n`;\nconst CourseImg = styled.img`\n  max-width: 60px;\n`;\n\nexport default function AccountSetting() {\n  const dispatch = useDispatch();\n  const orderList = useSelector(selectOrderList);\n  useEffect(() => {\n    dispatch(getMyOrderList());\n  }, [dispatch]);\n\n  const columns = [\n    { title: '訂單編號', dataIndex: 'id', key: 'id' },\n    { title: '付款者姓名', dataIndex: 'name', key: 'name' },\n    { title: '付款方式', dataIndex: 'paymentType', key: 'paymentType' },\n    { title: '訂單總額', dataIndex: 'sumPrice', key: 'sumPrice' },\n    { title: '已付款', dataIndex: 'isPaid', key: 'isPaid' },\n    { title: '訂單成立時間', dataIndex: 'createdAt', key: 'createdAt' },\n  ];\n\n  const data = [];\n  if (orderList) {\n    for (let i = 0; i < orderList.length; ++i) {\n      data.push({\n        key: i,\n        id: orderList[i].id,\n        name: orderList[i].name,\n        paymentType: orderList[i].paymentType,\n        sumPrice: toCurrency(orderList[i].sumPrice),\n        isPaid: orderList[i].isPaid ? '是' : '否',\n        createdAt: new Date(orderList[i].createdAt).toLocaleString(),\n      });\n    }\n  }\n  const expandedRowRender = (row) => {\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'imgUrl',\n        key: 'imgUrl',\n        render: (imgUrl) => <CourseImg src={imgUrl} />,\n      },\n      { title: '課程名稱', dataIndex: 'title', key: 'title' },\n      { title: '目前售價', dataIndex: 'price', key: 'price' },\n      { title: '實付金額', dataIndex: 'amountPaid', key: 'amountPaid' },\n    ];\n    const data = [];\n    const selectedOrderItems = orderList[row.key].Order_items;\n    for (let i = 0; i < selectedOrderItems.length; ++i) {\n      data.push({\n        key: i,\n        imgUrl: selectedOrderItems[i].Course.imgUrl,\n        title: selectedOrderItems[i].Course.title,\n        price: toCurrency(selectedOrderItems[i].Course.price),\n        amountPaid: toCurrency(selectedOrderItems[i].amountPaid),\n      });\n    }\n    return <Table columns={columns} dataSource={data} pagination={false} />;\n  };\n\n  return (\n    <>\n      {orderList ? (\n        <PageWrapper>\n          <Table\n            className=\"components-table-demo-nested\"\n            columns={columns}\n            expandable={{ expandedRowRender }}\n            dataSource={data}\n          />\n        </PageWrapper>\n      ) : (\n        <EmptyOrderList>目前沒有訂單記錄</EmptyOrderList>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport AccountSetting from \"../pages/MePage/AccountSetting/\";\nimport OrderHistory from \"../pages/MePage/OrderHistory/\";\n\nexport default function MeRoutes() {\n  return (\n    <Switch>\n      <Route exact path={`/me`}>\n        <div></div>\n      </Route>\n      <Route path={`/me/info`}>\n        <AccountSetting />\n      </Route>\n      <Route path={`/me/orders`}>\n        <OrderHistory />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport MeRoutes from '../../routes/MeRoutes';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { UserOutlined, FileDoneOutlined } from '@ant-design/icons';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`;\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n  border-right: 0;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\nconst IconWrapper = styled.div`\n  padding: 20px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst UseIcon = styled(UserOutlined)`\n  font-size: 80px;\n  border-radius: 50%;\n  padding: 16px;\n  border: 1px dotted black;\n`;\n\nexport default function MePage() {\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    // 進入後台預設導向課程列表\n    if (location.pathname === '/me') {\n      history.push('/me/info');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <IconWrapper>\n            <UseIcon />\n          </IconWrapper>\n          <StyledMenuItem\n            key=\"1\"\n            icon={<UserOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/me/info\">個人資料</Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            key=\"2\"\n            icon={<FileDoneOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/me/orders\">訂單紀錄</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ marginLeft: '200px' }}>\n        <MeRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Space, Table } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getCourseList,\n  selectCourseList,\n  selectIsGettingCourse,\n} from \"../../redux/reducers/courseReducer\";\nimport Loading from \"../../components/Loading\";\nimport { toCurrency } from '../../utils'\n// import { dummyData as data } from \"./dummyData\";\n\nconst columns = [\n  {\n    title: \"Id\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"課程名稱\",\n    dataIndex: \"title\",\n    key: \"title\",\n    render: (text, record) => (\n      <Link to={`/courses/${record.id}`}>{text}</Link>\n    ),\n  },\n  {\n    title: \"目前售價\",\n    dataIndex: \"price\",\n    key: \"price\",\n  },\n  {\n    title: \"是否公開\",\n    dataIndex: \"isPublic\",\n    key: \"isPublic\",\n  },\n  {\n    title: \"更新於\",\n    dataIndex: \"updatedAt\",\n    key: \"updatedAt\",\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/classroom/${record.id}`}>預覽上課頁</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function CoursesTable() {\n  const dispatch = useDispatch();\n  const courses = useSelector(selectCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n\n  useEffect(() => {\n    dispatch(getCourseList({getPublic: 'all'}));\n  }, [dispatch]);\n\n  return (\n    <>\n      {isGettingCourseList && <Loading />}\n      {!isGettingCourseList && (\n        <Table\n          columns={columns}\n          dataSource={\n            courses &&\n            courses.map((item) => ({\n              ...item,\n              key: item.id,\n              price: toCurrency(item.price),\n              isPublic: item.isPublic ? \"是\" : \"否\",\n              updatedAt: item.updatedAt.slice(0, 10),\n            }))\n          }\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Layout, Breadcrumb } from \"antd\";\nimport CoursesTable from \"./CoursesTable.js\";\n\nconst { Content } = Layout;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport default function ConsoleCoursesPage() {\n  return (\n    <>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: \"16px 0\" }}>\n          <Breadcrumb.Item>課程列表</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <Content>\n        <CoursesTable />\n      </Content>\n    </>\n  );\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getMemberListAPI = () => {\n  return fetch(`${BASE_URL}/users`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const getMemberAPI = (id) => {\n  return fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      \"content-type\": \"application/json\",\n    },\n  }).then((res) => res.json());\n};\n\nexport const updateUserInfoAPI = (id, email, nickname, AuthTypeId) =>\n  fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      email,\n      nickname,\n      AuthTypeId,\n    }),\n  })\n    .then((res) => res.json())","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport {\n  getMemberListAPI,\n  getMemberAPI,\n  updateUserInfoAPI,\n} from \"../../webAPI/adminAPI\";\n\nexport const memberSlice = createSlice({\n  name: \"member\",\n  initialState: {\n    memberList: [],\n    member: null,\n    errorMessage: \"\",\n    isGettingMemberList: false,\n    isGettingMember: false,\n  },\n  reducers: {\n    setMemberList: (state, action) => {\n      state.memberList = action.payload;\n    },\n    setMember: (state, action) => {\n      state.member = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setIsGettingMemberList: (state, action) => {\n      state.isGettingMemberList = action.payload;\n    },\n    setIsGettingMember: (state, action) => {\n      state.isGettingMember = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setMemberList,\n  setMember,\n  setErrorMessage,\n  setIsGettingMemberList,\n  setIsGettingMember,\n} = memberSlice.actions;\n\n// redux thunk function\n\nexport const getMemberList = () => (dispatch) => {\n  dispatch(setMemberList(null));\n  dispatch(setIsGettingMemberList(true));\n  dispatch(setErrorMessage(\"\"));\n\n  getMemberListAPI()\n    .then((res) => {\n      if (!res || res.ok === 0) {\n        dispatch(setErrorMessage(res ? res.errorMessage : \"something wrong\"));\n        dispatch(setIsGettingMemberList(false));\n        return;\n      }\n      // success\n      dispatch(setMemberList(res.data));\n      dispatch(setIsGettingMemberList(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getMember = (id) => (dispatch) => {\n  dispatch(setMember(null));\n  dispatch(setIsGettingMember(true));\n  dispatch(setErrorMessage(\"\"));\n\n  getMemberAPI(id)\n    .then((res) => {\n      if (!res || res.ok === 0) {\n        dispatch(setErrorMessage(res ? res.errorMessage : \"something wrong\"));\n        dispatch(setIsGettingMember(false));\n        return;\n      }\n      // success\n      console.log(res.data)\n      dispatch(setMember(res.data));\n      dispatch(setIsGettingMember(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateMemberAuth = (id, authType) => (dispatch) => {\n  dispatch(setErrorMessage(\"\"));\n  updateUserInfoAPI(id, null, null, authType).then((res) => {\n    console.log(res);\n    if (res.ok === 0) return dispatch(setErrorMessage(res.errorMessage));\n  });\n};\n\n// selector\nexport const selectMember = (store) => store.member.member;\nexport const selectMemberList = (store) => store.member.memberList;\nexport const selectIsGettingMemberList = (store) =>\n  store.member.isGettingMemberList;\nexport const selectIsGettingMember = (store) => store.member.isGettingMember;\n\nexport default memberSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getMemberList,\n  selectMemberList,\n  selectIsGettingMemberList,\n} from \"../../redux/reducers/memberReducer\";\nimport { Space, Table } from \"antd\";\nimport Loading from \"../../components/Loading\";\nimport { translateAuth } from \"../../utils\";\n\nexport const columns = [\n  {\n    title: \"Id\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"信箱\",\n    dataIndex: \"email\",\n    key: \"email\",\n  },\n  {\n    title: \"會員身份\",\n    dataIndex: \"auth\",\n    key: \"auth\",\n  },\n  {\n    title: \"更新於\",\n    dataIndex: \"updatedAt\",\n    key: \"updatedAt\",\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/console/members/${record.id}`}>more</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function MembersTable() {\n  const dispatch = useDispatch();\n  const members = useSelector(selectMemberList);\n  const isGettingMemberList = useSelector(selectIsGettingMemberList);\n\n  useEffect(() => {\n    dispatch(getMemberList());\n    //return () => {};\n  }, [dispatch]);\n\n  return (\n    <>\n      {isGettingMemberList && <Loading />}\n      {!isGettingMemberList && (\n        <Table\n          columns={columns}\n          dataSource={\n            members &&\n            members.map((item) => ({\n              ...item,\n              key: item.id,\n              updatedAt: new Date(item.updatedAt).toLocaleString(),\n              auth: translateAuth(item.authTypeId),\n            }))\n          }\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Layout, Breadcrumb } from \"antd\";\nimport MembersTable from \"./MembersTable.js\";\n\nconst { Content } = Layout;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst TableContainer = styled(Content)`\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nexport default function ConsoleMembersPage() {\n  return (\n    <>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: \"16px 0\" }}>\n          <Breadcrumb.Item>會員列表</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <TableContainer>\n        <MembersTable />\n      </TableContainer>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getMember,\n  selectMember,\n  updateMemberAuth,\n  selectIsGettingMember,\n} from '../../redux/reducers/memberReducer';\nimport styled from 'styled-components';\nimport {\n  Layout,\n  Breadcrumb,\n  Button,\n  Typography,\n  Divider,\n  Select,\n  Space,\n  Table,\n  Tag,\n  Descriptions,\n} from 'antd';\nimport Loading from '../../components/Loading';\nimport { translateAuth } from '../../utils';\n\nconst { Content } = Layout;\nconst { Option } = Select;\nconst { Title, Text } = Typography;\n\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst MemberContent = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst columns = [\n  {\n    title: '課程 ID',\n    dataIndex: 'CourseId',\n    key: 'CourseId',\n    render: (text) => text,\n  },\n  {\n    title: '課程名稱',\n    key: 'Course',\n    dataIndex: 'Course',\n    render: (Course) => Course.CourseTitle,\n  },\n];\n\nconst AuthSelection = ({ selectedUserId, handleChange }) => {\n  const authTypeIdList = [1, 2, 3];\n  return (\n    <>\n      <Select\n        style={{ width: 120 }}\n        onChange={handleChange}\n        defaultValue={translateAuth(selectedUserId)}\n      >\n        {authTypeIdList.map((authTypeId) => (\n          <Option key={authTypeId} value={authTypeId}>\n            {translateAuth(authTypeId)}\n          </Option>\n        ))}\n      </Select>\n    </>\n  );\n};\n\nexport default function MemberDetailPage() {\n  const { id } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [localAuthTypeId, setLocalAuthTypeId] = useState(0);\n  const member = useSelector(selectMember);\n  const isGettingMember = useSelector(selectIsGettingMember);\n\n  useEffect(() => {\n    dispatch(getMember(id));\n  }, [dispatch, id]);\n\n  function handleChange(value) {\n    setLocalAuthTypeId(value);\n  }\n\n  const handleSave = () => {\n    if (localAuthTypeId === 0 || localAuthTypeId === member.authTypeId) return;\n    dispatch(updateMemberAuth(id, localAuthTypeId));\n    history.push(`/console/members`); // 把頁面導向會員列表\n  };\n\n  return (\n    <>\n      {isGettingMember && <Loading />}\n      {!isGettingMember && member && (\n        <>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/console/members\">會員列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>會員資料 (ID: {member.id})</Breadcrumb.Item>\n            </Breadcrumb>\n            <Space size=\"large\">\n              <AuthSelection\n                handleChange={handleChange}\n                selectedUserId={member.authTypeId}\n              />\n              <Button type=\"primary\" onClick={handleSave}>\n                變更身分\n              </Button>\n            </Space>\n          </InfoHeader>\n          <MemberContent>\n            <Descriptions title=\"會員資料\" bordered>\n              <Descriptions.Item label=\"會員 ID\">{member.id}</Descriptions.Item>\n              <Descriptions.Item label=\"目前身份\" span={2}>\n                {translateAuth(member.authTypeId)}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"會員信箱\">\n                {member.email}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"會員暱稱\" span={2}>\n                {member.nickname}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"註冊日期\">\n                {new Date(member.createdAt).toLocaleString()}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"更新日期\" span={2}>\n                {new Date(member.updatedAt).toLocaleString()}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"購買課程清單\" span={3}>\n                {member.courseList.length > 0 ? (\n                  <Table\n                    columns={columns}\n                    dataSource={member.courseList.map((item) => ({\n                      ...item,\n                      key: item.CourseId,\n                    }))}\n                  />\n                ): (\n                  <div>尚未購買任何課程</div>\n                )}\n              </Descriptions.Item>\n            </Descriptions>\n          </MemberContent>\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport ConsoleCoursesPage from \"../pages/ConsoleCoursesPage\";\nimport ConsoleMembersPage from \"../pages//ConsoleMembersPage\";\nimport MemberDetailPage from \"../pages//MemberDetailPage\";\n\nexport default function ConsoleRoutes() {\n  return (\n    <Switch>\n      <Route exact path=\"/console/courses\">\n        <ConsoleCoursesPage />\n      </Route>\n      <Route exact path=\"/console/members\">\n        <ConsoleMembersPage />\n      </Route>\n      <Route exact path=\"/console/members/:id\">\n        <MemberDetailPage />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\nimport { BookOutlined, ContactsOutlined } from '@ant-design/icons';\nimport ConsoleRoutes from '../../routes/ConsoleRoutes';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n  border-right: 0;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\n\nexport default function ConsolePage() {\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    // 進入後台預設導向課程列表\n    if (location.pathname === '/console') {\n      history.push('/console/courses');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <StyledMenuItem key=\"1\" icon={<BookOutlined style={{fontSize: 20}}/>}>\n            <Link to=\"/console/courses\">課程列表</Link>\n          </StyledMenuItem>\n          <StyledMenuItem key=\"2\" icon={<ContactsOutlined style={{fontSize: 20}}/>}>\n            <Link to=\"/console/members\">會員列表</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ padding: '0 24px', marginLeft: '200px' }}>\n        <ConsoleRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  selectCartList,\n  deleteCartItem,\n} from '../../redux/reducers/cartReducer';\nimport { Table, Button } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { toCurrency } from '../../utils';\nimport {\n  MEDIA_QUERY_MOBILE_M,\n  MEDIA_QUERY_TABLET,\n} from '../../constants/breakpoint';\n\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst LeftContainer = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1 1 0%;\n  }\n`;\nconst RightContainerOuter = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 0 1 350px;\n    margin-left: 30px;\n  }\n`;\nconst RightContainerInner = styled.div`\n  padding: 24px 12px;\n  background: ${(props) => props.theme.colors.secondary.light};\n  ${MEDIA_QUERY_TABLET} {\n    width: 350px;\n    position: fixed;\n    right: 30px;\n  }\n`;\n\nexport default function CartListPage({ padding }) {\n  const dispatch = useDispatch();\n  const cartList = useSelector(selectCartList);\n  let sumPrice = 0;\n  if (cartList.length > 0) {\n    cartList.forEach((el) => {\n      sumPrice += el.Course.price;\n    });\n  }\n\n  const handleDeleteCartItem = (id) => {\n    dispatch(deleteCartItem(id));\n  };\n\n  // 加入 react 需要的 key\n  let data = [];\n  for (let i = 0; i < cartList.length; i += 1) {\n    data.push({\n      key: cartList[i].CourseId,\n      id: cartList[i].CourseId,\n      title: cartList[i].Course.title,\n      price: toCurrency(cartList[i].Course.price),\n    });\n  }\n\n  const columns = [\n    { title: '課程ID', dataIndex: ['id'], key: 'id' },\n    {\n      title: '課程名稱',\n      dataIndex: ['title'],\n      key: 'title',\n      render: (text, record) => (\n        <Link to={`courseInfo/${record.id}`}>{text}</Link>\n      ),\n    },\n    { title: '售價', dataIndex: ['price'], key: 'price' },\n    {\n      title: '動作',\n      dataIndex: '',\n      key: 'x',\n      render: (data) => (\n        <>\n          <Button>\n            <Link to={`/checkout/${data.id}`}>購買單堂</Link>\n          </Button>{' '}\n          <Button\n            danger\n            icon={<DeleteOutlined />}\n            onClick={() => handleDeleteCartItem(data.id)}\n          >\n            刪除\n          </Button>\n        </>\n      ),\n    },\n  ];\n\n  return (\n    <PageWrapper padding={padding}>\n      <LeftContainer>\n        {cartList.length === 0 && (\n          <center>\n            <h1>購物車是空的，看看課程？</h1>\n            <h1>\n              <Link to=\"/\">探索課程</Link>\n            </h1>\n          </center>\n        )}\n        {cartList.length > 0 && (\n          <>\n            <h1>購物車清單</h1>\n            <h3>共有{cartList.length}堂課</h3>\n            <hr />\n            <Table\n              columns={columns}\n              dataSource={data}\n              pagination={{ pageSize: 5 }}\n            />\n          </>\n        )}\n      </LeftContainer>\n      <RightContainerOuter>\n        <RightContainerInner>\n          <h1>\n            <strong>購物車明細</strong>\n          </h1>\n          <hr />\n          <h2 align=\"right\">小計 {toCurrency(sumPrice)}</h2>\n          <br></br>\n          {cartList.length > 0 && (\n            <Button size=\"large\" block>\n              <Link to={`/checkout`}>前往結帳</Link>\n            </Button>\n          )}\n        </RightContainerInner>\n      </RightContainerOuter>\n    </PageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { selectCartList } from '../../redux/reducers/cartReducer';\nimport {\n  selectCourse,\n  getCourse,\n  setCourse,\n} from '../../redux/reducers/courseReducer';\nimport { sendOrder } from '../../redux/reducers/orderReducer';\nimport { getMe } from '../../redux/reducers/userReducer';\nimport {\n  Typography,\n  Table,\n  Button,\n  Form,\n  Input,\n  Select,\n  message,\n} from 'antd';\nimport { toCurrency } from '../../utils';\nimport {\n  MEDIA_QUERY_MOBILE_M,\n  MEDIA_QUERY_TABLET,\n} from '../../constants/breakpoint';\n\nconst { Title, Paragraph } = Typography;\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst FormWrapper = styled.div`\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst LeftContainer = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1 1 0%;\n  }\n`;\nconst RightContainerOuter = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 0 1 350px;\n    margin-left: 30px;\n  }\n`;\nconst RightContainerInner = styled.div`\n  padding: 24px 12px;\n  background: ${(props) => props.theme.colors.secondary.light};\n  ${MEDIA_QUERY_TABLET} {\n    width: 350px;\n    position: fixed;\n    right: 30px;\n  }\n`;\n\nconst { Option } = Select;\nconst formLayout = 'vertical';\n\nconst formItemLayout = {\n  labelCol: {\n    span: 24,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst buttonItemLayout = {\n  wrapperCol: {\n    span: 0,\n    offset: 0,\n  },\n};\nconst validateMessages = {\n  required: '${label} is required',\n};\n\nexport default function CheckoutPage({ padding }) {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const cartList = useSelector(selectCartList);\n  const course = useSelector(selectCourse);\n  const [form] = Form.useForm();\n  let sumPrice = 0;\n  let sumCourse = 0;\n  let data = [];\n\n  useEffect(() => {\n    if (id) {\n      dispatch(getCourse(id));\n      // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n      return () => {\n        dispatch(setCourse(null));\n      };\n    }\n  }, [dispatch, id]);\n\n  // params 有帶 id => 單堂結帳\n  if (id && course) {\n    data.push({\n      key: course.id,\n      id: course.id,\n      title: course.title,\n      price: course.price,\n      priceString: toCurrency(course.price),\n    });\n    sumPrice = course.price;\n    sumCourse = 1;\n  } else if (!id && cartList.length > 0) {\n    // 多堂結帳\n    for (let i = 0; i < cartList.length; i += 1) {\n      data.push({\n        key: cartList[i].CourseId,\n        id: cartList[i].CourseId,\n        title: cartList[i].Course.title,\n        price: cartList[i].Course.price,\n        priceString: toCurrency(cartList[i].Course.price),\n      });\n      sumCourse += 1;\n    }\n    cartList.forEach((el) => {\n      sumPrice += el.Course.price;\n    });\n  }\n\n  const columns = [\n    { title: '課程ID', dataIndex: ['id'], key: 'id' },\n    {\n      title: '課程名稱',\n      dataIndex: ['title'],\n      key: 'title',\n      render: (text, record) => (\n        <Link to={`/courseInfo/${record.id}`}>{text}</Link>\n      ),\n    },\n    { title: '售價', dataIndex: ['priceString'], key: 'priceString' },\n  ];\n\n  const onFinish = (values) => {\n    message.loading({\n      content: '付款中',\n      key: 'isChecking',\n      duration: 0,\n    });\n    const orderData = {\n      ...values,\n      sumPrice: sumPrice,\n      orderCourses: data.map((el) => {\n        return {\n          CourseId: el.id,\n          amountPaid: el.price,\n        };\n      }),\n    };\n    dispatch(sendOrder(orderData)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: json.message,\n          key: 'isChecking',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/my-course');\n      }\n      message.error({\n        content: json.errorMessage,\n        key: 'isChecking',\n        duration: 5,\n      });\n    });\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  return (\n    <PageWrapper padding={padding}>\n      <Form\n        {...formItemLayout}\n        layout={formLayout}\n        form={form}\n        onFinish={onFinish}\n        validateMessages={validateMessages}\n        style={{ width: '100%' }}\n      >\n        <FormWrapper>\n          <LeftContainer>\n            {sumPrice === 0 ? (\n              <>\n                <Title>歡迎加入免費課程</Title>\n                <Paragraph>\n                  您選擇的課程皆為免費課程，點擊「確認加入」後就可以開始上課囉！\n                </Paragraph>\n              </>\n            ) : (\n              <>\n                <Title level={3}>付款資訊</Title>\n                <hr/>\n                <Form.Item\n                  name=\"name\"\n                  label=\"姓名\"\n                  rules={[{ required: true }]}\n                >\n                  <Input />\n                </Form.Item>\n                <Form.Item\n                  name=\"paymentType\"\n                  label=\"付款方式\"\n                  rules={[{ required: true }]}\n                >\n                  <Select placeholder=\"請選擇付款方式\" allowClear>\n                    <Option value=\"信用卡\">信用卡</Option>\n                    <Option value=\"LINE Pay\">LINE Pay</Option>\n                  </Select>\n                </Form.Item>\n              </>\n            )}\n\n            {((!id && cartList.length > 0) || course) && (\n              <>\n                <Title level={3}>購買清單 </Title>\n                <h3>共有{sumCourse}堂課</h3>\n                <hr />\n                <Table\n                  columns={columns}\n                  dataSource={data}\n                  style={{ fontSize: '18px' }}\n                  pagination={{ pageSize: 5 }}\n                />\n              </>\n            )}\n          </LeftContainer>\n          <RightContainerOuter>\n            <RightContainerInner>\n              <Title level={3}>訂單明細</Title>\n              <hr />\n              <h2 align=\"right\">小計 {toCurrency(sumPrice)}</h2>\n              <Form.Item {...buttonItemLayout}>\n                <Button type=\"primary\" size=\"large\" htmlType=\"submit\" block>\n                  {sumPrice === 0 ? '確認加入' : '確認付款'}\n                </Button>\n              </Form.Item>\n              {sumPrice > 0 && (\n                <Form.Item {...buttonItemLayout}>\n                  <Button\n                    htmlType=\"button\"\n                    size=\"large\"\n                    onClick={onReset}\n                    block\n                  >\n                    清除資料\n                  </Button>\n                </Form.Item>\n              )}\n            </RightContainerInner>\n          </RightContainerOuter>\n        </FormWrapper>\n      </Form>\n    </PageWrapper>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Select, Typography } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  selectCourseList,\n  selectIsGettingCourse,\n  getCourseList,\n  setCourseList,\n} from '../../redux/reducers/courseReducer';\n\nconst { Title } = Typography;\nconst { Option } = Select;\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n`;\n\nconst SearchWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n`;\nconst SearchInfo = styled.div`\n  font-size: 20px;\n`;\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default function CourseListPage({ padding }) {\n  const dispatch = useDispatch();\n  const query = useQuery();\n  const keyword = query.get('keyword') || '';\n  const courseList = useSelector(selectCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n  const [selected, setSelected] = useState('latest')\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getCourseList({ keyword, order: 'DESC' }));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      setSelected('latest')\n      dispatch(setCourseList([]));\n    };\n  }, [dispatch, keyword]);\n\n  const handleSelectChange = (value) => {\n    if (isGettingCourseList) return;\n    setSelected(value)\n    switch (value) {\n      case 'latest':\n        return dispatch(getCourseList({ keyword, sort: 'id', order: 'DESC' }));\n      case 'highPrice':\n        return dispatch(\n          getCourseList({ keyword, sort: 'price', order: 'DESC' })\n        );\n      case 'lowPrice':\n        return dispatch(\n          getCourseList({ keyword, sort: 'price', order: 'ASC' })\n        );\n      default:\n        return;\n    }\n  };\n\n  return (\n    <>\n      <PageWrapper padding={padding}>\n        <SearchWrapper>\n          <SearchInfo>\n            {keyword && <span>關鍵字:<strong>「{keyword}」, </strong></span>}\n            <span>共有 {courseList.length} 堂課程</span>\n          </SearchInfo>\n          <div>\n            排序方式：\n            <Select\n              value={selected}\n              style={{ width: 180 }}\n              onChange={handleSelectChange}\n            >\n              <Option value=\"latest\">最新上架(預設)</Option>\n              <Option value=\"highPrice\">價格高 → 低</Option>\n              <Option value=\"lowPrice\">價格低 → 高</Option>\n            </Select>\n          </div>\n        </SearchWrapper>\n        {isGettingCourseList && <Loading />}\n        {!isGettingCourseList && courseList.length === 0 ? (\n          <Title level={3}>\n            <center>查無課程</center>\n          </Title>\n        ) : (\n          <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n            {courseList\n              .filter((course) => course.isPublic)\n              .map((course) => (\n                <Col key={course.id} xs={12} md={8} lg={6}>\n                  <CourseCard course={course} />\n                </Col>\n              ))}\n          </Row>\n        )}\n      </PageWrapper>\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  selectIsGettingCourse,\n  selectMyCourseList,\n  getMyCourseList,\n  setMyCourseList,\n} from '../../redux/reducers/courseReducer';\n\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n`;\n\nexport default function MyCourseListPage({ padding }) {\n  const myCourseList = useSelector(selectMyCourseList);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const dispatch = useDispatch();\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getMyCourseList());\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      dispatch(setMyCourseList(null));\n    };\n  }, [dispatch]);\n\n  return (\n    <PageWrapper padding={padding}>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && (\n        <>\n          {!myCourseList && (\n            <center>\n              <h1>我的課程是空的，看看課程？</h1>\n              <h1>\n                <Link to=\"/\">探索課程</Link>\n              </h1>\n            </center>\n          )}\n          {myCourseList && myCourseList.length > 0 && (\n            <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n              {myCourseList.map((course) => (\n                <Col key={course.id} xs={12} md={8} lg={6}>\n                  <CourseCard course={course} isBought={true}/>\n                </Col>\n              ))}\n            </Row>\n          )}\n        </>\n      )}\n    </PageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Button, Avatar, List, Typography } from 'antd';\nimport { useHistory, useParams, Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getCourse,\n  selectCourse,\n  selectIsGettingCourse,\n} from '../../redux/reducers/courseReducer';\nimport { toCurrency } from '../../utils';\nimport Loading from '../../components/Loading';\nimport { selectCartList, addCartItem } from '../../redux/reducers/cartReducer';\nimport { selectUser } from '../../redux/reducers/userReducer';\n\nconst CourseWrapper = styled.div`\n  max-width: 760px;\n  margin: 24px auto;\n  padding: 32px;\n  background: ${(props) => props.theme.colors.white};\n  color: ${(props) => props.theme.colors.primary.text};\n  box-shadow: \n    1px 1px 1px rgba(0,0,0,0.15), \n    2px 2px 2px rgba(0,0,0,0.15), \n    4px 4px 4px rgba(0,0,0,0.15), \n    8px 8px 8px rgba(0,0,0,0.15);\n`;\nconst CourseTitle = styled.div`\n  text-align: center;\n  font-size: 42px;\n  font-weight: bold;\n`;\nconst Price = styled.div`\n  color: ${(props) => props.theme.colors.primary.main};\n  text-align: right;\n  font-size: 36px;\n  font-weight: bold;\n`;\nconst ButtonPlacer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\nconst ButtonWrapper = styled.div`\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 90px;\n`;\n\nexport default function CourseInfoPage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const user = useSelector(selectUser);\n  const course = useSelector(selectCourse);\n  const cartList = useSelector(selectCartList);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const { id } = useParams();\n  const checkIsAlreadyInCart = () => {\n    for (let i = 0; i < cartList.length; i += 1) {\n      if (cartList[i].CourseId === Number(id)) {\n        // 當前課程已在 cartList 內\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const handleClickAddToCart = () => {\n    if (!user) {\n      history.push('/cart');\n    }\n    if (!checkIsAlreadyInCart()) {\n      dispatch(addCartItem(course.id));\n    }\n  };\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getCourse(id));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    //return () => {};\n  }, [dispatch, id]);\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && !course && (\n        <center>\n          <h1>\n            <strong>無此課程或此課程未公開</strong>\n          </h1>\n        </center>\n      )}\n      {!isGettingCourse && course && (\n        <CourseWrapper>\n          <CourseTitle>{course.title}</CourseTitle>\n          <Price align=\"right\">{toCurrency(course.price)}</Price>\n\n          <ButtonPlacer>\n            {course.isPublic ? (\n              <ButtonWrapper>\n                {user && user.boughtCourses.indexOf(Number(id)) >= 0 ? (\n                  <Button type=\"primary\" size=\"large\" block>\n                    <Link to={`/classroom/${course.id}`}>開始上課</Link>\n                  </Button>\n                ) : (\n                  <>\n                    <Button type=\"primary\" size=\"large\" block>\n                      <Link to={`/checkout/${course.id}`}>立即購買</Link>\n                    </Button>\n                    {checkIsAlreadyInCart() ? (\n                      <Button type=\"primary\" size=\"large\" block danger>\n                        <Link to=\"/cart\">前進購物車</Link>\n                      </Button>\n                    ) : (\n                      <Button\n                        type=\"primary\"\n                        size=\"large\"\n                        onClick={handleClickAddToCart}\n                      >\n                        加入購物車\n                      </Button>\n                    )}\n                  </>\n                )}\n              </ButtonWrapper>\n            ) : (\n              <Button size=\"large\" disabled>\n                非公開課程\n              </Button>\n            )}\n          </ButtonPlacer>\n\n          <div>\n            <Link to={`/teacher-info/${course.Teacher.id}`}>\n              <Avatar size={64} src={course.Teacher.avatarUrl} />\n            </Link>\n          </div>\n          <br />\n          <p>\n            <strong>開課老師：</strong>\n            <div>{course.Teacher.name}</div>\n          </p>\n\n          <div>\n            <strong>課程介紹：</strong>\n          </div>\n          <br />\n          <p>{course.description}</p>\n          <div>\n            <strong>課程大綱：</strong>\n          </div>\n          <br />\n          {course.unit_title && (\n            <List\n              size=\"large\"\n              bordered\n              dataSource={course.unit_title.map((el, i) => {\n                return { number: i + 1, title: el };\n              })}\n              renderItem={(item) => (\n                <List.Item>\n                  <strong>{item.number}</strong>. {item.title}\n                </List.Item>\n              )}\n            />\n          )}\n        </CourseWrapper>\n      )}\n    </>\n  );\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getTeacherListAPI = () =>\n  fetch(`${BASE_URL}/teachers`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getTeacherAPI = (id) =>\n  fetch(`${BASE_URL}/teachers/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const applyTeacherAPI = ({ name, description, avatarUrl }) =>\n  fetch(`${BASE_URL}/teachers`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      name,\n      description,\n      avatarUrl,\n    }),\n  }).then((res) => res.json());\n\n  export const updateTeacherInfoAPI = ({ name, description, avatarUrl }) =>\n  fetch(`${BASE_URL}/teachers`, {\n    method: 'PATCH',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      name,\n      description,\n      avatarUrl,\n    }),\n  }).then((res) => res.json());\n\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  getTeacherListAPI,\n  getTeacherAPI,\n  applyTeacherAPI,\n  updateTeacherInfoAPI\n} from '../../webAPI/teacherAPI';\n\nexport const teacherSlice = createSlice({\n  name: 'teacher',\n  initialState: {\n    teacherList: [],\n    isGettingTeacherList: false,\n    getTeacherListError: null,\n    teacher: null,\n    isGettingTeacher: false,\n    getTeacherError: null,\n  },\n  reducers: {\n    setTeacherList: (state, action) => {\n      state.teacherList = action.payload;\n      state.getTeacherListError = null;\n    },\n    setIsGettingTeacherList: (state, action) => {\n      state.isGettingTeacherList = action.payload;\n    },\n    setGetTeacherListError: (state, action) => {\n      state.getTeacherListError = action.payload;\n    },\n    setTeacher: (state, action) => {\n      state.teacher = action.payload;\n      state.getTeacherError = null;\n    },\n    setIsGettingTeacher: (state, action) => {\n      state.isGettingTeacher = action.payload;\n    },\n    setGetTeacherError: (state, action) => {\n      state.getTeacherError = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setTeacherList,\n  setIsGettingTeacherList,\n  setGetTeacherListError,\n  setTeacher,\n  setIsGettingTeacher,\n  setGetTeacherError,\n} = teacherSlice.actions;\n\n// redux thunk function\nexport const getTeacherList = () => (dispatch) => {\n  dispatch(setIsGettingTeacherList(true));\n  getTeacherListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetTeacherListError(json.errorMessage));\n        dispatch(setIsGettingTeacherList(false));\n        return;\n      }\n      // success\n      dispatch(setTeacherList(json.data.teacherList));\n      dispatch(setIsGettingTeacherList(false));\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const getTeacher = (id) => (dispatch) => {\n  dispatch(setIsGettingTeacher(true));\n  getTeacherAPI(id)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetTeacherError(json.errorMessage));\n        dispatch(setIsGettingTeacher(false));\n        return;\n      }\n      // success\n      dispatch(setTeacher(json.data.teacher));\n      dispatch(setIsGettingTeacher(false));\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const applyTeacher = ({name, description, avatarUrl}) => (dispatch) => {\n  console.log(name)\n  dispatch(setIsGettingTeacher(true));\n  return applyTeacherAPI({name, description, avatarUrl})\n    .then((json) => {\n      return json;\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const updateTeacherInfo = ({name, description, avatarUrl}) => (dispatch) => {\n  return updateTeacherInfoAPI({name, description, avatarUrl})\n  .then((json) => {\n    return json;\n  })\n  .catch((err) => {\n    console.log('err: ', err);\n  });\n};\n\n// selector\nexport const selectTeacherList = (store) => store.teacher.teacherList;\nexport const selectIsGettingTeacherList = (store) =>\n  store.teacher.isGettingTeacherList;\nexport const selectTeacher = (store) => store.teacher.teacher;\nexport const selectIsGettingTeacher = (store) => store.teacher.isGettingTeacher;\n\nexport default teacherSlice.reducer;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Avatar, Row, Col } from 'antd';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getTeacher,\n  selectTeacher,\n  selectIsGettingTeacher,\n} from '../../redux/reducers/teacherReducer';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\n\nconst TeacherWrapper = styled.div`\n  padding: 16px;\n  max-width: 760px;\n  margin: 24px auto;\n  background: ${(props) => props.theme.colors.white};\n  color: ${(props) => props.theme.colors.primary.text};\n`;\nconst TeacherTitle = styled.div`\n  text-align: center;\n  font-size: 42px;\n  font-weight: bold;\n`;\n\nexport default function TeacherInfoPage() {\n  const dispatch = useDispatch();\n  const teacher = useSelector(selectTeacher);\n  const isGettingTeacher = useSelector(selectIsGettingTeacher);\n  const { id } = useParams();\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getTeacher(id));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {};\n  }, [dispatch, id]);\n\n  return (\n    <>\n      {isGettingTeacher && <Loading />}\n      {!isGettingTeacher && teacher && (\n        <TeacherWrapper>\n          <TeacherTitle>{teacher.name}</TeacherTitle>\n          <center>\n            <Avatar size={120} src={teacher.avatarUrl} />\n          </center>\n          <h1><strong>關於我</strong></h1>\n          <h3>{teacher.description}</h3>\n          <br/>\n          <h1><strong>{teacher.name} 開的課：</strong></h1>\n          <br/>\n          <Row gutter={[16, { xs: 8, sm: 16, md: 24, lg: 32 }]}>\n            {teacher.Courses.filter((course) => course.isPublic).map(\n              (course) => (\n                <Col key={course.id} xs={12} md={8}>\n                  <CourseCard course={course} />\n                </Col>\n              )\n            )}\n          </Row>\n        </TeacherWrapper>\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Breadcrumb } from 'antd';\nimport { useParams, Link, Switch, Route } from 'react-router-dom';\nimport Youtube from 'react-youtube';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loading from '../../components/Loading';\nimport {\n  selectUnit,\n  getUnitByUnitId,\n} from '../../redux/reducers/courseReducer';\n\nconst UnitTitle = styled.div`\n  font-weight: bold;\n  font-size: 34px;\n  padding: 12px 0;\n`;\nconst UnitDescription = styled.div`\n  font-size: 16px;\n  margin: 20px auto;\n`;\nconst UnitVideo = styled(Youtube)`\n  width: 100%;\n  height: 500px;\n  margin: 0 auto;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport default function UnitPage() {\n  const dispatch = useDispatch();\n  const unit = useSelector(selectUnit);\n  const { id, unitId } = useParams();\n\n  useEffect(() => {\n    dispatch(getUnitByUnitId(id, unitId));\n  }, [dispatch, id, unitId]);\n\n  const options = {\n    width: '80%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    playerVars: {\n      autoplay: 1,\n    },\n  };\n  const getYoutubeId = (url) => {\n    const urlParams = new URLSearchParams(new URL(url).search);\n    return urlParams.get('v');\n  };\n  return (\n    <>\n      {unit ? (\n        <>\n          <Breadcrumb>\n          <Breadcrumb.Item>\n                <Link to={`/classroom/${unit.courseId}`}>{unit.courseTitle}</Link>\n              </Breadcrumb.Item>\n            <Breadcrumb.Item>{unit.title}</Breadcrumb.Item>\n          </Breadcrumb>\n          <UnitTitle>{unit.title}</UnitTitle>\n          <UnitDescription>{unit.description}</UnitDescription>\n          {unit.videoUrl && (\n            <UnitVideo videoId={getYoutubeId(unit.videoUrl)} opt={options} />\n          )}\n        </>\n      ) : (\n      <Loading />\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Layout, Menu, Typography } from 'antd';\nimport { useHistory, useParams, Switch, Route } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loading from '../../components/Loading';\nimport {\n  getDetailCourse,\n  selectDetailCourse,\n} from '../../redux/reducers/courseReducer';\nimport { PlayCircleOutlined } from '@ant-design/icons';\nimport UnitPage from './UnitPage.js';\n\nconst { Content, Sider } = Layout;\nconst { Title } = Typography;\nconst FixedLayout = styled(Layout)`\n  height: 100%;\n`;\nconst ScrollSider = styled(Sider)`\n  overflow: auto;\n  min-width: 200px !important;\n  background-color: ${(prop) => prop.theme.colors.white};\n  height: 100%;\n`;\nconst StyledImg = styled.img`\n  width: 100%;\n`;\nconst CourseTitle = styled.div`\n  margin: 16px;\n  font-weight: bold;\n  font-size: 24px;\n  text-align: center;\n  line-height: 2rem;\n`;\nconst ContentWrapper = styled(Content)`\n  padding: 24px;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n`;\n\nexport default function ClassroomPage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const detailCourse = useSelector(selectDetailCourse);\n  const { id } = useParams();\n\n  useEffect(() => {\n    dispatch(getDetailCourse(id));\n  }, [dispatch, id]);\n\n  const handleClickUnit = (e) => {\n    return history.push(`/classroom/${id}/unit/${e.key}`);\n  };\n\n  return (\n    <>\n      {detailCourse ? (\n        <FixedLayout>\n          <ScrollSider>\n            <Menu\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              defaultOpenKeys={['sub1']}\n            >\n              <StyledImg alt=\"課程圖片\" src={detailCourse.imgUrl} />\n              <CourseTitle>{detailCourse.title}</CourseTitle>\n              {detailCourse.unit_list.map((unit) => (\n                <Menu.Item\n                  key={unit.id}\n                  icon={<PlayCircleOutlined style={{ fontSize: 20 }} />}\n                  onClick={handleClickUnit}\n                >\n                  {unit.title}\n                </Menu.Item>\n              ))}\n            </Menu>\n          </ScrollSider>\n          <ContentWrapper>\n            <Switch>\n              <Route exact path={`/classroom/:id`}>\n                <center>\n                  <Title>歡迎來到課程：{detailCourse.title}</Title>\n                  <Title level={3}>請點擊左方播放清單開始上課</Title>\n                </center>\n              </Route>\n              <Route exact path={`/classroom/:id/unit/:unitId`}>\n                <UnitPage />\n              </Route>\n            </Switch>\n          </ContentWrapper>\n        </FixedLayout>\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Form, Input, Button } from 'antd';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { applyTeacher } from '../../redux/reducers/teacherReducer';\nimport { getMe } from '../../redux/reducers/userReducer';\nimport ImgCrop from 'antd-img-crop';\n\nconst RegisterPageWrapper = styled.div`\n  padding: 10px;\n`;\nconst RegisterBox = styled.div`\n  padding: 10px;\n  margin: 10px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 18px;\n`;\nconst FormItem = styled(Form.Item)`\n  .ant-form-item {\n    text-align: left;\n    &-extra {\n      text-align: left;\n      padding-left: 3px;\n    }\n    &-explain-error {\n      text-align: left;\n      padding-left: 3px;\n    }\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function TeacherApplyPage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [form] = Form.useForm();\n\n  const handleChange = (info) => {\n    console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      console.log('returnUrl', returnUrl)\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n      return\n    }\n  };\n\n  const handleOnFinish = (value) => {\n    console.log(value);\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    dispatch(\n      applyTeacher({\n        name: value.name,\n        description: value.description,\n        avatarUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('申請老師成功');\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  return (\n    <RegisterPageWrapper>\n      <RegisterBox>\n        <FormTitle>申請開課</FormTitle>\n        <StyledForm\n          {...layout}\n          form={form}\n          onFinish={handleOnFinish}\n          validateMessages={validateMessages}\n        >\n          <FormItem\n            label=\"老師姓名\"\n            name=\"name\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input placeholder=\"請輸入老師姓名\" />\n          </FormItem>\n          <Form.Item\n            label=\"老師介紹\"\n            name=\"description\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input.TextArea\n              rows={8}\n              style={{ resize: 'none' }}\n              placeholder=\"請輸入介紹文字\"\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳大頭照\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate shape=\"round\">\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img\n                    src={imageUrl}\n                    alt=\"avatar\"\n                    style={{ width: '100%', borderRadius: '50%' }}\n                  />\n                ) : (\n                  <>\n                    {isUploading ? <LoadingOutlined /> : <PlusOutlined />}\n                  </>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <br />\n          <FormItem {...tailLayout}>\n            <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n              送出申請\n            </Button>\n          </FormItem>\n        </StyledForm>\n      </RegisterBox>\n    </RegisterPageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Space, Table } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getMyTeachCourseList,\n  selectMyTeachCourseList,\n  selectIsGettingCourse,\n} from '../../../redux/reducers/courseReducer';\nimport Loading from '../../../components/Loading';\nimport { toCurrency } from '../../../utils';\n// import { dummyData as data } from \"./dummyData\";\n\nexport const columns = [\n  {\n    title: 'Id',\n    dataIndex: 'id',\n    key: 'id',\n  },\n  {\n    title: '課程名稱',\n    dataIndex: 'title',\n    key: 'title',\n    render: (text, record) => (\n      <Link to={`/courses/${record.id}`}>{text}</Link>\n    ),\n  },\n  {\n    title: '目前售價',\n    dataIndex: 'price',\n    key: 'price',\n  },\n  {\n    title: '是否公開',\n    dataIndex: 'isPublic',\n    key: 'isPublic',\n  },\n  {\n    title: '更新於',\n    dataIndex: 'updatedAt',\n    key: 'updatedAt',\n  },\n  {\n    title: 'Action',\n    key: 'action',\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/teacher/courses/${record.id}`}>編輯</Link>\n        <Link to={`/classroom/${record.id}`}>預覽上課頁</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function MyTeachCourseTable() {\n  const dispatch = useDispatch();\n  const courses = useSelector(selectMyTeachCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n  useEffect(() => {\n    dispatch(getMyTeachCourseList());\n  }, [dispatch]);\n  console.log(courses);\n\n  return (\n    <>\n      {isGettingCourseList && <Loading />}\n      {!isGettingCourseList && (\n        <>\n          {courses ? (\n            <Table\n              columns={columns}\n              dataSource={\n                courses &&\n                courses.map((item) => ({\n                  ...item,\n                  key: item.id,\n                  price: toCurrency(item.price),\n                  isPublic: item.isPublic ? '是' : '否',\n                  updatedAt: item.updatedAt.slice(0, 10),\n                }))\n              }\n            />\n          ) : (\n            <center>\n              <strong>目前還沒開設任何課程</strong>\n            </center>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Breadcrumb, Button } from \"antd\";\nimport MyTeachCourseTable from \"./MyTeachCourseTable\";\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n`;\n\nexport default function MyTeachCoursePage() {\n  return (\n    <PageWrapper>\n      <InfoHeader>\n        <Breadcrumb>\n          <Breadcrumb.Item>課程列表</Breadcrumb.Item>\n        </Breadcrumb>\n        <Button type=\"primary\">\n          <Link to=\"/teacher/courses/new\">新增課程</Link>\n        </Button>\n      </InfoHeader>\n        <MyTeachCourseTable />\n    </PageWrapper>\n  );\n}\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { addCourse } from '../../../redux/reducers/courseReducer';\nimport styled from 'styled-components';\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Layout,\n  Select,\n  Breadcrumb,\n  Button,\n  Upload,\n  message,\n} from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport ImgCrop from 'antd-img-crop';\n\n\nconst { Content } = Layout;\nconst { Option } = Select;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n  text-align: center;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst FormContainer = styled(Content)`\n  margin: 0px 30px;\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    range: '${label}需介於於 ${min}~${max}',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function NewCoursePage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n\n  const handleOnFinish = (value) => {\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    dispatch(\n      addCourse({\n        title: value.title,\n        price: value.price,\n        description: value.description,\n        imgUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('新增課程成功');\n        //dispatch(getMe());\n        return history.push('/teacher/courses');\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  const handleChange = (info) => {\n    //console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      //console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n      return;\n    }\n  };\n\n  return (\n    <PageWrapper>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: '16px 0' }}>\n          <Breadcrumb.Item>\n            <Link to=\"/teacher/courses\">課程列表</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>新增課程</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <FormContainer>\n        <Form\n          {...layout}\n          form={form}\n          validateMessages={validateMessages}\n          initialValues={{ isPublic: '非公開' }}\n          onFinish={handleOnFinish}\n        >\n          <Form.Item name=\"isPublic\" label=\"課程狀態\">\n            <Select disabled>\n              <Option value=\"非公開\">非公開</Option>\n            </Select>\n          </Form.Item>\n          <Form.Item name=\"title\" label=\"課程名稱\" rules={[{ required: true }]}>\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name=\"price\"\n            label=\"課程金額\"\n            rules={[{ required: true, type: 'number', min: 0, max: 9999 }]}\n            extra=\"單位：新台幣, 限制 0~9999\"\n          >\n            <InputNumber\n              formatter={(value) =>\n                `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n              }\n              parser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"description\"\n            label=\"課程敘述\"\n            rules={[{ required: true }]}\n          >\n            <Input.TextArea rows={4} style={{ resize: 'none' }} />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳課程封面圖\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate grid aspect={4/3} modalTitle={'上傳圖片'}>\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                className=\"upload-course\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\n                ) : (\n                  <>\n                    {isUploading ? (\n                      <LoadingOutlined style={{ fontSize: '30px', padding: '60px' }} />\n                    ) : (\n                      <PlusOutlined style={{ fontSize: '30px', padding: '60px' }} />\n                    )}\n                  </>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <center>\n            <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n              新增課程\n            </Button>\n          </center>\n        </Form>\n      </FormContainer>\n    </PageWrapper>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Form, Input, Button, Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectUser, getMe } from '../../../redux/reducers/userReducer';\nimport { updateTeacherInfo } from '../../../redux/reducers/teacherReducer';\nimport ImgCrop from 'antd-img-crop';\n\nconst PageWrapper = styled.div`\n  font-size: 20px;\n  text-align: center;\n  padding: 24px;\n`;\n\nconst Info = styled.div`\n  font-size: 16px;\n  text-align: center;\n`;\nconst FormContainer = styled.div`\n  margin-top: 12px;\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function TeacherSetting() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    form.setFieldsValue({\n      name: user.Teacher.name,\n      description: user.Teacher.description,\n      upload: user.Teacher.avatarUrl,\n    });\n    setImageUrl(user.Teacher.avatarUrl);\n  }, [form, user]);\n\n  const handleChange = (info) => {\n    console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n    }\n  };\n\n  const handleOnFinish = (value) => {\n    console.log(value);\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    // 重複判定\n    if (\n      value.name === user.Teacher.name &&\n      value.description === user.Teacher.description &&\n      value.upload === user.Teacher.avatarUrl\n    ) {\n      return message.warning('資料無異動');\n    }\n    dispatch(\n      updateTeacherInfo({\n        name: value.name,\n        description: value.description,\n        avatarUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('資料更新成功');\n        return dispatch(getMe());\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  return (\n    <PageWrapper>\n      <Info>申請時間：{new Date(user.Teacher.createdAt).toLocaleString()}</Info>\n      <Info>更新時間：{new Date(user.Teacher.updatedAt).toLocaleString()}</Info>\n      <FormContainer>\n        <Form {...layout} form={form} onFinish={handleOnFinish}>\n          <Form.Item\n            name=\"name\"\n            label=\"老師名稱\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name=\"description\"\n            label=\"老師介紹\"\n            rules={[{ required: true }]}\n          >\n            <Input.TextArea rows={3} style={{ resize: 'none' }} />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳大頭照\"\n            //valuePropName=\"fileList\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate shape=\"round\">\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img\n                    src={imageUrl}\n                    alt=\"avatar\"\n                    style={{ width: '100%', borderRadius: '50%' }}\n                  />\n                ) : (\n                  <>{isUploading ? <LoadingOutlined /> : <PlusOutlined />}</>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <center>\n            <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n              確認更新\n            </Button>\n          </center>\n        </Form>\n      </FormContainer>\n    </PageWrapper>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport { Button, List, Typography, Space, Tooltip } from \"antd\";\nimport {\n  MenuOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  PlusOutlined,\n} from \"@ant-design/icons\";\n\nconst ListContainer = styled.div`\n\n`;\n\nconst ListContent = styled(List.Item)`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ListFooter = styled(List.Item)`\n  background-color: ${(props) => props.theme.colors.secondary.light};\n`;\n\nconst UnitText = styled.span`\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nfunction Unit({\n  unit,\n  dragHandleProps,\n  handleClickEditUnitButton,\n  handleDeleteUnit,\n}) {\n  return (\n    <ListContent>\n      <Space align=\"center\" size={10}>\n        <Tooltip title=\"拖拉\">\n          <MenuOutlined style={{ color: \"#999\" }} {...dragHandleProps} />\n        </Tooltip>\n        <UnitText>{unit.title}</UnitText>\n      </Space>\n      <Space>\n        <Tooltip title=\"編輯\">\n          <Button\n            icon={<EditOutlined />}\n            onClick={() => handleClickEditUnitButton(unit.id)}\n          ></Button>\n        </Tooltip>\n        <Tooltip title=\"刪除\">\n          <Button\n            icon={<DeleteOutlined />}\n            onClick={() => handleDeleteUnit(unit.id)}\n          />\n        </Tooltip>\n      </Space>\n    </ListContent>\n  );\n}\n\nexport default function CourseUnitsList({\n  unitList,\n  placeholder,\n  handleAddUnit,\n  handleDeleteUnit,\n  handleClickEditUnitButton,\n}) {\n  return (\n    <ListContainer>\n      <List size=\"large\" bordered>\n        {unitList.map((unit, index) => (\n          <Draggable key={unit.id} draggableId={`id: ${unit.id}`} index={index}>\n            {(provided) => (\n              <div ref={provided.innerRef} {...provided.draggableProps}>\n                <Unit\n                  unit={unit}\n                  dragHandleProps={provided.dragHandleProps}\n                  handleDeleteUnit={handleDeleteUnit}\n                  handleClickEditUnitButton={handleClickEditUnitButton}\n                />\n              </div>\n            )}\n          </Draggable>\n        ))}\n        {placeholder}\n        <ListFooter>\n          <Space\n            align=\"center\"\n            size={10}\n            style={{ cursor: \"pointer\" }}\n            onClick={handleAddUnit}\n          >\n            <PlusOutlined />\n            <UnitText>新增課程</UnitText>\n          </Space>\n        </ListFooter>\n      </List>\n    </ListContainer>\n  );\n}\n","import React, {\n  useEffect,\n  useState,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Select,\n  Upload,\n  message,\n} from 'antd';\nimport ImgCrop from 'antd-img-crop';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    range: '${label}需介於於 ${min}~${max}',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nfunction CourseSettingForm({ course }, ref) {\n  const [form] = Form.useForm();\n  const [imageUrl, setImageUrl] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleChange = (info) => {\n    console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    getFieldsValue: () => {\n      return form.validateFields();\n    },\n  }));\n  useEffect(() => {\n    form.setFieldsValue({\n      isPublic: course.isPublic ? '公開' : '非公開',\n      title: course.title,\n      price: course.price,\n      description: course.description,\n      upload: course.imgUrl,\n    });\n    setImageUrl(course.imgUrl);\n  }, [form, course]);\n  return (\n    <Form form={form} {...layout} validateMessages={validateMessages}>\n      <center>建立時間：{new Date(course.createdAt).toLocaleString()}</center>\n      <center>最後更新：{new Date(course.updatedAt).toLocaleString()}</center>\n      <br />\n      <Form.Item name=\"isPublic\" label=\"課程狀態\" rules={[{ required: true }]}>\n        <Select>\n          <Option value=\"公開\">公開</Option>\n          <Option value=\"非公開\">非公開</Option>\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"title\" label=\"課程名稱\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item\n        name=\"price\"\n        label=\"課程金額\"\n        rules={[{ required: true, type: 'number', min: 0, max: 9999 }]}\n        extra=\"單位：新台幣, 限制 0~9999\"\n      >\n        <InputNumber\n          formatter={(value) =>\n            `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          }\n          parser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\n        />\n      </Form.Item>\n      <Form.Item\n        name=\"description\"\n        label=\"課程敘述\"\n        rules={[{ required: true }]}\n      >\n        <Input.TextArea rows={4} style={{ resize: 'none' }} />\n      </Form.Item>\n      <Form.Item\n        name=\"upload\"\n        label=\"Upload\"\n        //valuePropName=\"fileList\"\n        extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n        rules={[\n          {\n            required: true,\n          },\n        ]}\n      >\n        <ImgCrop rotate grid aspect={4/3} modalTitle={'上傳圖片'}>\n          <Upload\n            name=\"image\"\n            listType=\"picture-card\"\n            className=\"upload-course\"\n            showUploadList={false}\n            action=\"https://api.imgur.com/3/image\"\n            headers={{\n              Authorization: 'Client-ID ef0e0fd605be920',\n              'X-Requested-With': null,\n            }}\n            beforeUpload={beforeUpload}\n            onChange={handleChange}\n          >\n            {imageUrl ? (\n              <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\n            ) : (\n              <div>\n                {isUploading ? <LoadingOutlined /> : <PlusOutlined />}\n                <div style={{ marginTop: 8 }}>上傳大頭照</div>\n              </div>\n            )}\n          </Upload>\n        </ImgCrop>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default forwardRef(CourseSettingForm);\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectIsGettingCourse,\n  getDetailCourse,\n  setDetailCourse,\n  updateCourse,\n  selectDetailCourse,\n} from '../../../redux/reducers/courseReducer';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport styled from 'styled-components';\nimport { Layout, Breadcrumb, Button, message } from 'antd';\nimport CourseUnitsList from '../../../components/CourseUnitsList';\nimport CourseSettingForm from '../../../components/CourseSettingForm';\nimport Loading from '../../../components/Loading';\nconst { Content } = Layout;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n  text-align: center;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst CourseContent = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\nconst ButtonWrapper = styled.div`\n  margin: 18px auto;\n  text-align: center;\n`;\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\nexport default function UpdateCoursePage() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const history = useHistory();\n  const course = useSelector(selectDetailCourse);\n  //console.log('course detail', course);\n  const ChildRef = useRef();\n\n  useEffect(() => {\n    dispatch(getDetailCourse(id));\n    return () => {\n      dispatch(setDetailCourse(null));\n    };\n  }, [dispatch, id]);\n\n  function handleOnDragEnd(result) {\n    // 無動作或是目的地=原本位置 > 返回\n    if (!result || result.destination.index === result.source.index) return;\n    const reorderedUnitList = reorder(\n      course.unit_list,\n      result.source.index,\n      result.destination.index\n    );\n    dispatch(setDetailCourse({ ...course, unit_list: reorderedUnitList }));\n  }\n\n  const handleAddUnit = () => {\n    const oldUnitList = course.unit_list;\n    const lastUnitId =\n      oldUnitList.length > 0\n        ? Number(oldUnitList[oldUnitList.length - 1].id)\n        : 0;\n    const unitId = lastUnitId + 1;\n    const unit = { id: unitId, title: '新課程' };\n    // 更新當前資料\n    dispatch(\n      setDetailCourse({ ...course, unit_list: [...course.unit_list, unit] })\n    );\n  };\n\n  const handleDeleteUnit = (id) => {\n    const newUnitList = course.unit_list.filter((item) => item.id !== id);\n    // 更新當前資料\n    dispatch(setDetailCourse({ ...course, unit_list: newUnitList }));\n  };\n\n  const getFormValue = async () => {\n    const value = await ChildRef.current\n      .getFieldsValue()\n      .then((values) => values)\n      .catch((error) => console.log(error));\n    if (!value) return;\n    value.isPublic = value.isPublic === '公開' ? true : false;\n    value.unit_list = course.unit_list;\n    value.imgUrl = value.upload;\n    //console.log('getFormValue', value);\n    return value;\n  };\n\n  const handleClickSave = async () => {\n    const value = await getFormValue();\n    // 沒變化時就不 call API\n    if (!value) return;\n    // courseId\n    dispatch(updateCourse(id, value)).then((json) => {\n      // 把頁面導向單元編輯頁\n      if (json.ok === 1) {\n        message.success('更新課程成功', 5)\n        return history.push(`/teacher/courses/`);\n      }\n      return message.error(json.errorMessage, 5)\n    });\n  };\n\n  const handleClickEditUnitButton = async (unitId) => {\n    const value = await getFormValue();\n    if (!value) return;\n    // courseId\n    dispatch(updateCourse(id, value)).then((json) => {\n      // 把頁面導向單元編輯頁\n      if (json.ok === 1) {\n        message.success('更新課程成功', 5)\n        return history.push(`/teacher/courses/${id}/unit/${unitId}`);\n      }\n      return message.error(json.errorMessage, 5)\n    });\n  };\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && course && (\n        <PageWrapper>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/teacher/courses\">課程列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>課程\b管理({course.title})</Breadcrumb.Item>\n            </Breadcrumb>\n          </InfoHeader>\n          <CourseContent>\n            {/* 課程資訊 */}\n            <CourseSettingForm ref={ChildRef} course={course} />\n            {/* dnd */}\n            <DragDropContext onDragEnd={handleOnDragEnd}>\n              <Droppable droppableId=\"courseContent\">\n                {(provided) => (\n                  <div ref={provided.innerRef} {...provided.droppableProps}>\n                    <CourseUnitsList\n                      unitList={course.unit_list}\n                      placeholder={provided.placeholder}\n                      handleAddUnit={handleAddUnit}\n                      handleDeleteUnit={handleDeleteUnit}\n                      handleClickEditUnitButton={handleClickEditUnitButton}\n                    />\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n          </CourseContent>\n          <ButtonWrapper>\n            <Button type=\"primary\" size=\"large\" onClick={handleClickSave}>\n              儲存變更\n            </Button>\n          </ButtonWrapper>\n        </PageWrapper>\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectIsGettingCourse,\n  getUnitByUnitId,\n  selectUnit,\n  updateUnitByUnitId,\n} from '../../../redux/reducers/courseReducer';\nimport styled from 'styled-components';\nimport { Layout, Breadcrumb, Button, Form, Input, message } from 'antd';\nimport Loading from '../../../components/Loading';\nconst { Content } = Layout;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst FormContainer = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 14 },\n};\n\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    min: '${label}不可小於 ${min}',\n  },\n};\n\nexport default function EditUnitPage() {\n  const { id, unitId } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const unit = useSelector(selectUnit);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const [form] = Form.useForm();\n  console.log('original unit', unit);\n  console.log('isGettingCourse', isGettingCourse)\n\n  useEffect(() => {\n    console.log('useEffect');\n    dispatch(getUnitByUnitId(id, unitId));\n  }, [dispatch, id, unitId]);\n\n  if (unit) {\n    form.setFieldsValue({\n      title: unit.title,\n      description: unit.description || '',\n      videoUrl: unit.videoUrl || '',\n    });\n  }\n  \n  const onFinish = (values) => {\n    dispatch(updateUnitByUnitId(id, unitId, values)).then((json) => {\n      if (json.ok === 1) {\n        message.success('單元更新成功', 5);\n        return history.push(`/teacher/courses/${id}`); // 把頁面導向單元列表\n      }\n      return message.error(json.errorMessage, 5);\n    });\n    //\n  };\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && unit && (\n        <PageWrapper>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/teacher/courses\">課程列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>\n                <Link to={`/teacher/courses/${id}`}>\n                  課程\b管理({unit.courseTitle})\n                </Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>編輯單元(id:{unit.id})</Breadcrumb.Item>\n            </Breadcrumb>\n          </InfoHeader>\n          <FormContainer>\n            <Form\n              {...layout}\n              form={form}\n              onFinish={onFinish}\n              validateMessages={validateMessages}\n            >\n              <Form.Item\n                name=\"title\"\n                label=\"單元名稱\"\n                rules={[{ required: true }]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item name=\"description\" label=\"單元敘述\">\n                <Input.TextArea rows={8} style={{ resize: 'none' }} />\n              </Form.Item>\n              <Form.Item name=\"videoUrl\" label=\"影片連結\">\n                <Input placeholder=\"請輸入 Youtube 連結\" />\n              </Form.Item>\n              <center>\n                <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n                  儲存\n                </Button>\n              </center>\n            </Form>\n          </FormContainer>\n        </PageWrapper>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport MyTeachCoursePage from \"../pages/TeacherPage/MyTeachCoursePage\";\nimport NewCourseForm from '../pages/TeacherPage/NewCourseForm'\nimport TeacherSetting from '../pages/TeacherPage/TeacherSettingForm'\nimport UpdateCourseForm from '../pages/TeacherPage/UpdateCourseForm'\nimport EditUnitForm from '../pages/TeacherPage/EditUnitForm'\n\nexport default function MeRoutes() {\n  return (\n    <Switch>\n      <Route exact path={`/teacher`}>\n        <div></div>\n      </Route>\n      <Route path={`/teacher/info`}>\n        <TeacherSetting/>\n      </Route>\n      <Route exact path={`/teacher/courses`}>\n        <MyTeachCoursePage />\n      </Route>\n      <Route exact path={`/teacher/courses/new`}>\n        <NewCourseForm />\n      </Route>\n      <Route exact path=\"/teacher/courses/:id\">\n        <UpdateCourseForm />\n      </Route>\n      <Route exact path=\"/teacher/courses/:id/unit/:unitId\">\n        <EditUnitForm />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport TeacherRoutes from '../../routes/TeacherRoutes';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { UserOutlined, ReadOutlined } from '@ant-design/icons';\nimport { selectUser } from '../../redux/reducers/userReducer';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`;\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\nconst AvatarWrapper = styled.div`\n  padding: 20px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst StyledImg = styled.img`\n  height: 130px;\n  border-radius: 50%;\n`\n\nexport default function TeacherPage() {\n  const location = useLocation();\n  const history = useHistory();\n  const user = useSelector(selectUser);\n\n  useEffect(() => {\n    if (location.pathname === '/teacher') {\n      history.push('/teacher/info');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <AvatarWrapper>\n            <StyledImg alt='avatar' src={user.Teacher.avatarUrl} />\n          </AvatarWrapper>\n          <StyledMenuItem\n            key=\"1\"\n            icon={<UserOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/teacher/info\">老師資料</Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            key=\"2\"\n            icon={<ReadOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/teacher/courses\">課程管理</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ marginLeft: '200px' }}>\n        <TeacherRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Switch, Route, Link, useParams } from 'react-router-dom';\n//  引入各分頁\nimport HomePage from '../pages/HomePage';\nimport LoginPage from '../pages/LoginPage';\nimport RegisterPage from '../pages/RegisterPage';\nimport MePage from '../pages/MePage';\nimport ConsolePage from '../pages/ConsolePage';\nimport CartListPage from '../pages/CartListPage';\nimport CheckoutPage from '../pages/CheckoutPage';\nimport CourseListPage from '../pages/CourseListPage';\nimport MyCoursePage from '../pages/MyCoursePage';\nimport CourseInfoPage from '../pages/CourseInfoPage';\nimport TeacherInfoPage from '../pages/TeacherInfoPage';\nimport ClassroomPage from '../pages/ClassroomPage';\n\nimport TeacherApplyPage from '../pages/TeacherApplyPage';\n\nimport TeacherPage from '../pages/TeacherPage';\n\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../redux/reducers/userReducer';\n\nconst padding = 36;\n\nconst NoLoggingMessage = () => (\n  <center>\n    <br />\n    <h1>請先註冊或登入</h1>\n    <h1>\n      <Link to=\"/register\">註冊</Link>\n      <br />\n      <Link to=\"/login\">登入</Link>\n    </h1>\n  </center>\n);\n\nconst UnauthorizedMessage = () => (\n  <center>\n    <br />\n    <h1>您未授權訪問此頁面</h1>\n  </center>\n);\n\nfunction Routes() {\n  const user = useSelector(selectUser);\n  console.log('route user', user);\n  return (\n    <Switch>\n      {/* ------------- 任何身分 ------------- */}\n      {/* 首頁 */}\n      <Route exact path=\"/\">\n        <HomePage />\n      </Route>\n      {/* 註冊 */}\n      <Route exact path=\"/register\">\n        <RegisterPage />\n      </Route>\n      {/* 登入 */}\n      <Route exact path=\"/login\">\n        <LoginPage />\n      </Route>\n      {/* 課程列表 */}\n      <Route exact path=\"/courses\">\n        <CourseListPage padding={padding} />\n      </Route>\n      {/* 單一課程介紹 */}\n      <Route exact path=\"/courses/:id\">\n        <CourseInfoPage />\n      </Route>\n      {/* 老師介紹 */}\n      <Route exact path=\"/teacher-info/:id\">\n        <TeacherInfoPage padding={padding} />\n      </Route>\n\n      {/* ------------- 一般會員 ------------- */}\n      {/* 購物車 */}\n      <Route exact path=\"/cart\">\n        {user ? <CartListPage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 結帳 */}\n      <Route exact path=\"/checkout/:id?\">\n        {user ? <CheckoutPage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 我的課程 */}\n      <Route exact path=\"/my-course\">\n        {user ? <MyCoursePage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 上課頁面  底下還有子路由時不可設 exact */}\n      <Route path=\"/classroom/:id/\">\n        {user ? <ClassroomPage /> : <NoLoggingMessage />}\n      </Route>\n      {/* 我的帳號 底下還有子路由時不可設 exact */}\n      <Route path=\"/me\">{user ? <MePage /> : <NoLoggingMessage />}</Route>\n\n      {/* 註冊老師 */}\n      <Route path=\"/teacher-apply\">\n        {user ? (\n          user.authTypeId === 1 ? (\n            <TeacherApplyPage />\n          ) : (\n            <UnauthorizedMessage />\n          )\n        ) : (\n          <NoLoggingMessage />\n        )}\n      </Route>\n\n      {/* ------------- 老師 ------------- */}\n      <Route path=\"/teacher\">\n        {user && user.authTypeId === 2 ? <TeacherPage /> : <NoLoggingMessage />}\n      </Route>\n\n      {/* ------------- 管理員 ------------- */}\n      {/* 管理後台 */}\n      <Route path=\"/console\">\n        {user &&\n          (user && user.authTypeId === 3 ? (\n            <ConsolePage />\n          ) : (\n            <UnauthorizedMessage />\n          ))}\n      </Route>\n\n      {/* 其餘網址一律導至首頁 */}\n      <Route path=\"/\">\n        <CourseListPage padding={padding} />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Routes;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Layout } from \"antd\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Routes from \"./routes/Routes\";\nimport { useDispatch } from \"react-redux\";\nimport { getMe } from \"./redux/reducers/userReducer\";\n\nconst { Content } = Layout;\nconst AntLayout = styled(Layout)`\n  min-height: 100vh;\n  height: ${(props) => props.$fixedsider && `100vh`};\n`;\n\nconst consolePage = [\"console\", \"me\", \"classroom\", \"teacher/\"];\nconst fixedSiderPage = [\"classroom\"];\n\nfunction App() {\n  //console.log(\"render app\");\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n  //console.log(pathname);\n  const checkIsConsolePage = consolePage.some((el) => pathname.includes(el));\n  const checkIsFixedSiderPage = fixedSiderPage.some((el) =>\n    pathname.includes(el)\n  );\n\n  useEffect(() => {\n    dispatch(getMe());\n  }, [dispatch]);\n\n  return (\n    <AntLayout $fixedsider={checkIsFixedSiderPage}>\n      {/* optional header */}\n      <Header />\n      <Content>\n        {/* Routes */}\n        <Routes />\n      </Content>\n      {/* optional footer */}\n      {!checkIsConsolePage && <Footer />}\n    </AntLayout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { getUnitListAPI, updateUnitListAPI } from \"../../webAPI/courseAPI\";\n\nexport const unitSlice = createSlice({\n  name: \"unit\",\n  initialState: {\n    unit: null,\n    unitList: null,\n    course: null,\n    isLoading: false,\n    errorMessage: \"\",\n  },\n  reducers: {\n    setCourse: (state, action) => {\n      state.course = action.payload;\n    },\n    setUnit: (state, action) => {\n      state.unit = action.payload;\n    },\n    setUnitList: (state, action) => {\n      state.unitList = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setCourse,\n  setUnit,\n  setUnitList,\n  setErrorMessage,\n  setIsLoading,\n} = unitSlice.actions;\n\n// redux thunk function\nexport const getUnitListByCourseId = (courseId) => (dispatch) => {\n  dispatch(setIsLoading(true));\n  dispatch(setCourse(null));\n  dispatch(setUnit(null));\n  dispatch(setUnitList(null));\n  dispatch(setErrorMessage(\"\"));\n  console.log(\"reducer\");\n  getUnitListAPI(courseId)\n    .then((course) => {\n      if (course.ok === 0) {\n        dispatch(setErrorMessage(\"cannot find course\"));\n        dispatch(setIsLoading(false));\n        return;\n      }\n      // success\n      dispatch(setUnit(course.data.unit_list[0]));\n      dispatch(setUnitList(course.data.unit_list));\n      dispatch(setCourse(course.data));\n      dispatch(setIsLoading(false));\n    })\n    .catch((err) => {\n      dispatch(setIsLoading(false));\n      console.log(\"err: \", err);\n    });\n};\nexport const getUnitByUnitId = (course, unitId) => (dispatch) => {\n  dispatch(setIsLoading(true));\n  dispatch(setUnit(course.unit_list[unitId]));\n  dispatch(setIsLoading(false));\n};\nexport const updateLocalUnitList = (unitList) => (dispatch) => {\n  dispatch(setUnitList(unitList));\n};\nexport const updateUnitList = (courseId, unitList) => (dispatch) => {\n  if (!courseId || !unitList) return console.log(\"no required info\");\n  updateUnitListAPI(courseId, unitList)\n    .then((json) => {\n      if (json.ok === 0) {\n        console.log(json);\n        return;\n      }\n      // success\n      console.log(\"更新單元列表成功\");\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n// selector\nexport const selectUnit = (store) => store.unit.unit;\nexport const selectUnitList = (store) => store.unit.unitList;\nexport const selectCourse = (store) => store.unit.course;\nexport const selectErrorMessage = (store) => store.unit.errorMessage;\nexport const selectIsLoading = (store) => store.unit.isLoading;\n\nexport default unitSlice.reducer;\n","/* eslint-disable import/no-unresolved */\n/* eslint-disable no-param-reassign */\nimport { createSlice } from '@reduxjs/toolkit';\n\nexport const errorMessageSlice = createSlice({\n  name: 'error',\n  initialState: {\n    errorMessage: null,\n  },\n  reducers: {\n    setErrorMessage: (state, action) => {\n      //  參數為單一值非物件\n      state.errorMessage = action.payload;\n    },\n  },\n});\n\n// 設定 action\nexport const { setErrorMessage } = errorMessageSlice.actions;\n\n// selector\nexport const selectErrorMessage = store => store.error.errorMessage;\n\nexport default errorMessageSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport cartReducer from \"./reducers/cartReducer\";\r\nimport courseReducer from \"./reducers/courseReducer\";\r\nimport teacherReducer from \"./reducers/teacherReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport memberReducer from \"./reducers/memberReducer\";\r\nimport unitReducer from \"./reducers/unitReducer\";\r\nimport orderReducer from \"./reducers/orderReducer\";\r\nimport errorMessageReducer from \"./reducers/errorMessageReducer\"\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    cart: cartReducer,\r\n    order: orderReducer,\r\n    course: courseReducer,\r\n    teacher: teacherReducer,\r\n    user: userReducer,\r\n    member: memberReducer,\r\n    unit: unitReducer,\r\n    errorMessage: errorMessageReducer,\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ThemeProvider } from \"styled-components\";\nimport { theme } from \"./constants/theme\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <Router>\n          <App />\n        </Router>\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const theme = {\n  colors: {\n    primary: {\n      main: \"#3483cd\",\n      light: \"#70b2ff\",\n      dark: \"#00579c\",\n      text: \"#000000\",\n    },\n    secondary: {\n      main: \"#f89f3c\",\n      light: \"#ffd06c85\",\n      dark: \"#c07000\",\n      text: \"#000000\",\n    },\n    white: \"#fff\",\n    grey: \"#d3d3d3c4\",\n  },\n};\n"],"sourceRoot":""}