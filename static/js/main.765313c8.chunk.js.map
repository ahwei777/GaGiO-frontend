{"version":3,"sources":["constants/breakpoint.js","constants/API_BASE_URL.js","utils.js","webAPI/userAPI.js","webAPI/cartAPI.js","redux/reducers/cartReducer.js","redux/reducers/userReducer.js","img/LOGO.png","components/Header/Header.js","components/Footer/Footer.js","components/CourseCard/CourseCard.js","redux/reducers/courseReducer.js","webAPI/courseAPI.js","img/no-webp/carousel_1.jpg","img/webp/carousel_1.webp","img/no-webp/carousel_2.jpg","img/webp/carousel_2.webp","img/no-webp/carousel_3.jpg","img/webp/carousel_3.webp","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/RegisterPage.js","pages/MePage/AccountSetting/ModalUpdatePassword.js","pages/MePage/AccountSetting/AccountSetting.js","redux/reducers/orderReducer.js","webAPI/orderAPI.js","pages/MePage/OrderHistory/OrderHistory.js","routes/MeRoutes.js","pages/MePage/MePage.js","components/Loading/Loading.js","pages/ConsoleCoursesPage/CoursesTable.js","pages/ConsoleCoursesPage/ConsoleCoursesPage.js","webAPI/adminAPI.js","redux/reducers/memberReducer.js","pages/ConsoleMembersPage/MembersTable.js","pages/ConsoleMembersPage/ConsoleMembersPage.js","pages/MemberDetailPage/MemberDetailPage.js","routes/ConsoleRoutes.js","pages/ConsolePage/ConsolePage.js","pages/CartListPage/CartListPage.js","pages/CheckoutPage/CheckoutPage.js","pages/CourseListPage/CourseListPage.js","pages/MyCoursePage/MyCoursePage.js","pages/CourseInfoPage/CourseInfoPage.js","webAPI/teacherAPI.js","redux/reducers/teacherReducer.js","pages/TeacherInfoPage/TeacherInfoPage.js","pages/ClassroomPage/UnitPage.js","pages/ClassroomPage/ClassroomPage.js","pages/TeacherApplyPage/TeacherApplyPage.js","pages/TeacherPage/MyTeachCoursePage/MyTeachCourseTable.js","pages/TeacherPage/MyTeachCoursePage/MyTeachCoursePage.js","pages/TeacherPage/NewCourseForm/NewCourseForm.js","pages/TeacherPage/TeacherSettingForm/TeacherSettingForm.js","components/CourseUnitsList/CourseUnitsList.js","components/CourseSettingForm/CourseSettingForm.js","pages/TeacherPage/UpdateCourseForm/UpdateCourseForm.js","pages/TeacherPage/EditUnitForm/EditUnitForm.js","routes/TeacherRoutes.js","pages/TeacherPage/TeacherPage.js","routes/Routes.js","App.js","reportWebVitals.js","redux/store.js","index.js","constants/theme.js"],"names":["MEDIA_QUERY_MOBILE_M","MEDIA_QUERY_TABLET","BASE_URL","TOKEN_NAME","passwordRegExp","isStrongPassword","password","test","toString","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","toCurrency","num","parts","split","replace","join","translateAuth","AuthTypeId","addCartItemAPI","id","fetch","method","headers","Authorization","then","res","json","deleteCartItemAPI","cartSlice","createSlice","name","initialState","cartList","isGettingCartList","getCartListError","isAddingCartItem","addCartItemError","isDeletingCartItem","deleteCartItemError","reducers","setCartList","state","action","payload","setIsGettingCartList","setGetCartListError","setIsAddingCartItem","setAddCartItemError","setIsDeletingCartItem","setDeleteCartItemError","actions","getCartList","dispatch","console","log","ok","errorMessage","data","cart_items","catch","err","selectCartList","store","cart","userSlice","user","isGettingUser","setUser","setIsGettingUser","setUserErrorMessage","getMe","getState","a","login","email","body","JSON","stringify","loginAPI","register","nickname","registerAPI","logout","updateMyInfo","updateMyInfoAPI","updateMyPassword","oldPassword","newPassword","updateMyPasswordAPI","selectUser","useBreakpoint","Grid","Search","Input","StyledSearch","styled","StyledMenu","Menu","HeaderContainer","div","props","theme","colors","primary","text","Logo","Link","NavContainer","NavToggleGroup","NavRightPart","NavToggler","Button","NavTogglerBody","light","CartIcon","ShoppingCartOutlined","LeftMenu","searchValue","setSearchValue","onSearch","handleClose","currentKey","md","mode","onClick","selectedKeys","value","onChange","e","placeholder","Item","to","RightMenu","handleLogout","authTypeId","Header","useDispatch","history","useHistory","pathname","useLocation","useSelector","useState","setCurrentKey","useEffect","indexOf","getCurrentKey","push","visible","setState","src","LOGO","alt","count","length","offset","title","placement","closable","onClose","FooterContainer","grey","MediaCol","Col","MediaWrapper","Footer","gutter","sm","xs","FacebookFilled","TwitterSquareFilled","InstagramFilled","href","style","color","GithubOutlined","fontSize","Meta","Card","CardWrapper","main","LoadingBackground","StyledImg","img","TeacherLink","Price","CourseCard","course","isBought","cover","position","top","width","debounce","resize","once","imgUrl","price","Teacher","TeacherId","size","avatarUrl","courseSlice","isGettingCourse","getCourseError","courseList","myCourseList","myTeachCourseList","detailCourse","unit","setCourseList","setIsGettingCourse","setGetCourseError","setCourse","setMyCourseList","setMyTeachCourseList","setDetailCourse","setUnit","getCourseList","params","keyword","page","limit","sort","order","getPublic","getCourseListAPI","getCourse","getCourseAPI","getMyCourseList","getMyTeachCourseList","addCourse","description","addCourseAPI","updateCourse","courseId","isPublic","unit_list","undefined","updateCourseAPI","getDetailCourse","getDetailCourseAPI","parse","getUnitByUnitId","unitId","getUnitByUnitIdAPI","updateUnitByUnitId","updateUnitByUnitIdAPI","selectIsGettingCourse","selectCourseList","selectCourse","selectMyCourseList","selectMyTeachCourseList","selectDetailCourse","selectUnit","PageWrapper","Intro","CoursesWrapper","TitleLatestCourse","LoadingWrapper","CourseListPage","isGettingCourseList","showThumbs","showStatus","autoPlay","infiniteLoop","carousel_1_jpg","webp","carousel_1_webp","carousel_2_jpg","carousel_2_webp","carousel_3_jpg","carousel_3_webp","lg","filter","map","LoginBox","FormTitle","NoAccountMessage","StyledForm","Form","layout","labelCol","span","wrapperCol","tailLayout","validateMessages","required","types","Login","React","onFinish","message","loading","content","key","duration","success","error","label","rules","type","Password","htmlType","RegisterBox","HasAccountMessage","Register","getFieldValue","validator","_","inputValue","Promise","resolve","reject","extra","dependencies","BoxWrapper","UpdateForm","forwardRef","ref","setModalText","useForm","form","useImperativeHandle","resetForm","resetFields","setTimeout","ModalUpdatePassword","setVisible","ChildRef","useRef","modalText","onCancel","current","afterClose","footer","InfoRow","Row","InfoTitle","InfoDetail","AccountSetting","Date","createdAt","toLocaleString","updatedAt","defaultValue","enterButton","warning","danger","orderSlice","orderResponse","isSendingOrder","sendingOrderError","orderList","setOrderResponse","setIsSendingOrder","setSendingOrderError","setOrderList","sendOrder","sendOrderAPI","getMyOrderList","selectOrderList","EmptyOrderList","CourseImg","i","paymentType","sumPrice","isPaid","className","columns","dataIndex","expandable","expandedRowRender","row","render","selectedOrderItems","Order_items","Course","amountPaid","dataSource","pagination","MeRoutes","exact","path","Sider","Layout","FixedSider","StyledMenuItem","IconWrapper","UseIcon","UserOutlined","MePage","location","defaultSelectedKeys","defaultOpenKeys","icon","FileDoneOutlined","marginLeft","Loading","record","CoursesTable","courses","item","slice","Content","InfoHeader","ConsoleCoursesPage","margin","memberSlice","memberList","member","isGettingMemberList","isGettingMember","setMemberList","setMember","setErrorMessage","setIsGettingMemberList","setIsGettingMember","getMemberList","getMember","getMemberAPI","updateMemberAuth","authType","updateUserInfoAPI","selectMember","selectMemberList","selectIsGettingMemberList","selectIsGettingMember","MembersTable","members","auth","TableContainer","white","ConsoleMembersPage","Option","Select","Typography","Title","Text","MemberContent","CourseTitle","AuthSelection","selectedUserId","handleChange","MemberDetailPage","useParams","localAuthTypeId","setLocalAuthTypeId","bordered","CourseId","ConsoleRoutes","ConsolePage","BookOutlined","ContactsOutlined","padding","LeftContainer","RightContainerOuter","RightContainerInner","secondary","CartListPage","forEach","el","handleDeleteCartItem","deleteCartItem","DeleteOutlined","pageSize","align","block","Paragraph","FormWrapper","formItemLayout","buttonItemLayout","CheckoutPage","sumCourse","priceString","values","orderData","orderCourses","level","allowClear","SearchWrapper","SearchInfo","URLSearchParams","search","get","selected","setSelected","MyCourseListPage","CourseWrapper","ButtonPlacer","ButtonWrapper","CourseInfoPage","checkIsAlreadyInCart","Number","boughtCourses","addCartItem","disabled","unit_title","number","renderItem","teacherSlice","teacherList","isGettingTeacherList","getTeacherListError","teacher","isGettingTeacher","getTeacherError","setTeacherList","setIsGettingTeacherList","setGetTeacherListError","setTeacher","setIsGettingTeacher","setGetTeacherError","getTeacher","getTeacherAPI","applyTeacher","applyTeacherAPI","updateTeacherInfo","updateTeacherInfoAPI","selectTeacher","selectIsGettingTeacher","TeacherWrapper","TeacherTitle","TeacherInfoPage","Courses","UnitTitle","UnitDescription","UnitVideo","Youtube","UnitPage","url","courseTitle","videoUrl","videoId","URL","opt","alignItems","justifyContent","playerVars","autoplay","FixedLayout","ScrollSider","prop","ContentWrapper","ClassroomPage","handleClickUnit","PlayCircleOutlined","RegisterPageWrapper","FormItem","beforeUpload","file","isJpgOrPng","isLt2M","TeacherApplyPage","isUploading","setIsUploading","imageUrl","setImageUrl","upload","TextArea","rows","rotate","shape","listType","showUploadList","info","status","returnUrl","response","link","setFieldsValue","borderRadius","LoadingOutlined","PlusOutlined","MyTeachCourseTable","MyTeachCoursePage","FormContainer","range","NewCoursePage","initialValues","min","max","formatter","parser","grid","aspect","modalTitle","Info","TeacherSetting","ListContainer","ListContent","List","ListFooter","UnitText","Unit","dragHandleProps","handleClickEditUnitButton","handleDeleteUnit","MenuOutlined","EditOutlined","CourseUnitsList","unitList","handleAddUnit","index","draggableId","provided","innerRef","draggableProps","cursor","CourseSettingForm","getFieldsValue","validateFields","marginTop","CourseContent","UpdateCoursePage","oldUnitList","newUnitList","getFormValue","handleClickSave","onDragEnd","result","destination","source","reorderedUnitList","list","startIndex","endIndex","Array","from","splice","removed","reorder","droppableId","droppableProps","EditUnitPage","AvatarWrapper","TeacherPage","ReadOutlined","NoLoggingMessage","UnauthorizedMessage","Routes","AntLayout","$fixedsider","consolePage","fixedSiderPage","App","checkIsConsolePage","some","includes","checkIsFixedSiderPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","cartReducer","orderReducer","courseReducer","teacherReducer","userReducer","memberReducer","ReactDOM","StrictMode","dark","document","getElementById"],"mappings":"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","file":"static/js/main.765313c8.chunk.js","sourcesContent":["export const MEDIA_QUERY_MOBILE_M = '@media screen and (min-width: 375px)';\nexport const MEDIA_QUERY_MOBILE_L = '@media screen and (min-width: 480px)';\nexport const MEDIA_QUERY_TABLET = '@media screen and (min-width: 768px)';\nexport const MEDIA_QUERY_LAPTOP = '@media screen and (min-width: 1200px)';\n\n/* ant design breakpoint width#\n{\n  xs: '480px',\n  sm: '576px',\n  md: '768px',\n  lg: '992px',\n  xl: '1200px',\n  xxl: '1600px',\n}\n*/\n","export const BASE_URL = \"https://gagio-backend.ahwei777.tw/v1\";\n//export const BASE_URL = \"http://localhost:3002/v1\";","const TOKEN_NAME = \"token\";\n\nconst passwordRegExp = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/;\n\nexport const isStrongPassword = (password) => {\n  return passwordRegExp.test(password.toString());\n};\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\n\nexport function toCurrency(num) {\n  var parts = num.toString().split(\".\");\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  return \"NT$\" + parts.join(\".\");\n}\n\nexport function translateAuth(AuthTypeId) {\n  switch (AuthTypeId) {\n    case 1:\n      return \"一般會員\";\n    case 2:\n      return \"開課者\";\n    case 3:\n      return \"管理員\";\n    default:\n      return \"未知\";\n  }\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const registerAPI = (email, password, nickname) =>\n  fetch(`${BASE_URL}/users/register`, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body: JSON.stringify({\n      email,\n      password,\n      nickname,\n    }),\n  }).then((res) => res.json());\n\nexport const loginAPI = (email, password) =>\n  fetch(`${BASE_URL}/users/login`, {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  }).then((res) => res.json());\n\nexport const getMeAPI = () =>\n  fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateMyInfoAPI = (nickname) =>\n  fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      nickname,\n    }),\n  }).then((res) => res.json());\n\nexport const updateMyPasswordAPI = (oldPassword, newPassword) =>\n  fetch(`${BASE_URL}/users/password/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      oldPassword,\n      newPassword,\n    }),\n  }).then((res) => res.json());\n\nexport const updateUserAuthAPI = (id, AuthTypeId) =>\n  fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      AuthTypeId,\n    }),\n  }).then((res) => res.json());\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getCartListAPI = () => {\n  return fetch(`${BASE_URL}/carts`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const addCartItemAPI = (id) =>\n  fetch(`${BASE_URL}/carts/cart-item/${id}`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const deleteCartItemAPI = (id) =>\n  fetch(`${BASE_URL}/carts/cart-item/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport { getCartListAPI, addCartItemAPI, deleteCartItemAPI } from '../../webAPI/cartAPI';\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    cartList: [],\n    isGettingCartList: false,\n    getCartListError: null,\n    isAddingCartItem: false,\n    addCartItemError: null,\n    isDeletingCartItem: false,\n    deleteCartItemError: null,\n  },\n  reducers: {\n    setCartList: (state, action) => {\n      state.cartList = action.payload;\n      state.getCartListError = null;\n    },\n    setIsGettingCartList: (state, action) => {\n      state.isGettingCartList = action.payload;\n    },\n    setGetCartListError: (state, action) => {\n      state.getCartListError = action.payload;\n    },\n    setIsAddingCartItem: (state, action) => {\n      state.isAddingCartItem = action.payload;\n    },\n    setAddCartItemError: (state, action) => {\n      state.addCartItemError = action.payload;\n    },\n    setIsDeletingCartItem: (state, action) => {\n      state.isDeletingCartItem = action.payload;\n    },\n    setDeleteCartItemError: (state, action) => {\n      state.deleteCartItemError = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setCartList,\n  setIsGettingCartList,\n  setGetCartListError,\n  setIsAddingCartItem,\n  setAddCartItemError,\n  setIsDeletingCartItem,\n  setDeleteCartItemError\n} = cartSlice.actions;\n\n// redux thunk function\nexport const getCartList = () => (dispatch) => {\n  console.log('thunk getCartList')\n  dispatch(setIsGettingCartList(true));\n  getCartListAPI().then((json) => {\n    if (json.ok === 0) {\n      dispatch(setCartList([]))\n      dispatch(setGetCartListError(json.errorMessage));\n      dispatch(setIsGettingCartList(false));\n      return;\n    }\n    dispatch(setCartList(json.data.cart_items))\n    dispatch(setIsGettingCartList(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n};\nexport const addCartItem = (id) => async (dispatch) => {\n  dispatch(setIsAddingCartItem(true));\n  await addCartItemAPI(id).then((json) => {\n    if (json.ok === 0) {\n      dispatch(setAddCartItemError(json.errorMessage));\n      dispatch(setIsAddingCartItem(false));\n      return;\n    }\n    dispatch(setAddCartItemError(null));\n    dispatch(setIsAddingCartItem(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n  dispatch(getCartList());\n};\nexport const deleteCartItem = (id) => async (dispatch) => {\n  dispatch(setIsDeletingCartItem(true));\n  await deleteCartItemAPI(id).then((json) => {\n    if (json.ok === 0) {\n      dispatch(setDeleteCartItemError(json.errorMessage));\n      dispatch(setIsDeletingCartItem(false));\n      return;\n    }\n    dispatch(setDeleteCartItemError(null));\n    dispatch(setIsDeletingCartItem(false));\n  }).catch(err => {\n    console.log('err: ', err)\n  });\n  dispatch(getCartList());\n};\n// selector\nexport const selectCartList = (store) => store.cart.cartList;\n\nexport default cartSlice.reducer;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  loginAPI,\n  registerAPI,\n  getMeAPI,\n  updateMyInfoAPI,\n  updateMyPasswordAPI,\n  updateUserAuthAPI,\n} from '../../webAPI/userAPI';\nimport { getCartList, setCartList } from './cartReducer';\nimport { setAuthToken } from '../../utils';\n\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    user: null,\n    // 初始值設為 null 避免 render header 時因為還在確認使用者身分而跳字\n    isGettingUser: null,\n    errorMessage: null,\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n    },\n    setIsGettingUser(state, action) {\n      state.isGettingUser = action.payload;\n    },\n    setUserErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setUser,\n  setIsGettingUser,\n  setUserErrorMessage,\n} = userSlice.actions;\n\n// redux thunk function\nexport const getMe = () => async (dispatch, getState) => {\n  const { isGettingUser } = getState();\n  if (!isGettingUser) {\n    // start\n    dispatch(setIsGettingUser(true));\n  }\n  await getMeAPI().then((json) => {\n    if (json.ok === 0) {\n      dispatch(setUser(null));\n      dispatch(setUserErrorMessage(json.errorMessage));\n      // finish\n      return dispatch(setIsGettingUser(false));\n    }\n    dispatch(getCartList());\n    dispatch(setUser(json.data));\n  });\n  // finish\n  return dispatch(setIsGettingUser(false));\n};\n\nexport const login = (email, password) => (dispatch) => {\n  if (!email || !password) {\n    return dispatch(setUserErrorMessage('missing field'));\n  }\n  // start\n  dispatch(setIsGettingUser(true));\n  return loginAPI(email, password).then((json) => {\n    if (json.ok === 1) {\n      //dispatch(setUserErrorMessage(json.errorMessage));\n      // finish\n      //return dispatch(setIsGettingUser(false));\n      setAuthToken(json.token);\n    }\n    return json;\n  });\n};\nexport const register = (email, password, nickname) => (dispatch) => {\n  if (!email || !password || !nickname) {\n    return dispatch(setUserErrorMessage('missing field'));\n  }\n  return registerAPI(email, password, nickname).then((json) => {\n    if (json.ok === 1) {\n      // finish\n      setAuthToken(json.token);\n      //return dispatch(getMe());\n    }\n    //dispatch(setUserErrorMessage(json.errorMessage));\n    // return dispatch(setIsGettingUser(false));\n    return json;\n  });\n};\nexport const logout = () => (dispatch) => {\n  setAuthToken('');\n  dispatch(setUser(null));\n  dispatch(setCartList([]));\n};\n\nexport const updateMyInfo = (nickname) => (dispatch) => {\n  return updateMyInfoAPI(nickname).then((res) => {\n    return res;\n  });\n};\n\nexport const updateMyPassword = (oldPassword, newPassword) => (dispatch) => {\n  // 前端已完成確認密碼\n  return updateMyPasswordAPI(oldPassword, newPassword).then((res) => {\n    return res;\n  });\n};\n\nexport const updateUserAuth = (id, email, nickname, authType) => (dispatch) => {\n  updateUserAuthAPI(id, email, nickname, authType).then((res) => {\n    if (res.ok === 0) {\n      return dispatch(setUserErrorMessage(res.errorMessage));\n    }\n  });\n};\n\n// selector\nexport const selectUser = (store) => store.user.user;\nexport const selectUserErrorMessage = (store) => store.user.errorMessage;\n\nexport default userSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/LOGO.07bbf93b.png\";","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { Badge, Button, Menu, Drawer, Grid, Input } from 'antd';\nimport { MEDIA_QUERY_TABLET } from '../../constants/breakpoint';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout, selectUser } from '../../redux/reducers/userReducer';\nimport { selectCartList } from '../../redux/reducers/cartReducer';\nimport { ShoppingCartOutlined } from '@ant-design/icons';\nimport LOGO from '../../img/LOGO.png';\n\nconst { useBreakpoint } = Grid;\nconst { Search } = Input;\n\nconst StyledSearch = styled(Search)`\n  width: 50%;\n  padding-left: 24px;\n  ${MEDIA_QUERY_TABLET} {\n    width: 150px;\n    padding: initial;\n  }\n`;\n\nconst StyledMenu = styled(Menu)`\n  font-size: 16px;\n  background: transparent;\n  border: none;\n  display: block;\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    align-items: center;\n  }\n`;\nconst HeaderContainer = styled.div`\n  background: white;\n  color: ${(props) => props.theme.colors.primary.text};\n  padding: 5px 15px;\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: sticky;\n  z-index: 9;\n  top: 0;\n`;\nconst Logo = styled(Link)`\n  width: 150px;\n  text-align: center;\n  & > img {\n    height: 52px;\n  }\n`;\nconst NavContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1;\n  }\n`;\n// RWD 隱藏切換\nconst NavToggleGroup = styled.div`\n  display: none;\n  ${MEDIA_QUERY_TABLET} {\n    display: block;\n  }\n`;\nconst NavRightPart = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst NavToggler = styled(Button)`\n  height: 32px;\n  padding: 6px;\n  display: inline-block;\n  background: none;\n  margin-left: 30px;\n  ${MEDIA_QUERY_TABLET} {\n    display: none;\n  }\n`;\nconst NavTogglerBody = styled.div`\n  display: block;\n  width: 20px;\n  height: 2px;\n  background: ${(props) => props.theme.colors.primary.light};\n  position: relative;\n  ::after,\n  ::before {\n    content: attr(x);\n    width: 20px;\n    position: absolute;\n    top: -6px;\n    left: 0;\n    height: 2px;\n    background: ${(props) => props.theme.colors.primary.light};\n  }\n  ::after {\n    top: auto;\n    bottom: -6px;\n  }\n`;\nconst CartIcon = styled(ShoppingCartOutlined)`\n  color: ${(props) => props.theme.colors.primary.text};\n  font-size: 24px;\n  :hover {\n    color: ${(props) => props.theme.colors.primary.light};\n  }\n`;\n\nconst LeftMenu = ({\n  searchValue,\n  setSearchValue,\n  onSearch,\n  handleClose,\n  currentKey,\n}) => {\n  const { md } = useBreakpoint();\n  return (\n    <StyledMenu\n      mode={md ? 'horizontal' : 'inline'}\n      onClick={handleClose}\n      selectedKeys={currentKey}\n    >\n      <StyledSearch\n        value={searchValue}\n        onChange={(e) => setSearchValue(e.value)}\n        placeholder=\"搜尋課程\"\n        onSearch={onSearch}\n      />\n\n      <Menu.Item key=\"courses\">\n        <Link to=\"/courses\">課程列表</Link>\n      </Menu.Item>\n    </StyledMenu>\n  );\n};\n\nconst RightMenu = ({ user, handleLogout, handleClose, currentKey }) => {\n  const { md } = useBreakpoint();\n  return (\n    <StyledMenu\n      mode={md ? 'horizontal' : 'inline'}\n      onClick={handleClose}\n      selectedKeys={currentKey}\n    >\n      {user && (\n        <>\n          {user.authTypeId === 1 && (\n            <Menu.Item key=\"teacher-apply\">\n              <Link to=\"/teacher-apply\">申請開課</Link>\n            </Menu.Item>\n          )}\n          <Menu.Item key=\"my-course\">\n            <Link to=\"/my-course\">我的課程</Link>\n          </Menu.Item>\n          <Menu.Item key=\"myAccount\">\n            <Link to=\"/me\">帳號設定</Link>\n          </Menu.Item>\n          {user.authTypeId === 2 && (\n            <Menu.Item key=\"teacher\">\n              <Link to=\"/teacher\">老師後台</Link>\n            </Menu.Item>\n          )}\n          {user.authTypeId === 3 && (\n            <Menu.Item key=\"console\">\n              <Link to=\"/console\">管理後台</Link>\n            </Menu.Item>\n          )}\n          <Menu.Item key=\"logout\" onClick={handleLogout}>\n            <Link to=\"/\">登出</Link>\n          </Menu.Item>\n        </>\n      )}\n      {!user && (\n        <>\n          <Menu.Item key=\"register\">\n            <Link to=\"/register\">註冊</Link>\n          </Menu.Item>\n          <Menu.Item key=\"login\">\n            <Link to=\"/login\">登入</Link>\n          </Menu.Item>\n        </>\n      )}\n    </StyledMenu>\n  );\n};\n\nfunction getCurrentKey(pathname) {\n  if (pathname.indexOf('/courses') === 0) return 'courses';\n  if (pathname.indexOf('/teacher-apply') === 0) return 'teacher-apply';\n  if (pathname.indexOf('/my-course') === 0) return 'my-course';\n  if (pathname.indexOf('/me') === 0) return 'myAccount';\n  if (pathname.indexOf('/teacher') === 0) return 'teacher';\n  if (pathname.indexOf('/console') === 0) return 'console';\n  if (pathname.indexOf('/register') === 0) return 'register';\n  if (pathname.indexOf('/login') === 0) return 'login';\n  return 'index';\n}\n\nexport default function Header() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const pathname = location.pathname;\n  const cartList = useSelector(selectCartList);\n  const user = useSelector(selectUser);\n  const [searchValue, setSearchValue] = useState('');\n  const [currentKey, setCurrentKey] = useState('');\n\n  useEffect(() => {\n    //console.log('getKey');\n    setCurrentKey(getCurrentKey(pathname));\n  }, [pathname]);\n\n  const onSearch = (value) => {\n    if (value) {\n      setSearchValue('');\n      history.push(`/courses?keyword=${value}`);\n    }\n  };\n\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n\n  const [state, setState] = useState({ visible: false });\n\n  const handleClick = () => {\n    setState({\n      visible: true,\n    });\n  };\n  const handleClose = () => {\n    setState({\n      visible: false,\n    });\n  };\n\n  return (\n    <HeaderContainer>\n      <Logo to=\"/\">\n        <img src={LOGO} alt=\"img not found\" />\n      </Logo>\n      <NavContainer>\n        <NavToggleGroup>\n          <LeftMenu\n            searchValue={searchValue}\n            onSearch={onSearch}\n            setSearchValue={setSearchValue}\n            currentKey={currentKey}\n          />\n        </NavToggleGroup>\n        <NavRightPart>\n          <Badge count={cartList.length} offset={[10]}>\n            <Link to=\"/cart\">\n              <CartIcon />\n            </Link>\n          </Badge>\n          <NavToggleGroup>\n            <RightMenu\n              user={user}\n              cartList={cartList}\n              handleLogout={handleLogout}\n              currentKey={currentKey}\n            />\n          </NavToggleGroup>\n        </NavRightPart>\n        <NavToggler onClick={handleClick}>\n          <NavTogglerBody />\n        </NavToggler>\n        <Drawer\n          title=\"GaGiO\"\n          placement=\"top\"\n          closable={false}\n          onClose={handleClose}\n          visible={state.visible}\n        >\n          <LeftMenu\n            searchValue={searchValue}\n            onSearch={onSearch}\n            setSearchValue={setSearchValue}\n            handleClose={handleClose}\n            currentKey={currentKey}\n          />\n          <RightMenu\n            user={user}\n            cartList={cartList}\n            handleLogout={handleLogout}\n            handleClose={handleClose}\n            currentKey={currentKey}\n          />\n        </Drawer>\n      </NavContainer>\n    </HeaderContainer>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Row, Col } from 'antd';\nimport {\n  FacebookFilled,\n  TwitterSquareFilled,\n  InstagramFilled,\n  GithubOutlined,\n} from '@ant-design/icons';\n\nconst FooterContainer = styled.div`\n  text-align: center;\n  padding: 12px 24px;\n  background: ${(props) => props.theme.colors.grey};\n  color: ${(props) => props.theme.colors.primary.text};\n`;\nconst MediaCol = styled(Col)`\n  display: flex;\n  flex-direction: column;\n`;\nconst MediaWrapper = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & span {\n    font-size: 24px;\n    transition: all 0.5s;\n    :hover {\n      cursor: pointer;\n      font-size: 36px;\n    }\n  }\n`;\n\nexport default function Footer() {\n  //const themeContext = useContext(ThemeContext);\n\n  return (\n    <FooterContainer>\n      <Row gutter={[0, { sm: 24, md: 0 }]}>\n        <Col xs={12} md={6}>\n          <h3>\n            <strong>關於我們</strong>\n          </h3>\n          <div>加入我們</div>\n          <div>服務條款</div>\n        </Col>\n        <MediaCol xs={12} md={6}>\n          <h3>\n            <strong>追蹤動態</strong>\n          </h3>\n          <MediaWrapper>\n            <FacebookFilled />\n            <TwitterSquareFilled />\n            <InstagramFilled />\n            <a\n              href=\"https://github.com/ahwei777/GaGiO-frontend\"\n              style={{ color: 'black' }}\n            >\n              <GithubOutlined />\n            </a>\n          </MediaWrapper>\n        </MediaCol>\n        <Col\n          xs={24}\n          md={12}\n          style={{\n            fontSize: 24,\n          }}\n        >\n          <div>GaGiO © All Rights Reserved.</div>\n          {/* credits */}\n          <div\n            style={{\n              fontSize: 12,\n            }}\n          >\n            <a href=\"https://www.freepik.com/vectors/technology\">\n              Technology vector created by vectorjuice - www.freepik.com\n            </a>\n            <div>\n              Icons made by{' '}\n              <a href=\"https://www.freepik.com\" title=\"Freepik\">\n                Freepik\n              </a>{' '}\n              from{' '}\n              <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n                www.flaticon.com\n              </a>\n            </div>\n          </div>\n\n          {/* credits */}\n        </Col>\n      </Row>\n    </FooterContainer>\n  );\n}\n","import React from 'react';\nimport { Card, Avatar, Spin } from 'antd';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { toCurrency } from '../../utils';\nimport LazyLoad from 'react-lazyload';\n\nconst { Meta } = Card;\nconst CardWrapper = styled.div`\n  border: ${(props) => props.theme.colors.primary.main} 1px solid;\n  border-bottom: ${(props) => props.theme.colors.primary.main} 5px solid;\n  :hover {\n    opacity: 0.7;\n  }\n`;\nconst LoadingBackground = styled.div`\n  background-color: lightgray;\n  // padding-top percentage is based on the width of the element.\n  padding-top: 75%;\n  position: relative;\n`;\nconst StyledImg = styled.img`\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  display: block;\n  width: 100%;\n`;\nconst TeacherLink = styled(Link)`\n  position: absolute;\n  left: 8%;\n  top: 8%;\n  transition: all 0.5s;\n  :hover {\n    transform: scale(1.3);\n  }\n`;\nconst Price = styled.div`\n  font-size: 24px;\n  font-weight: bold;\n  text-align: right;\n  color: ${(props) => props.theme.colors.primary.main};\n`;\n\nexport default function CourseCard({ course, isBought }) {\n  return (\n    <>\n      <Link to={`/courses/${course.id}`}>\n        <CardWrapper>\n          <Card\n            cover={\n              <LoadingBackground>\n                {/* 因上層 padding-top 排擠，須修正定位以讓 lazyload 正確偵測該元素是否進入 viewport */}\n                <LazyLoad\n                  style={{ position: 'absolute', top: '0px', width: '100%' }}\n                  debounce={500}\n                  offset={100}\n                  resize={true}\n                  once\n                >\n                  <StyledImg alt=\"unavailable\" src={course.imgUrl} />\n                </LazyLoad>\n              </LoadingBackground>\n            }\n          >\n            <Meta title={course.title} />\n            {!isBought && <Price>{toCurrency(course.price)}</Price>}\n          </Card>\n        </CardWrapper>\n      </Link>\n      {course.Teacher && (\n        <TeacherLink to={`/teacher-info/${course.TeacherId}`}>\n          <Avatar size={'large'} src={course.Teacher.avatarUrl} />\n        </TeacherLink>\n      )}\n    </>\n  );\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport {\n  getCourseListAPI,\n  getCourseAPI,\n  addCourseAPI,\n  updateCourseAPI,\n  getMyCourseListAPI,\n  getMyTeachCourseListAPI,\n  getDetailCourseAPI,\n  getUnitByUnitIdAPI,\n  updateUnitByUnitIdAPI\n} from \"../../webAPI/courseAPI\";\n\nexport const courseSlice = createSlice({\n  name: \"course\",\n  initialState: {\n    isGettingCourse: false,\n    getCourseError: null,\n    courseList: [],\n    course: null,\n    myCourseList: null,\n    myTeachCourseList: null,\n    detailCourse: null,\n    unit: null,\n  },\n  reducers: {\n    setCourseList: (state, action) => {\n      state.courseList = action.payload;\n      state.getCourseError = null;\n    },\n    setIsGettingCourse: (state, action) => {\n      state.isGettingCourse = action.payload;\n    },\n    setGetCourseError: (state, action) => {\n      state.getCourseError = action.payload;\n    },\n    setCourse: (state, action) => {\n      state.course = action.payload;\n      state.getCourseError = null;\n    },\n    setMyCourseList: (state, action) => {\n      state.myCourseList = action.payload;\n      state.getCourseError = null;\n    },\n    setMyTeachCourseList: (state, action) => {\n      state.myTeachCourseList = action.payload;\n      state.getCourseError = null;\n    },\n    setDetailCourse: (state, action) => {\n      state.detailCourse = action.payload;\n      state.getCourseError = null;\n    },\n    setUnit: (state, action) => {\n      state.unit = action.payload;\n      state.getCourseError = null;\n    },\n  },\n});\n\n// action\nexport const {\n  setIsGettingCourse,\n  setGetCourseError,\n  setCourseList,\n  setCourse,\n  setMyCourseList,\n  setMyTeachCourseList,\n  setDetailCourse,\n  setUnit\n} = courseSlice.actions;\n\n// redux thunk function\nexport const getCourseList = (params) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getCourseListAPI(params)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getCourse = (id) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getCourseAPI(id)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setCourse(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getMyCourseList = () => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getMyCourseListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setMyCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\nexport const getMyTeachCourseList = () => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getMyTeachCourseListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setMyTeachCourseList(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n\n\nexport const addCourse = ({ title, description, price, imgUrl }) => (dispatch) => {\n  return addCourseAPI(title, price, description, imgUrl)\n    .then((json) => {\n      return json\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateCourse = (courseId, {title, price, description, isPublic, unit_list, imgUrl }) => (\n  dispatch\n) => {\n  if (!courseId || !title || price < 0 || !description || isPublic === undefined || !unit_list || !imgUrl) return;\n  return updateCourseAPI(courseId, {title, price, description, isPublic, unit_list, imgUrl})\n    .then((json) => {\n      return json;\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n\nexport const getDetailCourse = (courseId) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getDetailCourseAPI(courseId)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setDetailCourse({...json.data, unit_list: JSON.parse(json.data.unit_list)}));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getUnitByUnitId = (courseId, unitId) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  getUnitByUnitIdAPI(courseId, unitId)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return;\n      }\n      // success\n      dispatch(setUnit(json.data));\n      dispatch(setIsGettingCourse(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateUnitByUnitId = (courseId, unitId, unit) => (dispatch) => {\n  dispatch(setIsGettingCourse(true));\n  return updateUnitByUnitIdAPI(courseId, unitId, unit)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetCourseError(json.errorMessage));\n        dispatch(setIsGettingCourse(false));\n        return json;\n      }\n      // success\n      dispatch(setIsGettingCourse(false));\n      return json;\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\n// selector\nexport const selectIsGettingCourse = (store) => store.course.isGettingCourse;\nexport const selectCourseList = (store) => store.course.courseList;\nexport const selectCourse = (store) => store.course.course;\nexport const selectMyCourseList = (store) => store.course.myCourseList;\nexport const selectMyTeachCourseList = (store) => store.course.myTeachCourseList;\nexport const selectDetailCourse = (store) => store.course.detailCourse;\nexport const selectUnit = (store) => store.course.unit;\n\nexport default courseSlice.reducer;\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getCourseListAPI = ({\n  keyword = '',\n  page = '',\n  limit='',\n  sort = 'id',\n  order = 'ASC',\n  getPublic = '',\n} = {}) => {\n  return fetch(\n    `${BASE_URL}/courses?_keyword=${keyword}&_sort=${sort}&_order=${order}&_page=${page}&_limit=${limit}&_public=${getPublic}`,\n    {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`,\n      },\n    }\n  ).then((res) => res.json());\n};\n\nexport const getCourseAPI = (id) =>\n  fetch(`${BASE_URL}/courses/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const addCourseAPI = (title, price, description, imgUrl) =>\n  fetch(`${BASE_URL}/courses`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      title,\n      price,\n      description,\n      imgUrl,\n    }),\n  }).then((res) => res.json());\n\n// XX\nexport const deleteCourseAPI = (id) =>\n  fetch(`${BASE_URL}/courses/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateCourseAPI = (\n  courseId,\n  { title, price, description, isPublic, unit_list, imgUrl }\n) =>\n  fetch(`${BASE_URL}/courses/${courseId}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      title,\n      price,\n      description,\n      isPublic,\n      unit_list,\n      imgUrl,\n    }),\n  }).then((res) => res.json());\n\n//XX\nexport const addUnitListAPI = (courseId) =>\n  fetch(`${BASE_URL}/unit`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({ courseId, unit_list: [] }),\n  }).then((res) => res.json());\n\n//XX\nexport const getUnitListAPI = (courseId) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\n//XX\nexport const updateUnitListAPI = (courseId, unitList) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      unit_list: unitList,\n    }),\n  }).then((res) => res.json());\n\nexport const getMyCourseListAPI = () =>\n  fetch(`${BASE_URL}/courses/bought-courses/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getMyTeachCourseListAPI = () =>\n  fetch(`${BASE_URL}/courses/teach-courses/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getDetailCourseAPI = (courseId) =>\n  fetch(`${BASE_URL}/courses/detail/${courseId}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getUnitByUnitIdAPI = (courseId, unitId) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units/${unitId}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const updateUnitByUnitIdAPI = (courseId, unitId, unit) =>\n  fetch(`${BASE_URL}/courses/${courseId}/units/${unitId}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    body: JSON.stringify({\n      unit,\n    }),\n  }).then((res) => res.json());\n","export default __webpack_public_path__ + \"static/media/carousel_1.0e1d997a.jpg\";","export default __webpack_public_path__ + \"static/media/carousel_1.28554dc6.webp\";","export default __webpack_public_path__ + \"static/media/carousel_2.06f516b6.jpg\";","export default __webpack_public_path__ + \"static/media/carousel_2.a59fa61c.webp\";","export default __webpack_public_path__ + \"static/media/carousel_3.68edf004.jpg\";","export default __webpack_public_path__ + \"static/media/carousel_3.ca64e629.webp\";","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Spin } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectCourseList,\n  selectIsGettingCourse,\n  getCourseList,\n  setCourseList,\n} from '../../redux/reducers/courseReducer';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css'; // requires a loader\nimport { Carousel } from 'react-responsive-carousel';\nimport Image from 'react-image-webp';\nimport carousel_1_jpg from '../../img/no-webp/carousel_1.jpg';\nimport carousel_1_webp from '../../img/webp/carousel_1.webp';\nimport carousel_2_jpg from '../../img/no-webp/carousel_2.jpg';\nimport carousel_2_webp from '../../img/webp/carousel_2.webp';\nimport carousel_3_jpg from '../../img/no-webp/carousel_3.jpg';\nimport carousel_3_webp from '../../img/webp/carousel_3.webp';\n\nconst PageWrapper = styled.div``;\nconst Intro = styled.div`\n  color: ${(props) => props.theme.colors.primary.main};\n  font-size: 24px;\n  font-weight: bold;\n  text-align: center;\n  padding: 12px;\n`;\n\nconst CoursesWrapper = styled.div`\n  padding: 0px 24px;\n`;\nconst TitleLatestCourse = styled.div`\n  color: ${(props) => props.theme.colors.primary.main};\n  font-size: 28px;\n  font-weight: bold;\n  text-align: left;\n  padding: 12px;\n`;\nconst LoadingWrapper = styled.div`\n  padding: 100px 0;\n  text-align: center;\n`;\n\nexport default function CourseListPage() {\n  const dispatch = useDispatch();\n  const courseList = useSelector(selectCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    // 取得最新上架課程\n    dispatch(\n      getCourseList({\n        page: 1,\n        limit: 8,\n        order: 'DESC',\n      })\n    );\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      dispatch(setCourseList([]));\n    };\n  }, [dispatch]);\n\n  return (\n    <>\n      <PageWrapper>\n        <Intro>\n          <div>不受時間與空間限制，自由享受學習與教學</div>\n        </Intro>\n        {/* Carousel */}\n        <Carousel showThumbs={false} showStatus={false} autoPlay={true} infiniteLoop={true}>\n          <div>\n            <Image alt=\"img\" src={carousel_1_jpg} webp={carousel_1_webp} />\n          </div>\n          <div>\n            <Image alt=\"img\" src={carousel_2_jpg} webp={carousel_2_webp} />\n          </div>\n          <div>\n            <Image alt=\"img\" src={carousel_3_jpg} webp={carousel_3_webp} />\n          </div>\n        </Carousel>\n        <CoursesWrapper>\n          <TitleLatestCourse>最新上架課程</TitleLatestCourse>\n          {isGettingCourseList ? (\n            <LoadingWrapper>\n              <Spin size=\"large\" />\n            </LoadingWrapper>\n          ) : courseList.length === 0 ? (\n            <Intro>查無課程</Intro>\n          ) : (\n            <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n              {courseList\n                .filter((course) => course.isPublic)\n                .map((course) => (\n                  <Col key={course.id} xs={12} md={8} lg={6}>\n                    <CourseCard course={course} />\n                  </Col>\n                ))}\n            </Row>\n          )}\n        </CoursesWrapper>\n      </PageWrapper>\n    </>\n  );\n}\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login, getMe, selectUser } from '../../redux/reducers/userReducer';\nimport { useHistory, Link } from 'react-router-dom';\n\nconst LoginBox = styled.div`\n  padding-top: 10px;\n  margin: 16px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 18px;\n`;\n/*\nconst StyledButton = styled(Button)`\n  background-color: ${(props) => props.theme.colors.primary.light};\n  transition: tranform 0.3s;\n  &:hover {\n    background-color: #ffffff;\n    color: ${(props) => props.theme.colors.primary.main};\n    border: 1px solid ${(props) => props.theme.colors.primary.main};\n  }\n  &:visited {\n    background-color: ${(props) => props.theme.colors.primary.light};\n    border: 0;\n    color: #000000;\n  }\n`;\n*/\nconst NoAccountMessage = styled(Link)`\n  font-size: 16px;\n  color: ${(props) => props.theme.colors.primary.main};\n  &:hover {\n    font-weight: bold;\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '${label} is required',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nexport default function Login() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n\n  React.useEffect(() => {\n    if (user) {\n      return history.push('/');\n    }\n  }, [user, history]);\n\n  const handleFinish = (value) => {\n    const { email, password } = value;\n    message.loading({\n      content: '登入中',\n      key: 'isLogging',\n      duration: 0,\n    });\n    dispatch(login(email, password)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '登入成功',\n          key: 'isLogging',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error({\n        content: json.errorMessage,\n        key: 'isLogging',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <LoginBox>\n      <FormTitle>登入</FormTitle>\n      <NoAccountMessage to=\"/register\">還沒有帳號?</NoAccountMessage>\n      <StyledForm\n        {...layout}\n        name=\"login\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[{ required: true, type: 'email' }]}\n        >\n          <Input placeholder=\"請輸入您註冊的電子信箱\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[{ required: true }]}\n        >\n          <Input.Password placeholder=\"請輸入您註冊的密碼\" />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\">\n            Submit\n          </Button>\n        </Form.Item>\n      </StyledForm>\n    </LoginBox>\n  );\n}\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { register, getMe, selectUser } from '../../redux/reducers/userReducer';\nimport { useHistory, Link } from 'react-router-dom';\nimport { isStrongPassword } from '../../utils';\n\nconst RegisterBox = styled.div`\n  padding-top: 10px;\n  margin: 16px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 10px;\n`;\nconst HasAccountMessage = styled(Link)`\n  font-size: 16px;\n  color: ${(props) => props.theme.colors.primary.main};\n  &:hover {\n    font-weight: bold;\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nexport default function Register() {\n  const history = useHistory();\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    if (user) {\n      history.push('/');\n    }\n  }, [user, history]);\n\n  const handleFinish = (value) => {\n    const { email, password, nickname } = value;\n    message.loading({\n      content: '註冊中',\n      key: 'isRegistering',\n      duration: 0,\n    });\n    dispatch(register(email, password, nickname)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '註冊成功',\n          key: 'isRegistering',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error({\n        content: json.errorMessage,\n        key: 'isRegistering',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <RegisterBox>\n      <FormTitle>註冊</FormTitle>\n      <HasAccountMessage to=\"/login\">已經有帳號了?</HasAccountMessage>\n      <StyledForm\n        {...layout}\n        name=\"register\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[\n            {\n              type: 'email',\n              required: true,\n            },\n          ]}\n        >\n          <Input placeholder=\"請輸入電子信箱\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Nickname\"\n          name=\"nickname\"\n          rules={[\n            {\n              required: true,\n            },\n          ]}\n        >\n          <Input placeholder=\"請輸入暱稱\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n            },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || isStrongPassword(inputValue)) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼規則不符!');\n              },\n            }),\n          ]}\n          extra=\"8～20個字，包含大寫、小寫字母和數字\"\n        >\n          <Input.Password placeholder=\"請輸入密碼\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Confirm Password\"\n          name=\"confirm\"\n          dependencies={['password']}\n          extra=\"請再次輸入密碼\"\n          rules={[\n            {\n              required: true,\n            },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || getFieldValue('password') === inputValue) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼和確認密碼不相同!');\n              },\n            }),\n          ]}\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\" size=\"large\">\n            註冊\n          </Button>\n        </Form.Item>\n      </StyledForm>\n    </RegisterBox>\n  );\n}\n","import React, {\n  useEffect,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n} from 'react';\nimport { Form, Input, Button, Modal, message } from 'antd';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport {\n  setUserErrorMessage,\n  updateMyPassword,\n  logout,\n} from '../../../redux/reducers/userReducer';\nimport { useHistory } from 'react-router';\nimport { isStrongPassword } from '../../../utils';\n\nconst BoxWrapper = styled.div`\n  text-align: center;\n`;\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n};\n\nconst UpdateForm = forwardRef(({ setModalText }, ref) => {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useImperativeHandle(ref, () => ({\n    resetForm: () => {\n      form.resetFields();\n      dispatch(setUserErrorMessage(null));\n    },\n  }));\n\n  const handleFinish = (value) => {\n    const { oldPassword, newPassword } = value;\n    message.loading({\n      content: '變更密碼中',\n      key: 'isUpdating',\n      duration: 0,\n    });\n\n    dispatch(updateMyPassword(oldPassword, newPassword)).then((json) => {\n      // 更新成功 登出\n      if (json.ok === 1) {\n        message.success({\n          content: '變更密碼成功',\n          key: 'isUpdating',\n          duration: 5,\n        });\n        setModalText('更新成功，將於三秒後登出，請使用新密碼重新登入');\n        return setTimeout(() => {\n          dispatch(logout());\n          history.push('/login');\n        }, 3000);\n      }\n      // 更新失敗,設置錯誤訊息\n      message.error({\n        content: json.errorMessage,\n        key: 'isUpdating',\n        duration: 5,\n      });\n    });\n  };\n\n  return (\n    <BoxWrapper>\n      <Form\n        form={form}\n        {...layout}\n        name=\"updatePassword\"\n        onFinish={handleFinish}\n        validateMessages={validateMessages}\n      >\n        <Form.Item\n          label=\"舊密碼\"\n          name=\"oldPassword\"\n          rules={[{ required: true }]}\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"新密碼\"\n          name=\"newPassword\"\n          rules={[\n            { required: true },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (!inputValue || isStrongPassword(inputValue)) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼規則不符!');\n              },\n            }),\n          ]}\n          extra=\"8～20個字，至少一個數字、一個大寫以及一個小寫字母\"\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"確認密碼\"\n          name=\"confirm\"\n          dependencies={['newPassword']}\n          rules={[\n            { required: true },\n            ({ getFieldValue }) => ({\n              validator(_, inputValue) {\n                if (\n                  !inputValue ||\n                  getFieldValue('newPassword') === inputValue\n                ) {\n                  return Promise.resolve();\n                }\n                return Promise.reject('密碼和確認密碼不相同!');\n              },\n            }),\n          ]}\n          extra=\"請再次輸入密碼\"\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button htmlType=\"submit\" type=\"primary\">\n            確定\n          </Button>\n        </Form.Item>\n      </Form>\n    </BoxWrapper>\n  );\n});\n\nexport default function ModalUpdatePassword({ visible, setVisible }) {\n  const ChildRef = useRef();\n  const closeModal = () => {\n    setVisible(false);\n    ChildRef.current.resetForm();\n  };\n  const [modalText, setModalText] = React.useState();\n\n  useEffect(() => {\n    setModalText(<UpdateForm setModalText={setModalText} ref={ChildRef} />);\n  }, []);\n\n  return (\n    <Modal\n      title=\"變更密碼\"\n      onCancel={closeModal}\n      afterClose={() => setUserErrorMessage(null)}\n      visible={visible}\n      footer={null}\n      closable\n    >\n      {modalText}\n    </Modal>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Button, Input, message} from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  selectUser,\n  getMe,\n  updateMyInfo,\n} from '../../../redux/reducers/userReducer';\nimport ModalUpdatePassword from './ModalUpdatePassword';\n\nconst PageWrapper = styled.div`\n  font-size: 20px;\n  text-align: center;\n  padding: 10px;\n`;\nconst InfoRow = styled(Row)`\n  margin: 30px auto;\n`;\nconst InfoTitle = styled(Col)`\n  text-align: right;\n`;\nconst InfoDetail = styled(Col)`\n  text-align: left;\n`;\nconst { Search } = Input;\n\nexport default function AccountSetting() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n\n  const handleClickUpdateNickname = (value) => {\n    if (value === user.nickname ){\n      message.warning({\n        content: '暱稱相同',\n        key: 'isUpdating',\n        duration: 5,\n      });\n      return\n    }\n    message.loading({\n      content: '變更暱稱中',\n      key: 'isUpdating',\n      duration: 0,\n    });\n\n    dispatch(updateMyInfo(value)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: '變更暱稱成功',\n          key: 'isUpdating',\n          duration: 5,\n        });\n        return dispatch(getMe());\n      }\n      message.error({\n        content: json.errorMessage,\n        key: 'isUpdating',\n        duration: 5,\n      });\n      return \n    });\n  };\n  // 變更密碼 Modal\n  const [visible, setVisible] = useState(false);\n  const showModal = () => {\n    setVisible(true);\n  };\n\n  return (\n    <PageWrapper>\n      <InfoRow>\n        <InfoTitle span={10}>Email：</InfoTitle>\n        <InfoDetail span={12}>{user.email}</InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>註冊時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.createdAt).toLocaleString()}\n        </InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>更新時間：</InfoTitle>\n        <InfoDetail span={12}>\n          {new Date(user.updatedAt).toLocaleString()}\n        </InfoDetail>\n      </InfoRow>\n      <InfoRow>\n        <InfoTitle span={10}>暱稱：</InfoTitle>\n        <InfoDetail span={8}>\n          <Search\n            defaultValue={user.nickname}\n            enterButton=\"變更暱稱\"\n            onSearch={handleClickUpdateNickname}\n          />\n        </InfoDetail>\n      </InfoRow>\n      <Button type=\"primary\" size=\"large\" danger onClick={showModal}>\n        變更密碼\n      </Button>\n      <ModalUpdatePassword visible={visible} setVisible={setVisible} />\n    </PageWrapper>\n  );\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { sendOrderAPI, getMyOrderListAPI } from \"../../webAPI/orderAPI\";\n\nexport const orderSlice = createSlice({\n  name: \"order\",\n  initialState: {\n    orderResponse: null,\n    isSendingOrder: false,\n    sendingOrderError: null,\n    orderList: null,\n  },\n  reducers: {\n    setOrderResponse: (state, action) => {\n      state.orderResponse = action.payload;\n    },\n    setIsSendingOrder: (state, action) => {\n      state.isSendingOrder = action.payload;\n    },\n    setSendingOrderError: (state, action) => {\n      state.sendingOrderError = action.payload;\n    },\n    setOrderList: (state, action) => {\n      state.orderList = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setOrderResponse,\n  setIsSendingOrder,\n  setSendingOrderError,\n  setOrderList,\n} = orderSlice.actions;\n\n// redux thunk function\nexport const sendOrder = (data) => (dispatch) => {\n  return sendOrderAPI(data)\n    .then((json) => {\n      return json\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getMyOrderList = () => (dispatch) => {\n  return getMyOrderListAPI().then((orderList) => {\n    if (orderList.ok === 0)\n      return dispatch(setSendingOrderError(orderList.errorMessage));\n    dispatch(setOrderList(orderList.data));\n  });\n};\n\n// selector\nexport const selectOrderResponse = (store) => store.order.orderResponse;\nexport const selectOrderList = (store) => store.order.orderList;\n\nexport default orderSlice.reducer;\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const sendOrderAPI = (data) => {\n  return fetch(`${BASE_URL}/orders`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  }).then((res) => res.json());\n};\n\nexport const getMyOrderListAPI = () => {\n  return fetch(`${BASE_URL}/orders/me`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  })\n    .then((res) => res.json())\n    .catch((error) => console.log(error));\n};\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Table } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  getMyOrderList,\n  selectOrderList,\n} from '../../../redux/reducers/orderReducer';\nimport { toCurrency } from '../../../utils';\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`\nconst EmptyOrderList = styled.div`\n  padding: 32px;\n  font-size: 28px;\n  text-align: center;\n`;\nconst CourseImg = styled.img`\n  max-width: 60px;\n`;\n\nexport default function AccountSetting() {\n  const dispatch = useDispatch();\n  const orderList = useSelector(selectOrderList);\n  useEffect(() => {\n    dispatch(getMyOrderList());\n  }, [dispatch]);\n\n  const columns = [\n    { title: '訂單編號', dataIndex: 'id', key: 'id' },\n    { title: '付款者姓名', dataIndex: 'name', key: 'name' },\n    { title: '付款方式', dataIndex: 'paymentType', key: 'paymentType' },\n    { title: '訂單總額', dataIndex: 'sumPrice', key: 'sumPrice' },\n    { title: '已付款', dataIndex: 'isPaid', key: 'isPaid' },\n    { title: '訂單成立時間', dataIndex: 'createdAt', key: 'createdAt' },\n  ];\n\n  const data = [];\n  if (orderList) {\n    for (let i = 0; i < orderList.length; ++i) {\n      data.push({\n        key: i,\n        id: orderList[i].id,\n        name: orderList[i].name,\n        paymentType: orderList[i].paymentType,\n        sumPrice: toCurrency(orderList[i].sumPrice),\n        isPaid: orderList[i].isPaid ? '是' : '否',\n        createdAt: new Date(orderList[i].createdAt).toLocaleString(),\n      });\n    }\n  }\n  const expandedRowRender = (row) => {\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'imgUrl',\n        key: 'imgUrl',\n        render: (imgUrl) => <CourseImg src={imgUrl} />,\n      },\n      { title: '課程名稱', dataIndex: 'title', key: 'title' },\n      { title: '目前售價', dataIndex: 'price', key: 'price' },\n      { title: '實付金額', dataIndex: 'amountPaid', key: 'amountPaid' },\n    ];\n    const data = [];\n    const selectedOrderItems = orderList[row.key].Order_items;\n    for (let i = 0; i < selectedOrderItems.length; ++i) {\n      data.push({\n        key: i,\n        imgUrl: selectedOrderItems[i].Course.imgUrl,\n        title: selectedOrderItems[i].Course.title,\n        price: toCurrency(selectedOrderItems[i].Course.price),\n        amountPaid: toCurrency(selectedOrderItems[i].amountPaid),\n      });\n    }\n    return <Table columns={columns} dataSource={data} pagination={false} />;\n  };\n\n  return (\n    <>\n      {orderList ? (\n        <PageWrapper>\n          <Table\n            className=\"components-table-demo-nested\"\n            columns={columns}\n            expandable={{ expandedRowRender }}\n            dataSource={data}\n          />\n        </PageWrapper>\n      ) : (\n        <EmptyOrderList>目前沒有訂單記錄</EmptyOrderList>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport AccountSetting from \"../pages/MePage/AccountSetting/\";\nimport OrderHistory from \"../pages/MePage/OrderHistory/\";\n\nexport default function MeRoutes() {\n  return (\n    <Switch>\n      <Route exact path={`/me`}>\n        <div></div>\n      </Route>\n      <Route path={`/me/info`}>\n        <AccountSetting />\n      </Route>\n      <Route path={`/me/orders`}>\n        <OrderHistory />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport MeRoutes from '../../routes/MeRoutes';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { UserOutlined, FileDoneOutlined } from '@ant-design/icons';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`;\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n  border-right: 0;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\nconst IconWrapper = styled.div`\n  padding: 20px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst UseIcon = styled(UserOutlined)`\n  font-size: 80px;\n  border-radius: 50%;\n  padding: 16px;\n  border: 1px dotted black;\n`;\n\nexport default function MePage() {\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    // 進入後台預設導向課程列表\n    if (location.pathname === '/me') {\n      history.push('/me/info');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <IconWrapper>\n            <UseIcon />\n          </IconWrapper>\n          <StyledMenuItem\n            key=\"1\"\n            icon={<UserOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/me/info\">個人資料</Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            key=\"2\"\n            icon={<FileDoneOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/me/orders\">訂單紀錄</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ marginLeft: '200px' }}>\n        <MeRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Spin } from 'antd';\nimport styled from 'styled-components';\n\nconst LoadingWrapper = styled.div`\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n`;\n\nfunction Loading() {\n  return (\n    <LoadingWrapper>\n      <Spin size={'large'}/>\n    </LoadingWrapper>\n  );\n}\n\nexport default Loading;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Space, Table } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getCourseList,\n  selectCourseList,\n  selectIsGettingCourse,\n} from \"../../redux/reducers/courseReducer\";\nimport Loading from \"../../components/Loading\";\nimport { toCurrency } from '../../utils'\n// import { dummyData as data } from \"./dummyData\";\n\nconst columns = [\n  {\n    title: \"Id\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"課程名稱\",\n    dataIndex: \"title\",\n    key: \"title\",\n    render: (text, record) => (\n      <Link to={`/courses/${record.id}`}>{text}</Link>\n    ),\n  },\n  {\n    title: \"目前售價\",\n    dataIndex: \"price\",\n    key: \"price\",\n  },\n  {\n    title: \"是否公開\",\n    dataIndex: \"isPublic\",\n    key: \"isPublic\",\n  },\n  {\n    title: \"更新於\",\n    dataIndex: \"updatedAt\",\n    key: \"updatedAt\",\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/classroom/${record.id}`}>預覽上課頁</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function CoursesTable() {\n  const dispatch = useDispatch();\n  const courses = useSelector(selectCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n\n  useEffect(() => {\n    dispatch(getCourseList({getPublic: 'all'}));\n  }, [dispatch]);\n\n  return (\n    <>\n      {isGettingCourseList && <Loading />}\n      {!isGettingCourseList && (\n        <Table\n          columns={columns}\n          dataSource={\n            courses &&\n            courses.map((item) => ({\n              ...item,\n              key: item.id,\n              price: toCurrency(item.price),\n              isPublic: item.isPublic ? \"是\" : \"否\",\n              updatedAt: item.updatedAt.slice(0, 10),\n            }))\n          }\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Layout, Breadcrumb } from \"antd\";\nimport CoursesTable from \"./CoursesTable.js\";\n\nconst { Content } = Layout;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport default function ConsoleCoursesPage() {\n  return (\n    <>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: \"16px 0\" }}>\n          <Breadcrumb.Item>課程列表</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <Content>\n        <CoursesTable />\n      </Content>\n    </>\n  );\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getMemberListAPI = () => {\n  return fetch(`${BASE_URL}/users`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const getMemberAPI = (id) => {\n  return fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      \"content-type\": \"application/json\",\n    },\n  }).then((res) => res.json());\n};\n\nexport const updateUserInfoAPI = (id, email, nickname, AuthTypeId) =>\n  fetch(`${BASE_URL}/users/${id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify({\n      email,\n      nickname,\n      AuthTypeId,\n    }),\n  })\n    .then((res) => res.json())","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport {\n  getMemberListAPI,\n  getMemberAPI,\n  updateUserInfoAPI,\n} from \"../../webAPI/adminAPI\";\n\nexport const memberSlice = createSlice({\n  name: \"member\",\n  initialState: {\n    memberList: [],\n    member: null,\n    errorMessage: \"\",\n    isGettingMemberList: false,\n    isGettingMember: false,\n  },\n  reducers: {\n    setMemberList: (state, action) => {\n      state.memberList = action.payload;\n    },\n    setMember: (state, action) => {\n      state.member = action.payload;\n    },\n    setErrorMessage: (state, action) => {\n      state.errorMessage = action.payload;\n    },\n    setIsGettingMemberList: (state, action) => {\n      state.isGettingMemberList = action.payload;\n    },\n    setIsGettingMember: (state, action) => {\n      state.isGettingMember = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setMemberList,\n  setMember,\n  setErrorMessage,\n  setIsGettingMemberList,\n  setIsGettingMember,\n} = memberSlice.actions;\n\n// redux thunk function\n\nexport const getMemberList = () => (dispatch) => {\n  dispatch(setMemberList(null));\n  dispatch(setIsGettingMemberList(true));\n  dispatch(setErrorMessage(\"\"));\n\n  getMemberListAPI()\n    .then((res) => {\n      if (!res || res.ok === 0) {\n        dispatch(setErrorMessage(res ? res.errorMessage : \"something wrong\"));\n        dispatch(setIsGettingMemberList(false));\n        return;\n      }\n      // success\n      dispatch(setMemberList(res.data));\n      dispatch(setIsGettingMemberList(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const getMember = (id) => (dispatch) => {\n  dispatch(setMember(null));\n  dispatch(setIsGettingMember(true));\n  dispatch(setErrorMessage(\"\"));\n\n  getMemberAPI(id)\n    .then((res) => {\n      if (!res || res.ok === 0) {\n        dispatch(setErrorMessage(res ? res.errorMessage : \"something wrong\"));\n        dispatch(setIsGettingMember(false));\n        return;\n      }\n      // success\n      dispatch(setMember(res.data));\n      dispatch(setIsGettingMember(false));\n    })\n    .catch((err) => {\n      console.log(\"err: \", err);\n    });\n};\n\nexport const updateMemberAuth = (id, authType) => (dispatch) => {\n  dispatch(setErrorMessage(\"\"));\n  updateUserInfoAPI(id, null, null, authType).then((res) => {\n    if (res.ok === 0) return dispatch(setErrorMessage(res.errorMessage));\n  });\n};\n\n// selector\nexport const selectMember = (store) => store.member.member;\nexport const selectMemberList = (store) => store.member.memberList;\nexport const selectIsGettingMemberList = (store) =>\n  store.member.isGettingMemberList;\nexport const selectIsGettingMember = (store) => store.member.isGettingMember;\n\nexport default memberSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getMemberList,\n  selectMemberList,\n  selectIsGettingMemberList,\n} from \"../../redux/reducers/memberReducer\";\nimport { Space, Table } from \"antd\";\nimport Loading from \"../../components/Loading\";\nimport { translateAuth } from \"../../utils\";\n\nexport const columns = [\n  {\n    title: \"Id\",\n    dataIndex: \"id\",\n    key: \"id\",\n  },\n  {\n    title: \"信箱\",\n    dataIndex: \"email\",\n    key: \"email\",\n  },\n  {\n    title: \"會員身份\",\n    dataIndex: \"auth\",\n    key: \"auth\",\n  },\n  {\n    title: \"更新於\",\n    dataIndex: \"updatedAt\",\n    key: \"updatedAt\",\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/console/members/${record.id}`}>more</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function MembersTable() {\n  const dispatch = useDispatch();\n  const members = useSelector(selectMemberList);\n  const isGettingMemberList = useSelector(selectIsGettingMemberList);\n\n  useEffect(() => {\n    dispatch(getMemberList());\n    //return () => {};\n  }, [dispatch]);\n\n  return (\n    <>\n      {isGettingMemberList && <Loading />}\n      {!isGettingMemberList && (\n        <Table\n          columns={columns}\n          dataSource={\n            members &&\n            members.map((item) => ({\n              ...item,\n              key: item.id,\n              updatedAt: new Date(item.updatedAt).toLocaleString(),\n              auth: translateAuth(item.authTypeId),\n            }))\n          }\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Layout, Breadcrumb } from \"antd\";\nimport MembersTable from \"./MembersTable.js\";\n\nconst { Content } = Layout;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst TableContainer = styled(Content)`\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nexport default function ConsoleMembersPage() {\n  return (\n    <>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: \"16px 0\" }}>\n          <Breadcrumb.Item>會員列表</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <TableContainer>\n        <MembersTable />\n      </TableContainer>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getMember,\n  selectMember,\n  updateMemberAuth,\n  selectIsGettingMember,\n} from '../../redux/reducers/memberReducer';\nimport styled from 'styled-components';\nimport {\n  Layout,\n  Breadcrumb,\n  Button,\n  Typography,\n  Divider,\n  Select,\n  Space,\n  Table,\n  Tag,\n  Descriptions,\n} from 'antd';\nimport Loading from '../../components/Loading';\nimport { translateAuth } from '../../utils';\n\nconst { Content } = Layout;\nconst { Option } = Select;\nconst { Title, Text } = Typography;\n\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst MemberContent = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst columns = [\n  {\n    title: '課程 ID',\n    dataIndex: 'CourseId',\n    key: 'CourseId',\n    render: (text) => text,\n  },\n  {\n    title: '課程名稱',\n    key: 'Course',\n    dataIndex: 'Course',\n    render: (Course) => Course.CourseTitle,\n  },\n];\n\nconst AuthSelection = ({ selectedUserId, handleChange }) => {\n  const authTypeIdList = [1, 2, 3];\n  return (\n    <>\n      <Select\n        style={{ width: 120 }}\n        onChange={handleChange}\n        defaultValue={translateAuth(selectedUserId)}\n      >\n        {authTypeIdList.map((authTypeId) => (\n          <Option key={authTypeId} value={authTypeId}>\n            {translateAuth(authTypeId)}\n          </Option>\n        ))}\n      </Select>\n    </>\n  );\n};\n\nexport default function MemberDetailPage() {\n  const { id } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [localAuthTypeId, setLocalAuthTypeId] = useState(0);\n  const member = useSelector(selectMember);\n  const isGettingMember = useSelector(selectIsGettingMember);\n\n  useEffect(() => {\n    dispatch(getMember(id));\n  }, [dispatch, id]);\n\n  function handleChange(value) {\n    setLocalAuthTypeId(value);\n  }\n\n  const handleSave = () => {\n    if (localAuthTypeId === 0 || localAuthTypeId === member.authTypeId) return;\n    dispatch(updateMemberAuth(id, localAuthTypeId));\n    history.push(`/console/members`); // 把頁面導向會員列表\n  };\n\n  return (\n    <>\n      {isGettingMember && <Loading />}\n      {!isGettingMember && member && (\n        <>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/console/members\">會員列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>會員資料 (ID: {member.id})</Breadcrumb.Item>\n            </Breadcrumb>\n            <Space size=\"large\">\n              <AuthSelection\n                handleChange={handleChange}\n                selectedUserId={member.authTypeId}\n              />\n              <Button type=\"primary\" onClick={handleSave}>\n                變更身分\n              </Button>\n            </Space>\n          </InfoHeader>\n          <MemberContent>\n            <Descriptions title=\"會員資料\" bordered>\n              <Descriptions.Item label=\"會員 ID\">{member.id}</Descriptions.Item>\n              <Descriptions.Item label=\"目前身份\" span={2}>\n                {translateAuth(member.authTypeId)}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"會員信箱\">\n                {member.email}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"會員暱稱\" span={2}>\n                {member.nickname}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"註冊日期\">\n                {new Date(member.createdAt).toLocaleString()}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"更新日期\" span={2}>\n                {new Date(member.updatedAt).toLocaleString()}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"購買課程清單\" span={3}>\n                {member.courseList.length > 0 ? (\n                  <Table\n                    columns={columns}\n                    dataSource={member.courseList.map((item) => ({\n                      ...item,\n                      key: item.CourseId,\n                    }))}\n                  />\n                ): (\n                  <div>尚未購買任何課程</div>\n                )}\n              </Descriptions.Item>\n            </Descriptions>\n          </MemberContent>\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport ConsoleCoursesPage from \"../pages/ConsoleCoursesPage\";\nimport ConsoleMembersPage from \"../pages//ConsoleMembersPage\";\nimport MemberDetailPage from \"../pages//MemberDetailPage\";\n\nexport default function ConsoleRoutes() {\n  return (\n    <Switch>\n      <Route exact path=\"/console/courses\">\n        <ConsoleCoursesPage />\n      </Route>\n      <Route exact path=\"/console/members\">\n        <ConsoleMembersPage />\n      </Route>\n      <Route exact path=\"/console/members/:id\">\n        <MemberDetailPage />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Layout, Menu, Breadcrumb, Button } from 'antd';\nimport { BookOutlined, ContactsOutlined } from '@ant-design/icons';\nimport ConsoleRoutes from '../../routes/ConsoleRoutes';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n  border-right: 0;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\n\nexport default function ConsolePage() {\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    // 進入後台預設導向課程列表\n    if (location.pathname === '/console') {\n      history.push('/console/courses');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <StyledMenuItem key=\"1\" icon={<BookOutlined style={{fontSize: 20}}/>}>\n            <Link to=\"/console/courses\">課程列表</Link>\n          </StyledMenuItem>\n          <StyledMenuItem key=\"2\" icon={<ContactsOutlined style={{fontSize: 20}}/>}>\n            <Link to=\"/console/members\">會員列表</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ padding: '0 24px', marginLeft: '200px' }}>\n        <ConsoleRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  selectCartList,\n  deleteCartItem,\n} from '../../redux/reducers/cartReducer';\nimport { Table, Button } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { toCurrency } from '../../utils';\nimport {\n  MEDIA_QUERY_MOBILE_M,\n  MEDIA_QUERY_TABLET,\n} from '../../constants/breakpoint';\n\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst LeftContainer = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1 1 0%;\n  }\n`;\nconst RightContainerOuter = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 0 1 350px;\n    margin-left: 30px;\n  }\n`;\nconst RightContainerInner = styled.div`\n  padding: 24px 12px;\n  background: ${(props) => props.theme.colors.secondary.light};\n  ${MEDIA_QUERY_TABLET} {\n    width: 350px;\n    position: fixed;\n    right: 30px;\n  }\n`;\n\nexport default function CartListPage({ padding }) {\n  const dispatch = useDispatch();\n  const cartList = useSelector(selectCartList);\n  let sumPrice = 0;\n  if (cartList.length > 0) {\n    cartList.forEach((el) => {\n      sumPrice += el.Course.price;\n    });\n  }\n\n  const handleDeleteCartItem = (id) => {\n    dispatch(deleteCartItem(id));\n  };\n\n  // 加入 react 需要的 key\n  let data = [];\n  for (let i = 0; i < cartList.length; i += 1) {\n    data.push({\n      key: cartList[i].CourseId,\n      id: cartList[i].CourseId,\n      title: cartList[i].Course.title,\n      price: toCurrency(cartList[i].Course.price),\n    });\n  }\n\n  const columns = [\n    { title: '課程ID', dataIndex: ['id'], key: 'id' },\n    {\n      title: '課程名稱',\n      dataIndex: ['title'],\n      key: 'title',\n      render: (text, record) => (\n        <Link to={`courseInfo/${record.id}`}>{text}</Link>\n      ),\n    },\n    { title: '售價', dataIndex: ['price'], key: 'price' },\n    {\n      title: '動作',\n      dataIndex: '',\n      key: 'x',\n      render: (data) => (\n        <>\n          <Button>\n            <Link to={`/checkout/${data.id}`}>購買單堂</Link>\n          </Button>{' '}\n          <Button\n            danger\n            icon={<DeleteOutlined />}\n            onClick={() => handleDeleteCartItem(data.id)}\n          >\n            刪除\n          </Button>\n        </>\n      ),\n    },\n  ];\n\n  return (\n    <PageWrapper padding={padding}>\n      <LeftContainer>\n        {cartList.length === 0 && (\n          <center>\n            <h1>購物車是空的，看看課程？</h1>\n            <h1>\n              <Link to=\"/\">探索課程</Link>\n            </h1>\n          </center>\n        )}\n        {cartList.length > 0 && (\n          <>\n            <h1>購物車清單</h1>\n            <h3>共有{cartList.length}堂課</h3>\n            <hr />\n            <Table\n              columns={columns}\n              dataSource={data}\n              pagination={{ pageSize: 5 }}\n            />\n          </>\n        )}\n      </LeftContainer>\n      <RightContainerOuter>\n        <RightContainerInner>\n          <h1>\n            <strong>購物車明細</strong>\n          </h1>\n          <hr />\n          <h2 align=\"right\">小計 {toCurrency(sumPrice)}</h2>\n          <br></br>\n          {cartList.length > 0 && (\n            <Button size=\"large\" block>\n              <Link to={`/checkout`}>前往結帳</Link>\n            </Button>\n          )}\n        </RightContainerInner>\n      </RightContainerOuter>\n    </PageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { selectCartList } from '../../redux/reducers/cartReducer';\nimport {\n  selectCourse,\n  getCourse,\n  setCourse,\n} from '../../redux/reducers/courseReducer';\nimport { sendOrder } from '../../redux/reducers/orderReducer';\nimport { getMe } from '../../redux/reducers/userReducer';\nimport {\n  Typography,\n  Table,\n  Button,\n  Form,\n  Input,\n  Select,\n  message,\n} from 'antd';\nimport { toCurrency } from '../../utils';\nimport {\n  MEDIA_QUERY_MOBILE_M,\n  MEDIA_QUERY_TABLET,\n} from '../../constants/breakpoint';\n\nconst { Title, Paragraph } = Typography;\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst FormWrapper = styled.div`\n  ${MEDIA_QUERY_MOBILE_M} {\n    display: block;\n    position: static;\n  }\n  ${MEDIA_QUERY_TABLET} {\n    display: flex;\n    position: relative;\n  }\n`;\nconst LeftContainer = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 1 1 0%;\n  }\n`;\nconst RightContainerOuter = styled.div`\n  ${MEDIA_QUERY_TABLET} {\n    flex: 0 1 350px;\n    margin-left: 30px;\n  }\n`;\nconst RightContainerInner = styled.div`\n  padding: 24px 12px;\n  background: ${(props) => props.theme.colors.secondary.light};\n  ${MEDIA_QUERY_TABLET} {\n    width: 350px;\n    position: fixed;\n    right: 30px;\n  }\n`;\n\nconst { Option } = Select;\nconst formLayout = 'vertical';\n\nconst formItemLayout = {\n  labelCol: {\n    span: 24,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst buttonItemLayout = {\n  wrapperCol: {\n    span: 0,\n    offset: 0,\n  },\n};\nconst validateMessages = {\n  required: '${label} is required',\n};\n\nexport default function CheckoutPage({ padding }) {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const cartList = useSelector(selectCartList);\n  const course = useSelector(selectCourse);\n  const [form] = Form.useForm();\n  let sumPrice = 0;\n  let sumCourse = 0;\n  let data = [];\n\n  useEffect(() => {\n    if (id) {\n      dispatch(getCourse(id));\n      // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n      return () => {\n        dispatch(setCourse(null));\n      };\n    }\n  }, [dispatch, id]);\n\n  // params 有帶 id => 單堂結帳\n  if (id && course) {\n    data.push({\n      key: course.id,\n      id: course.id,\n      title: course.title,\n      price: course.price,\n      priceString: toCurrency(course.price),\n    });\n    sumPrice = course.price;\n    sumCourse = 1;\n  } else if (!id && cartList.length > 0) {\n    // 多堂結帳\n    for (let i = 0; i < cartList.length; i += 1) {\n      data.push({\n        key: cartList[i].CourseId,\n        id: cartList[i].CourseId,\n        title: cartList[i].Course.title,\n        price: cartList[i].Course.price,\n        priceString: toCurrency(cartList[i].Course.price),\n      });\n      sumCourse += 1;\n    }\n    cartList.forEach((el) => {\n      sumPrice += el.Course.price;\n    });\n  }\n\n  const columns = [\n    { title: '課程ID', dataIndex: ['id'], key: 'id' },\n    {\n      title: '課程名稱',\n      dataIndex: ['title'],\n      key: 'title',\n      render: (text, record) => (\n        <Link to={`/courseInfo/${record.id}`}>{text}</Link>\n      ),\n    },\n    { title: '售價', dataIndex: ['priceString'], key: 'priceString' },\n  ];\n\n  const onFinish = (values) => {\n    message.loading({\n      content: '付款中',\n      key: 'isChecking',\n      duration: 0,\n    });\n    const orderData = {\n      ...values,\n      sumPrice: sumPrice,\n      orderCourses: data.map((el) => {\n        return {\n          CourseId: el.id,\n          amountPaid: el.price,\n        };\n      }),\n    };\n    dispatch(sendOrder(orderData)).then((json) => {\n      if (json.ok === 1) {\n        message.success({\n          content: json.message,\n          key: 'isChecking',\n          duration: 5,\n        });\n        dispatch(getMe());\n        return history.push('/my-course');\n      }\n      message.error({\n        content: json.errorMessage,\n        key: 'isChecking',\n        duration: 5,\n      });\n    });\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  return (\n    <PageWrapper padding={padding}>\n      <Form\n        {...formItemLayout}\n        layout={formLayout}\n        form={form}\n        onFinish={onFinish}\n        validateMessages={validateMessages}\n        style={{ width: '100%' }}\n      >\n        <FormWrapper>\n          <LeftContainer>\n            {sumPrice === 0 ? (\n              <>\n                <Title>歡迎加入免費課程</Title>\n                <Paragraph>\n                  您選擇的課程皆為免費課程，點擊「確認加入」後就可以開始上課囉！\n                </Paragraph>\n              </>\n            ) : (\n              <>\n                <Title level={3}>付款資訊</Title>\n                <hr/>\n                <Form.Item\n                  name=\"name\"\n                  label=\"姓名\"\n                  rules={[{ required: true }]}\n                >\n                  <Input />\n                </Form.Item>\n                <Form.Item\n                  name=\"paymentType\"\n                  label=\"付款方式\"\n                  rules={[{ required: true }]}\n                >\n                  <Select placeholder=\"請選擇付款方式\" allowClear>\n                    <Option value=\"信用卡\">信用卡</Option>\n                    <Option value=\"LINE Pay\">LINE Pay</Option>\n                  </Select>\n                </Form.Item>\n              </>\n            )}\n\n            {((!id && cartList.length > 0) || course) && (\n              <>\n                <Title level={3}>購買清單 </Title>\n                <h3>共有{sumCourse}堂課</h3>\n                <hr />\n                <Table\n                  columns={columns}\n                  dataSource={data}\n                  style={{ fontSize: '18px' }}\n                  pagination={{ pageSize: 5 }}\n                />\n              </>\n            )}\n          </LeftContainer>\n          <RightContainerOuter>\n            <RightContainerInner>\n              <Title level={3}>訂單明細</Title>\n              <hr />\n              <h2 align=\"right\">小計 {toCurrency(sumPrice)}</h2>\n              <Form.Item {...buttonItemLayout}>\n                <Button type=\"primary\" size=\"large\" htmlType=\"submit\" block>\n                  {sumPrice === 0 ? '確認加入' : '確認付款'}\n                </Button>\n              </Form.Item>\n              {sumPrice > 0 && (\n                <Form.Item {...buttonItemLayout}>\n                  <Button\n                    htmlType=\"button\"\n                    size=\"large\"\n                    onClick={onReset}\n                    block\n                  >\n                    清除資料\n                  </Button>\n                </Form.Item>\n              )}\n            </RightContainerInner>\n          </RightContainerOuter>\n        </FormWrapper>\n      </Form>\n    </PageWrapper>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col, Select, Typography } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport {\n  selectCourseList,\n  selectIsGettingCourse,\n  getCourseList,\n  setCourseList,\n} from '../../redux/reducers/courseReducer';\n\nconst { Title } = Typography;\nconst { Option } = Select;\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n`;\n\nconst SearchWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n`;\nconst SearchInfo = styled.div`\n  font-size: 20px;\n`;\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport default function CourseListPage({ padding }) {\n  const dispatch = useDispatch();\n  const query = useQuery();\n  const keyword = query.get('keyword') || '';\n  const courseList = useSelector(selectCourseList);\n  //('courseList', courseList)\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n  const [selected, setSelected] = useState('latest');\n  console.log('render CourseListPage');\n  console.log('isGettingCourseList ', isGettingCourseList);\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getCourseList({ keyword, order: 'DESC' }));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      //setSelected('latest');\n      dispatch(setCourseList([]));\n    };\n  }, [dispatch, keyword]);\n\n  const handleSelectChange = (value) => {\n    if (isGettingCourseList) return;\n    setSelected(value);\n    switch (value) {\n      case 'latest':\n        return dispatch(getCourseList({ keyword, sort: 'id', order: 'DESC' }));\n      case 'highPrice':\n        return dispatch(getCourseList({ keyword, sort: 'price', order: 'DESC' }));\n      case 'lowPrice':\n        return dispatch(getCourseList({ keyword, sort: 'price', order: 'ASC' }));\n      default:\n        return;\n    }\n  };\n\n  return (\n    <>\n      <PageWrapper padding={padding}>\n        <SearchWrapper>\n          <SearchInfo>\n            {keyword && (\n              <span>\n                關鍵字:<strong>「{keyword}」, </strong>\n              </span>\n            )}\n            <span>共有 {courseList.length} 堂課程</span>\n          </SearchInfo>\n          <div>\n            排序方式：\n            <Select value={selected} style={{ width: 180 }} onChange={handleSelectChange}>\n              <Option value=\"latest\">最新上架(預設)</Option>\n              <Option value=\"highPrice\">價格高 → 低</Option>\n              <Option value=\"lowPrice\">價格低 → 高</Option>\n            </Select>\n          </div>\n        </SearchWrapper>\n        {isGettingCourseList ? (\n          <Loading />\n        ) : courseList.length === 0 ? (\n          <Title level={3}>\n            <center>查無課程</center>\n          </Title>\n        ) : (\n          <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n            {courseList\n              .filter((course) => course.isPublic)\n              .map((course) => (\n                <Col key={course.id} xs={12} md={8} lg={6}>\n                  <CourseCard course={course}/>\n                </Col>\n              ))}\n          </Row>\n        )}\n      </PageWrapper>\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Row, Col } from 'antd';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n  selectIsGettingCourse,\n  selectMyCourseList,\n  getMyCourseList,\n  setMyCourseList,\n} from '../../redux/reducers/courseReducer';\n\nconst PageWrapper = styled.div`\n  padding: ${(props) => props.padding}px;\n`;\n\nexport default function MyCourseListPage({ padding }) {\n  const myCourseList = useSelector(selectMyCourseList);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const dispatch = useDispatch();\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getMyCourseList());\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {\n      dispatch(setMyCourseList(null));\n    };\n  }, [dispatch]);\n\n  return (\n    <PageWrapper padding={padding}>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && (\n        <>\n          {!myCourseList && (\n            <center>\n              <h1>我的課程是空的，看看課程？</h1>\n              <h1>\n                <Link to=\"/\">探索課程</Link>\n              </h1>\n            </center>\n          )}\n          {myCourseList && myCourseList.length > 0 && (\n            <Row gutter={[{ xs: 16, sm: 20, md: 24, lg: 32 }, 36]}>\n              {myCourseList.map((course) => (\n                <Col key={course.id} xs={12} md={8} lg={6}>\n                  <CourseCard course={course} isBought={true}/>\n                </Col>\n              ))}\n            </Row>\n          )}\n        </>\n      )}\n    </PageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Button, Avatar, List, Typography } from 'antd';\nimport { useHistory, useParams, Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getCourse,\n  selectCourse,\n  selectIsGettingCourse,\n} from '../../redux/reducers/courseReducer';\nimport { toCurrency } from '../../utils';\nimport Loading from '../../components/Loading';\nimport { selectCartList, addCartItem } from '../../redux/reducers/cartReducer';\nimport { selectUser } from '../../redux/reducers/userReducer';\n\nconst CourseWrapper = styled.div`\n  max-width: 760px;\n  margin: 24px auto;\n  padding: 32px;\n  background: ${(props) => props.theme.colors.white};\n  color: ${(props) => props.theme.colors.primary.text};\n  box-shadow: \n    1px 1px 1px rgba(0,0,0,0.15), \n    2px 2px 2px rgba(0,0,0,0.15), \n    4px 4px 4px rgba(0,0,0,0.15), \n    8px 8px 8px rgba(0,0,0,0.15);\n`;\nconst CourseTitle = styled.div`\n  text-align: center;\n  font-size: 42px;\n  font-weight: bold;\n`;\nconst Price = styled.div`\n  color: ${(props) => props.theme.colors.primary.main};\n  text-align: right;\n  font-size: 36px;\n  font-weight: bold;\n`;\nconst ButtonPlacer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\nconst ButtonWrapper = styled.div`\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 90px;\n`;\n\nexport default function CourseInfoPage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const user = useSelector(selectUser);\n  const course = useSelector(selectCourse);\n  const cartList = useSelector(selectCartList);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const { id } = useParams();\n  const checkIsAlreadyInCart = () => {\n    for (let i = 0; i < cartList.length; i += 1) {\n      if (cartList[i].CourseId === Number(id)) {\n        // 當前課程已在 cartList 內\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const handleClickAddToCart = () => {\n    if (!user) {\n      history.push('/cart');\n    }\n    if (!checkIsAlreadyInCart()) {\n      dispatch(addCartItem(course.id));\n    }\n  };\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getCourse(id));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    //return () => {};\n  }, [dispatch, id]);\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && !course && (\n        <center>\n          <h1>\n            <strong>無此課程或此課程未公開</strong>\n          </h1>\n        </center>\n      )}\n      {!isGettingCourse && course && (\n        <CourseWrapper>\n          <CourseTitle>{course.title}</CourseTitle>\n          <Price align=\"right\">{toCurrency(course.price)}</Price>\n\n          <ButtonPlacer>\n            {course.isPublic ? (\n              <ButtonWrapper>\n                {user && user.boughtCourses.indexOf(Number(id)) >= 0 ? (\n                  <Button type=\"primary\" size=\"large\" block>\n                    <Link to={`/classroom/${course.id}`}>開始上課</Link>\n                  </Button>\n                ) : (\n                  <>\n                    <Button type=\"primary\" size=\"large\" block>\n                      <Link to={`/checkout/${course.id}`}>立即購買</Link>\n                    </Button>\n                    {checkIsAlreadyInCart() ? (\n                      <Button type=\"primary\" size=\"large\" block danger>\n                        <Link to=\"/cart\">前進購物車</Link>\n                      </Button>\n                    ) : (\n                      <Button\n                        type=\"primary\"\n                        size=\"large\"\n                        onClick={handleClickAddToCart}\n                      >\n                        加入購物車\n                      </Button>\n                    )}\n                  </>\n                )}\n              </ButtonWrapper>\n            ) : (\n              <Button size=\"large\" disabled>\n                非公開課程\n              </Button>\n            )}\n          </ButtonPlacer>\n\n          <div>\n            <Link to={`/teacher-info/${course.Teacher.id}`}>\n              <Avatar size={64} src={course.Teacher.avatarUrl} />\n            </Link>\n          </div>\n          <br />\n          <p>\n            <strong>開課老師：</strong>\n            <div>{course.Teacher.name}</div>\n          </p>\n\n          <div>\n            <strong>課程介紹：</strong>\n          </div>\n          <br />\n          <p>{course.description}</p>\n          <div>\n            <strong>課程大綱：</strong>\n          </div>\n          <br />\n          {course.unit_title && (\n            <List\n              size=\"large\"\n              bordered\n              dataSource={course.unit_title.map((el, i) => {\n                return { number: i + 1, title: el };\n              })}\n              renderItem={(item) => (\n                <List.Item>\n                  <strong>{item.number}</strong>. {item.title}\n                </List.Item>\n              )}\n            />\n          )}\n        </CourseWrapper>\n      )}\n    </>\n  );\n}\n","import { BASE_URL } from '../constants/API_BASE_URL';\nimport { getAuthToken } from '../utils';\n\nexport const getTeacherListAPI = () =>\n  fetch(`${BASE_URL}/teachers`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const getTeacherAPI = (id) =>\n  fetch(`${BASE_URL}/teachers/${id}`, {\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n    },\n  }).then((res) => res.json());\n\nexport const applyTeacherAPI = ({ name, description, avatarUrl }) =>\n  fetch(`${BASE_URL}/teachers`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      name,\n      description,\n      avatarUrl,\n    }),\n  }).then((res) => res.json());\n\n  export const updateTeacherInfoAPI = ({ name, description, avatarUrl }) =>\n  fetch(`${BASE_URL}/teachers`, {\n    method: 'PATCH',\n    headers: {\n      Authorization: `Bearer ${getAuthToken()}`,\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      name,\n      description,\n      avatarUrl,\n    }),\n  }).then((res) => res.json());\n\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-unresolved */\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  getTeacherListAPI,\n  getTeacherAPI,\n  applyTeacherAPI,\n  updateTeacherInfoAPI\n} from '../../webAPI/teacherAPI';\n\nexport const teacherSlice = createSlice({\n  name: 'teacher',\n  initialState: {\n    teacherList: [],\n    isGettingTeacherList: false,\n    getTeacherListError: null,\n    teacher: null,\n    isGettingTeacher: false,\n    getTeacherError: null,\n  },\n  reducers: {\n    setTeacherList: (state, action) => {\n      state.teacherList = action.payload;\n      state.getTeacherListError = null;\n    },\n    setIsGettingTeacherList: (state, action) => {\n      state.isGettingTeacherList = action.payload;\n    },\n    setGetTeacherListError: (state, action) => {\n      state.getTeacherListError = action.payload;\n    },\n    setTeacher: (state, action) => {\n      state.teacher = action.payload;\n      state.getTeacherError = null;\n    },\n    setIsGettingTeacher: (state, action) => {\n      state.isGettingTeacher = action.payload;\n    },\n    setGetTeacherError: (state, action) => {\n      state.getTeacherError = action.payload;\n    },\n  },\n});\n\n// action\nexport const {\n  setTeacherList,\n  setIsGettingTeacherList,\n  setGetTeacherListError,\n  setTeacher,\n  setIsGettingTeacher,\n  setGetTeacherError,\n} = teacherSlice.actions;\n\n// redux thunk function\nexport const getTeacherList = () => (dispatch) => {\n  dispatch(setIsGettingTeacherList(true));\n  getTeacherListAPI()\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetTeacherListError(json.errorMessage));\n        dispatch(setIsGettingTeacherList(false));\n        return;\n      }\n      // success\n      dispatch(setTeacherList(json.data.teacherList));\n      dispatch(setIsGettingTeacherList(false));\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const getTeacher = (id) => (dispatch) => {\n  dispatch(setIsGettingTeacher(true));\n  getTeacherAPI(id)\n    .then((json) => {\n      if (json.ok === 0) {\n        dispatch(setGetTeacherError(json.errorMessage));\n        dispatch(setIsGettingTeacher(false));\n        return;\n      }\n      // success\n      dispatch(setTeacher(json.data.teacher));\n      dispatch(setIsGettingTeacher(false));\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const applyTeacher = ({name, description, avatarUrl}) => (dispatch) => {\n  dispatch(setIsGettingTeacher(true));\n  return applyTeacherAPI({name, description, avatarUrl})\n    .then((json) => {\n      return json;\n    })\n    .catch((err) => {\n      console.log('err: ', err);\n    });\n};\nexport const updateTeacherInfo = ({name, description, avatarUrl}) => (dispatch) => {\n  return updateTeacherInfoAPI({name, description, avatarUrl})\n  .then((json) => {\n    return json;\n  })\n  .catch((err) => {\n    console.log('err: ', err);\n  });\n};\n\n// selector\nexport const selectTeacherList = (store) => store.teacher.teacherList;\nexport const selectIsGettingTeacherList = (store) =>\n  store.teacher.isGettingTeacherList;\nexport const selectTeacher = (store) => store.teacher.teacher;\nexport const selectIsGettingTeacher = (store) => store.teacher.isGettingTeacher;\n\nexport default teacherSlice.reducer;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Avatar, Row, Col } from 'antd';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getTeacher,\n  selectTeacher,\n  selectIsGettingTeacher,\n} from '../../redux/reducers/teacherReducer';\nimport CourseCard from '../../components/CourseCard';\nimport Loading from '../../components/Loading';\n\nconst TeacherWrapper = styled.div`\n  padding: 16px;\n  max-width: 760px;\n  margin: 24px auto;\n  background: ${(props) => props.theme.colors.white};\n  color: ${(props) => props.theme.colors.primary.text};\n`;\nconst TeacherTitle = styled.div`\n  text-align: center;\n  font-size: 42px;\n  font-weight: bold;\n`;\n\nexport default function TeacherInfoPage() {\n  const dispatch = useDispatch();\n  const teacher = useSelector(selectTeacher);\n  const isGettingTeacher = useSelector(selectIsGettingTeacher);\n  const { id } = useParams();\n\n  // component mount 時執行(初始化)\n  useEffect(() => {\n    dispatch(getTeacher(id));\n    // unmount 時先 clean up 避免下次回來時因為仍有舊資料而短暫顯示\n    return () => {};\n  }, [dispatch, id]);\n\n  return (\n    <>\n      {isGettingTeacher && <Loading />}\n      {!isGettingTeacher && teacher && (\n        <TeacherWrapper>\n          <TeacherTitle>{teacher.name}</TeacherTitle>\n          <center>\n            <Avatar size={120} src={teacher.avatarUrl} />\n          </center>\n          <h1><strong>關於我</strong></h1>\n          <h3>{teacher.description}</h3>\n          <br/>\n          <h1><strong>{teacher.name} 開的課：</strong></h1>\n          <br/>\n          <Row gutter={[16, { xs: 8, sm: 16, md: 24, lg: 32 }]}>\n            {teacher.Courses.filter((course) => course.isPublic).map(\n              (course) => (\n                <Col key={course.id} xs={12} md={8}>\n                  <CourseCard course={course} />\n                </Col>\n              )\n            )}\n          </Row>\n        </TeacherWrapper>\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Breadcrumb } from 'antd';\nimport { useParams, Link, Switch, Route } from 'react-router-dom';\nimport Youtube from 'react-youtube';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loading from '../../components/Loading';\nimport {\n  selectUnit,\n  getUnitByUnitId,\n} from '../../redux/reducers/courseReducer';\n\nconst UnitTitle = styled.div`\n  font-weight: bold;\n  font-size: 34px;\n  padding: 12px 0;\n`;\nconst UnitDescription = styled.div`\n  font-size: 16px;\n  margin: 20px auto;\n`;\nconst UnitVideo = styled(Youtube)`\n  width: 100%;\n  height: 500px;\n  margin: 0 auto;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport default function UnitPage() {\n  const dispatch = useDispatch();\n  const unit = useSelector(selectUnit);\n  const { id, unitId } = useParams();\n\n  useEffect(() => {\n    dispatch(getUnitByUnitId(id, unitId));\n  }, [dispatch, id, unitId]);\n\n  const options = {\n    width: '80%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    playerVars: {\n      autoplay: 1,\n    },\n  };\n  const getYoutubeId = (url) => {\n    const urlParams = new URLSearchParams(new URL(url).search);\n    return urlParams.get('v');\n  };\n  return (\n    <>\n      {unit ? (\n        <>\n          <Breadcrumb>\n          <Breadcrumb.Item>\n                <Link to={`/classroom/${unit.courseId}`}>{unit.courseTitle}</Link>\n              </Breadcrumb.Item>\n            <Breadcrumb.Item>{unit.title}</Breadcrumb.Item>\n          </Breadcrumb>\n          <UnitTitle>{unit.title}</UnitTitle>\n          <UnitDescription>{unit.description}</UnitDescription>\n          {unit.videoUrl && (\n            <UnitVideo videoId={getYoutubeId(unit.videoUrl)} opt={options} />\n          )}\n        </>\n      ) : (\n      <Loading />\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Layout, Menu, Typography } from 'antd';\nimport { useHistory, useParams, Switch, Route } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loading from '../../components/Loading';\nimport {\n  getDetailCourse,\n  selectDetailCourse,\n} from '../../redux/reducers/courseReducer';\nimport { PlayCircleOutlined } from '@ant-design/icons';\nimport UnitPage from './UnitPage.js';\n\nconst { Content, Sider } = Layout;\nconst { Title } = Typography;\nconst FixedLayout = styled(Layout)`\n  height: 100%;\n`;\nconst ScrollSider = styled(Sider)`\n  overflow: auto;\n  min-width: 200px !important;\n  background-color: ${(prop) => prop.theme.colors.white};\n  height: 100%;\n`;\nconst StyledImg = styled.img`\n  width: 100%;\n`;\nconst CourseTitle = styled.div`\n  margin: 16px;\n  font-weight: bold;\n  font-size: 24px;\n  text-align: center;\n  line-height: 2rem;\n`;\nconst ContentWrapper = styled(Content)`\n  padding: 24px;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n`;\n\nexport default function ClassroomPage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const detailCourse = useSelector(selectDetailCourse);\n  const { id } = useParams();\n\n  useEffect(() => {\n    dispatch(getDetailCourse(id));\n  }, [dispatch, id]);\n\n  const handleClickUnit = (e) => {\n    return history.push(`/classroom/${id}/unit/${e.key}`);\n  };\n\n  return (\n    <>\n      {detailCourse ? (\n        <FixedLayout>\n          <ScrollSider>\n            <Menu\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              defaultOpenKeys={['sub1']}\n            >\n              <StyledImg alt=\"課程圖片\" src={detailCourse.imgUrl} />\n              <CourseTitle>{detailCourse.title}</CourseTitle>\n              {detailCourse.unit_list.map((unit) => (\n                <Menu.Item\n                  key={unit.id}\n                  icon={<PlayCircleOutlined style={{ fontSize: 20 }} />}\n                  onClick={handleClickUnit}\n                >\n                  {unit.title}\n                </Menu.Item>\n              ))}\n            </Menu>\n          </ScrollSider>\n          <ContentWrapper>\n            <Switch>\n              <Route exact path={`/classroom/:id`}>\n                <center>\n                  <Title>歡迎來到課程：{detailCourse.title}</Title>\n                  <Title level={3}>請點擊左方播放清單開始上課</Title>\n                </center>\n              </Route>\n              <Route exact path={`/classroom/:id/unit/:unitId`}>\n                <UnitPage />\n              </Route>\n            </Switch>\n          </ContentWrapper>\n        </FixedLayout>\n      ) : (\n        <Loading />\n      )}\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Form, Input, Button } from 'antd';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { applyTeacher } from '../../redux/reducers/teacherReducer';\nimport { getMe } from '../../redux/reducers/userReducer';\nimport ImgCrop from 'antd-img-crop';\n\nconst RegisterPageWrapper = styled.div`\n  padding: 10px;\n`;\nconst RegisterBox = styled.div`\n  padding: 10px;\n  margin: 10px auto;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.primary.main};\n  border-radius: 8px;\n  max-width: 750px;\n  text-align: center;\n`;\nconst FormTitle = styled.div`\n  font-size: 32px;\n  padding-bottom: 18px;\n`;\nconst FormItem = styled(Form.Item)`\n  .ant-form-item {\n    text-align: left;\n    &-extra {\n      text-align: left;\n      padding-left: 3px;\n    }\n    &-explain-error {\n      text-align: left;\n      padding-left: 3px;\n    }\n  }\n`;\nconst StyledForm = styled(Form)`\n  margin: 10px auto;\n`;\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    span: 24,\n  },\n};\nconst validateMessages = {\n  required: '此為必填項目',\n  types: {\n    email: '請輸入正確信箱格式',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function TeacherApplyPage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [form] = Form.useForm();\n\n  const handleChange = (info) => {\n    //console.log('info', info.file.status);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      //console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      //console.log('returnUrl', returnUrl)\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n      return\n    }\n    if (info.file.status === 'error') {\n      //console.log('error');\n      message.error({\n        content: '圖片上傳失敗',\n        key: 'isUploading',\n      });\n    }\n  };\n\n  const handleOnFinish = (value) => {\n    //console.log(value);\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    dispatch(\n      applyTeacher({\n        name: value.name,\n        description: value.description,\n        avatarUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('申請老師成功');\n        dispatch(getMe());\n        return history.push('/');\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  return (\n    <RegisterPageWrapper>\n      <RegisterBox>\n        <FormTitle>申請開課</FormTitle>\n        <StyledForm\n          {...layout}\n          form={form}\n          onFinish={handleOnFinish}\n          validateMessages={validateMessages}\n        >\n          <FormItem\n            label=\"老師姓名\"\n            name=\"name\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input placeholder=\"請輸入老師姓名\" />\n          </FormItem>\n          <Form.Item\n            label=\"老師介紹\"\n            name=\"description\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input.TextArea\n              rows={8}\n              style={{ resize: 'none' }}\n              placeholder=\"請輸入介紹文字\"\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳大頭照\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate shape=\"round\">\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  'Authorization': 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                  'Cache-Control': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img\n                    src={imageUrl}\n                    alt=\"avatar\"\n                    style={{ width: '100%', borderRadius: '50%' }}\n                  />\n                ) : (\n                  <>\n                    {isUploading ? <LoadingOutlined /> : <PlusOutlined />}\n                  </>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <br />\n          <FormItem {...tailLayout}>\n            <Button htmlType=\"submit\" size=\"large\" type=\"primary\">\n              送出申請\n            </Button>\n          </FormItem>\n        </StyledForm>\n      </RegisterBox>\n    </RegisterPageWrapper>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Space, Table } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getMyTeachCourseList,\n  selectMyTeachCourseList,\n  selectIsGettingCourse,\n} from '../../../redux/reducers/courseReducer';\nimport Loading from '../../../components/Loading';\nimport { toCurrency } from '../../../utils';\n// import { dummyData as data } from \"./dummyData\";\n\nexport const columns = [\n  {\n    title: 'Id',\n    dataIndex: 'id',\n    key: 'id',\n  },\n  {\n    title: '課程名稱',\n    dataIndex: 'title',\n    key: 'title',\n    render: (text, record) => (\n      <Link to={`/courses/${record.id}`}>{text}</Link>\n    ),\n  },\n  {\n    title: '目前售價',\n    dataIndex: 'price',\n    key: 'price',\n  },\n  {\n    title: '是否公開',\n    dataIndex: 'isPublic',\n    key: 'isPublic',\n  },\n  {\n    title: '更新於',\n    dataIndex: 'updatedAt',\n    key: 'updatedAt',\n  },\n  {\n    title: 'Action',\n    key: 'action',\n    render: (text, record) => (\n      <Space size=\"middle\">\n        <Link to={`/teacher/courses/${record.id}`}>編輯</Link>\n        <Link to={`/classroom/${record.id}`}>預覽上課頁</Link>\n      </Space>\n    ),\n  },\n];\n\nexport default function MyTeachCourseTable() {\n  const dispatch = useDispatch();\n  const courses = useSelector(selectMyTeachCourseList);\n  const isGettingCourseList = useSelector(selectIsGettingCourse);\n  useEffect(() => {\n    dispatch(getMyTeachCourseList());\n  }, [dispatch]);\n  //console.log(courses);\n\n  return (\n    <>\n      {isGettingCourseList && <Loading />}\n      {!isGettingCourseList && (\n        <>\n          {courses ? (\n            <Table\n              columns={columns}\n              dataSource={\n                courses &&\n                courses.map((item) => ({\n                  ...item,\n                  key: item.id,\n                  price: toCurrency(item.price),\n                  isPublic: item.isPublic ? '是' : '否',\n                  updatedAt: item.updatedAt.slice(0, 10),\n                }))\n              }\n            />\n          ) : (\n            <center>\n              <strong>目前還沒開設任何課程</strong>\n            </center>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Breadcrumb, Button } from \"antd\";\nimport MyTeachCourseTable from \"./MyTeachCourseTable\";\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n`;\n\nexport default function MyTeachCoursePage() {\n  return (\n    <PageWrapper>\n      <InfoHeader>\n        <Breadcrumb>\n          <Breadcrumb.Item>課程列表</Breadcrumb.Item>\n        </Breadcrumb>\n        <Button type=\"primary\">\n          <Link to=\"/teacher/courses/new\">新增課程</Link>\n        </Button>\n      </InfoHeader>\n        <MyTeachCourseTable />\n    </PageWrapper>\n  );\n}\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { addCourse } from '../../../redux/reducers/courseReducer';\nimport styled from 'styled-components';\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Layout,\n  Select,\n  Breadcrumb,\n  Button,\n  Upload,\n  message,\n} from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport ImgCrop from 'antd-img-crop';\n\n\nconst { Content } = Layout;\nconst { Option } = Select;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n  text-align: center;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst FormContainer = styled(Content)`\n  margin: 0px 30px;\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    range: '${label}需介於於 ${min}~${max}',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function NewCoursePage() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n\n  const handleOnFinish = (value) => {\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    dispatch(\n      addCourse({\n        title: value.title,\n        price: value.price,\n        description: value.description,\n        imgUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('新增課程成功');\n        //dispatch(getMe());\n        return history.push('/teacher/courses');\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  const handleChange = (info) => {\n    //console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      //console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n      return;\n    }\n    if (info.file.status === 'error') {\n      //console.log('error');\n      message.error({\n        content: '圖片上傳失敗',\n        key: 'isUploading',\n      });\n    }\n  };\n\n  return (\n    <PageWrapper>\n      <InfoHeader>\n        <Breadcrumb style={{ margin: '16px 0' }}>\n          <Breadcrumb.Item>\n            <Link to=\"/teacher/courses\">課程列表</Link>\n          </Breadcrumb.Item>\n          <Breadcrumb.Item>新增課程</Breadcrumb.Item>\n        </Breadcrumb>\n      </InfoHeader>\n      <FormContainer>\n        <Form\n          {...layout}\n          form={form}\n          validateMessages={validateMessages}\n          initialValues={{ isPublic: '非公開' }}\n          onFinish={handleOnFinish}\n        >\n          <Form.Item name=\"isPublic\" label=\"課程狀態\">\n            <Select disabled>\n              <Option value=\"非公開\">非公開</Option>\n            </Select>\n          </Form.Item>\n          <Form.Item name=\"title\" label=\"課程名稱\" rules={[{ required: true }]}>\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name=\"price\"\n            label=\"課程金額\"\n            rules={[{ required: true, type: 'number', min: 0, max: 9999 }]}\n            extra=\"單位：新台幣, 限制 0~9999\"\n          >\n            <InputNumber\n              formatter={(value) =>\n                `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n              }\n              parser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\n            />\n          </Form.Item>\n          <Form.Item\n            name=\"description\"\n            label=\"課程敘述\"\n            rules={[{ required: true }]}\n          >\n            <Input.TextArea rows={4} style={{ resize: 'none' }} />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳課程封面圖\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate grid aspect={4/3} modalTitle={'上傳圖片'}>\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                className=\"upload-course\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\n                ) : (\n                  <>\n                    {isUploading ? (\n                      <LoadingOutlined style={{ fontSize: '30px', padding: '60px' }} />\n                    ) : (\n                      <PlusOutlined style={{ fontSize: '30px', padding: '60px' }} />\n                    )}\n                  </>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <center>\n            <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n              新增課程\n            </Button>\n          </center>\n        </Form>\n      </FormContainer>\n    </PageWrapper>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Form, Input, Button, Upload, message } from 'antd';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectUser, getMe } from '../../../redux/reducers/userReducer';\nimport { updateTeacherInfo } from '../../../redux/reducers/teacherReducer';\nimport ImgCrop from 'antd-img-crop';\n\nconst PageWrapper = styled.div`\n  font-size: 20px;\n  text-align: center;\n  padding: 24px;\n`;\n\nconst Info = styled.div`\n  font-size: 16px;\n  text-align: center;\n`;\nconst FormContainer = styled.div`\n  margin-top: 12px;\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nexport default function TeacherSetting() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageUrl, setImageUrl] = useState(null);\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    form.setFieldsValue({\n      name: user.Teacher.name,\n      description: user.Teacher.description,\n      upload: user.Teacher.avatarUrl,\n    });\n    setImageUrl(user.Teacher.avatarUrl);\n  }, [form, user]);\n\n  const handleChange = (info) => {\n    //console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      //console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n    }\n    if (info.file.status === 'error') {\n      //console.log('error');\n      message.error({\n        content: '圖片上傳失敗',\n        key: 'isUploading',\n      });\n    }\n  };\n\n  const handleOnFinish = (value) => {\n    //console.log(value);\n    if (!value.upload) {\n      return message.error('圖片上傳失敗，請稍後再試');\n    }\n    // 重複判定\n    if (\n      value.name === user.Teacher.name &&\n      value.description === user.Teacher.description &&\n      value.upload === user.Teacher.avatarUrl\n    ) {\n      return message.warning('資料無異動');\n    }\n    dispatch(\n      updateTeacherInfo({\n        name: value.name,\n        description: value.description,\n        avatarUrl: value.upload,\n      })\n    ).then((res) => {\n      if (res.ok === 1) {\n        message.success('資料更新成功');\n        return dispatch(getMe());\n      }\n      return message.error(res.errorMessage);\n    });\n  };\n\n  return (\n    <PageWrapper>\n      <Info>申請時間：{new Date(user.Teacher.createdAt).toLocaleString()}</Info>\n      <Info>更新時間：{new Date(user.Teacher.updatedAt).toLocaleString()}</Info>\n      <FormContainer>\n        <Form {...layout} form={form} onFinish={handleOnFinish}>\n          <Form.Item\n            name=\"name\"\n            label=\"老師名稱\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n          <Form.Item\n            name=\"description\"\n            label=\"老師介紹\"\n            rules={[{ required: true }]}\n          >\n            <Input.TextArea rows={3} style={{ resize: 'none' }} />\n          </Form.Item>\n          <Form.Item\n            name=\"upload\"\n            label=\"上傳大頭照\"\n            //valuePropName=\"fileList\"\n            extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <ImgCrop rotate shape=\"round\">\n              <Upload\n                name=\"image\"\n                listType=\"picture-card\"\n                showUploadList={false}\n                action=\"https://api.imgur.com/3/image\"\n                headers={{\n                  Authorization: 'Client-ID ef0e0fd605be920',\n                  'X-Requested-With': null,\n                }}\n                beforeUpload={beforeUpload}\n                onChange={handleChange}\n              >\n                {imageUrl ? (\n                  <img\n                    src={imageUrl}\n                    alt=\"avatar\"\n                    style={{ width: '100%', borderRadius: '50%' }}\n                  />\n                ) : (\n                  <>{isUploading ? <LoadingOutlined /> : <PlusOutlined />}</>\n                )}\n              </Upload>\n            </ImgCrop>\n          </Form.Item>\n          <center>\n            <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n              確認更新\n            </Button>\n          </center>\n        </Form>\n      </FormContainer>\n    </PageWrapper>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport { Button, List, Typography, Space, Tooltip } from \"antd\";\nimport {\n  MenuOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  PlusOutlined,\n} from \"@ant-design/icons\";\n\nconst ListContainer = styled.div`\n\n`;\n\nconst ListContent = styled(List.Item)`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ListFooter = styled(List.Item)`\n  background-color: ${(props) => props.theme.colors.secondary.light};\n`;\n\nconst UnitText = styled.span`\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nfunction Unit({\n  unit,\n  dragHandleProps,\n  handleClickEditUnitButton,\n  handleDeleteUnit,\n}) {\n  return (\n    <ListContent>\n      <Space align=\"center\" size={10}>\n        <Tooltip title=\"拖拉\">\n          <MenuOutlined style={{ color: \"#999\" }} {...dragHandleProps} />\n        </Tooltip>\n        <UnitText>{unit.title}</UnitText>\n      </Space>\n      <Space>\n        <Tooltip title=\"編輯\">\n          <Button\n            icon={<EditOutlined />}\n            onClick={() => handleClickEditUnitButton(unit.id)}\n          ></Button>\n        </Tooltip>\n        <Tooltip title=\"刪除\">\n          <Button\n            icon={<DeleteOutlined />}\n            onClick={() => handleDeleteUnit(unit.id)}\n          />\n        </Tooltip>\n      </Space>\n    </ListContent>\n  );\n}\n\nexport default function CourseUnitsList({\n  unitList,\n  placeholder,\n  handleAddUnit,\n  handleDeleteUnit,\n  handleClickEditUnitButton,\n}) {\n  return (\n    <ListContainer>\n      <List size=\"large\" bordered>\n        {unitList.map((unit, index) => (\n          <Draggable key={unit.id} draggableId={`id: ${unit.id}`} index={index}>\n            {(provided) => (\n              <div ref={provided.innerRef} {...provided.draggableProps}>\n                <Unit\n                  unit={unit}\n                  dragHandleProps={provided.dragHandleProps}\n                  handleDeleteUnit={handleDeleteUnit}\n                  handleClickEditUnitButton={handleClickEditUnitButton}\n                />\n              </div>\n            )}\n          </Draggable>\n        ))}\n        {placeholder}\n        <ListFooter>\n          <Space\n            align=\"center\"\n            size={10}\n            style={{ cursor: \"pointer\" }}\n            onClick={handleAddUnit}\n          >\n            <PlusOutlined />\n            <UnitText>新增課程</UnitText>\n          </Space>\n        </ListFooter>\n      </List>\n    </ListContainer>\n  );\n}\n","import React, {\n  useEffect,\n  useState,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport {\n  Form,\n  Input,\n  InputNumber,\n  Select,\n  Upload,\n  message,\n} from 'antd';\nimport ImgCrop from 'antd-img-crop';\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 12 },\n};\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    range: '${label}需介於於 ${min}~${max}',\n  },\n};\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  if (isJpgOrPng && isLt2M) {\n    message.loading({\n      content: '圖片上傳中...',\n      key: 'isUploading',\n      duration: 0,\n    });\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nfunction CourseSettingForm({ course }, ref) {\n  const [form] = Form.useForm();\n  const [imageUrl, setImageUrl] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleChange = (info) => {\n    //console.log('info', info);\n    if (info.file.status === 'uploading') {\n      setIsUploading(true);\n      return;\n    }\n    if (info.file.status === 'done') {\n      //console.log('done');\n      message.success({\n        content: '圖片上傳完成',\n        key: 'isUploading',\n        duration: 2,\n      });\n      // Get this url from response in real world.\n      const returnUrl = info.file.response.data.link;\n      setImageUrl(returnUrl);\n      form.setFieldsValue({\n        upload: returnUrl,\n      });\n    }\n    if (info.file.status === 'error') {\n      //console.log('error');\n      message.error({\n        content: '圖片上傳失敗',\n        key: 'isUploading',\n      });\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    getFieldsValue: () => {\n      return form.validateFields();\n    },\n  }));\n  useEffect(() => {\n    form.setFieldsValue({\n      isPublic: course.isPublic ? '公開' : '非公開',\n      title: course.title,\n      price: course.price,\n      description: course.description,\n      upload: course.imgUrl,\n    });\n    setImageUrl(course.imgUrl);\n  }, [form, course]);\n  return (\n    <Form form={form} {...layout} validateMessages={validateMessages}>\n      <center>建立時間：{new Date(course.createdAt).toLocaleString()}</center>\n      <center>最後更新：{new Date(course.updatedAt).toLocaleString()}</center>\n      <br />\n      <Form.Item name=\"isPublic\" label=\"課程狀態\" rules={[{ required: true }]}>\n        <Select>\n          <Option value=\"公開\">公開</Option>\n          <Option value=\"非公開\">非公開</Option>\n        </Select>\n      </Form.Item>\n      <Form.Item name=\"title\" label=\"課程名稱\" rules={[{ required: true }]}>\n        <Input />\n      </Form.Item>\n      <Form.Item\n        name=\"price\"\n        label=\"課程金額\"\n        rules={[{ required: true, type: 'number', min: 0, max: 9999 }]}\n        extra=\"單位：新台幣, 限制 0~9999\"\n      >\n        <InputNumber\n          formatter={(value) =>\n            `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n          }\n          parser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\n        />\n      </Form.Item>\n      <Form.Item\n        name=\"description\"\n        label=\"課程敘述\"\n        rules={[{ required: true }]}\n      >\n        <Input.TextArea rows={4} style={{ resize: 'none' }} />\n      </Form.Item>\n      <Form.Item\n        name=\"upload\"\n        label=\"Upload\"\n        //valuePropName=\"fileList\"\n        extra=\"限制格式：JPG/PNG，大小 2 MB 以內\"\n        rules={[\n          {\n            required: true,\n          },\n        ]}\n      >\n        <ImgCrop rotate grid aspect={4/3} modalTitle={'上傳圖片'}>\n          <Upload\n            name=\"image\"\n            listType=\"picture-card\"\n            className=\"upload-course\"\n            showUploadList={false}\n            action=\"https://api.imgur.com/3/image\"\n            headers={{\n              Authorization: 'Client-ID ef0e0fd605be920',\n              'X-Requested-With': null,\n            }}\n            beforeUpload={beforeUpload}\n            onChange={handleChange}\n          >\n            {imageUrl ? (\n              <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} />\n            ) : (\n              <div>\n                {isUploading ? <LoadingOutlined /> : <PlusOutlined />}\n                <div style={{ marginTop: 8 }}>上傳大頭照</div>\n              </div>\n            )}\n          </Upload>\n        </ImgCrop>\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default forwardRef(CourseSettingForm);\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectIsGettingCourse,\n  getDetailCourse,\n  setDetailCourse,\n  updateCourse,\n  selectDetailCourse,\n} from '../../../redux/reducers/courseReducer';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport styled from 'styled-components';\nimport { Layout, Breadcrumb, Button, message } from 'antd';\nimport CourseUnitsList from '../../../components/CourseUnitsList';\nimport CourseSettingForm from '../../../components/CourseSettingForm';\nimport Loading from '../../../components/Loading';\nconst { Content } = Layout;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n  text-align: center;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst CourseContent = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\nconst ButtonWrapper = styled.div`\n  margin: 18px auto;\n  text-align: center;\n`;\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\nexport default function UpdateCoursePage() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const history = useHistory();\n  const course = useSelector(selectDetailCourse);\n  //console.log('course detail', course);\n  const ChildRef = useRef();\n\n  useEffect(() => {\n    dispatch(getDetailCourse(id));\n    return () => {\n      dispatch(setDetailCourse(null));\n    };\n  }, [dispatch, id]);\n\n  function handleOnDragEnd(result) {\n    // 無動作或是目的地=原本位置 > 返回\n    if (!result || result.destination.index === result.source.index) return;\n    const reorderedUnitList = reorder(\n      course.unit_list,\n      result.source.index,\n      result.destination.index\n    );\n    dispatch(setDetailCourse({ ...course, unit_list: reorderedUnitList }));\n  }\n\n  const handleAddUnit = () => {\n    const oldUnitList = course.unit_list;\n    const lastUnitId =\n      oldUnitList.length > 0\n        ? Number(oldUnitList[oldUnitList.length - 1].id)\n        : 0;\n    const unitId = lastUnitId + 1;\n    const unit = { id: unitId, title: '新課程' };\n    // 更新當前資料\n    dispatch(\n      setDetailCourse({ ...course, unit_list: [...course.unit_list, unit] })\n    );\n  };\n\n  const handleDeleteUnit = (id) => {\n    const newUnitList = course.unit_list.filter((item) => item.id !== id);\n    // 更新當前資料\n    dispatch(setDetailCourse({ ...course, unit_list: newUnitList }));\n  };\n\n  const getFormValue = async () => {\n    const value = await ChildRef.current\n      .getFieldsValue()\n      .then((values) => values)\n      .catch((error) => console.log(error));\n    if (!value) return;\n    value.isPublic = value.isPublic === '公開' ? true : false;\n    value.unit_list = course.unit_list;\n    value.imgUrl = value.upload;\n    //console.log('getFormValue', value);\n    return value;\n  };\n\n  const handleClickSave = async () => {\n    const value = await getFormValue();\n    // 沒變化時就不 call API\n    if (!value) return;\n    // courseId\n    dispatch(updateCourse(id, value)).then((json) => {\n      // 把頁面導向單元編輯頁\n      if (json.ok === 1) {\n        message.success('更新課程成功', 5)\n        return history.push(`/teacher/courses/`);\n      }\n      return message.error(json.errorMessage, 5)\n    });\n  };\n\n  const handleClickEditUnitButton = async (unitId) => {\n    const value = await getFormValue();\n    if (!value) return;\n    // courseId\n    dispatch(updateCourse(id, value)).then((json) => {\n      // 把頁面導向單元編輯頁\n      if (json.ok === 1) {\n        message.success('更新課程成功', 5)\n        return history.push(`/teacher/courses/${id}/unit/${unitId}`);\n      }\n      return message.error(json.errorMessage, 5)\n    });\n  };\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && course && (\n        <PageWrapper>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/teacher/courses\">課程列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>課程\b管理({course.title})</Breadcrumb.Item>\n            </Breadcrumb>\n          </InfoHeader>\n          <CourseContent>\n            {/* 課程資訊 */}\n            <CourseSettingForm ref={ChildRef} course={course} />\n            {/* dnd */}\n            <DragDropContext onDragEnd={handleOnDragEnd}>\n              <Droppable droppableId=\"courseContent\">\n                {(provided) => (\n                  <div ref={provided.innerRef} {...provided.droppableProps}>\n                    <CourseUnitsList\n                      unitList={course.unit_list}\n                      placeholder={provided.placeholder}\n                      handleAddUnit={handleAddUnit}\n                      handleDeleteUnit={handleDeleteUnit}\n                      handleClickEditUnitButton={handleClickEditUnitButton}\n                    />\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n          </CourseContent>\n          <ButtonWrapper>\n            <Button type=\"primary\" size=\"large\" onClick={handleClickSave}>\n              儲存變更\n            </Button>\n          </ButtonWrapper>\n        </PageWrapper>\n      )}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectIsGettingCourse,\n  getUnitByUnitId,\n  selectUnit,\n  updateUnitByUnitId,\n} from '../../../redux/reducers/courseReducer';\nimport styled from 'styled-components';\nimport { Layout, Breadcrumb, Button, Form, Input, message } from 'antd';\nimport Loading from '../../../components/Loading';\nconst { Content } = Layout;\n\nconst PageWrapper = styled.div`\n  padding: 24px;\n`;\nconst InfoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst FormContainer = styled(Content)`\n  padding: 24px;\n  background-color: ${(props) => props.theme.colors.white};\n`;\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 14 },\n};\n\nconst validateMessages = {\n  required: '${label}必填',\n  types: {\n    number: '${label}格式錯誤',\n  },\n  number: {\n    min: '${label}不可小於 ${min}',\n  },\n};\n\nexport default function EditUnitPage() {\n  const { id, unitId } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const unit = useSelector(selectUnit);\n  const isGettingCourse = useSelector(selectIsGettingCourse);\n  const [form] = Form.useForm();\n  //console.log('original unit', unit);\n  //console.log('isGettingCourse', isGettingCourse)\n\n  useEffect(() => {\n    //console.log('useEffect');\n    dispatch(getUnitByUnitId(id, unitId));\n  }, [dispatch, id, unitId]);\n\n  if (unit) {\n    form.setFieldsValue({\n      title: unit.title,\n      description: unit.description || '',\n      videoUrl: unit.videoUrl || '',\n    });\n  }\n  \n  const onFinish = (values) => {\n    dispatch(updateUnitByUnitId(id, unitId, values)).then((json) => {\n      if (json.ok === 1) {\n        message.success('單元更新成功', 5);\n        return history.push(`/teacher/courses/${id}`); // 把頁面導向單元列表\n      }\n      return message.error(json.errorMessage, 5);\n    });\n    //\n  };\n\n  return (\n    <>\n      {isGettingCourse && <Loading />}\n      {!isGettingCourse && unit && (\n        <PageWrapper>\n          <InfoHeader>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>\n                <Link to=\"/teacher/courses\">課程列表</Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>\n                <Link to={`/teacher/courses/${id}`}>\n                  課程\b管理({unit.courseTitle})\n                </Link>\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>編輯單元(id:{unit.id})</Breadcrumb.Item>\n            </Breadcrumb>\n          </InfoHeader>\n          <FormContainer>\n            <Form\n              {...layout}\n              form={form}\n              onFinish={onFinish}\n              validateMessages={validateMessages}\n            >\n              <Form.Item\n                name=\"title\"\n                label=\"單元名稱\"\n                rules={[{ required: true }]}\n              >\n                <Input />\n              </Form.Item>\n              <Form.Item name=\"description\" label=\"單元敘述\">\n                <Input.TextArea rows={8} style={{ resize: 'none' }} />\n              </Form.Item>\n              <Form.Item name=\"videoUrl\" label=\"影片連結\">\n                <Input placeholder=\"請輸入 Youtube 連結\" />\n              </Form.Item>\n              <center>\n                <Button type=\"primary\" size=\"large\" htmlType=\"submit\">\n                  儲存\n                </Button>\n              </center>\n            </Form>\n          </FormContainer>\n        </PageWrapper>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport MyTeachCoursePage from \"../pages/TeacherPage/MyTeachCoursePage\";\nimport NewCourseForm from '../pages/TeacherPage/NewCourseForm'\nimport TeacherSetting from '../pages/TeacherPage/TeacherSettingForm'\nimport UpdateCourseForm from '../pages/TeacherPage/UpdateCourseForm'\nimport EditUnitForm from '../pages/TeacherPage/EditUnitForm'\n\nexport default function MeRoutes() {\n  return (\n    <Switch>\n      <Route exact path={`/teacher`}>\n        <div></div>\n      </Route>\n      <Route path={`/teacher/info`}>\n        <TeacherSetting/>\n      </Route>\n      <Route exact path={`/teacher/courses`}>\n        <MyTeachCoursePage />\n      </Route>\n      <Route exact path={`/teacher/courses/new`}>\n        <NewCourseForm />\n      </Route>\n      <Route exact path=\"/teacher/courses/:id\">\n        <UpdateCourseForm />\n      </Route>\n      <Route exact path=\"/teacher/courses/:id/unit/:unitId\">\n        <EditUnitForm />\n      </Route>\n    </Switch>\n  );\n}\n","import React, { useEffect } from 'react';\nimport TeacherRoutes from '../../routes/TeacherRoutes';\nimport styled from 'styled-components';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { UserOutlined, ReadOutlined } from '@ant-design/icons';\nimport { selectUser } from '../../redux/reducers/userReducer';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst { Sider } = Layout;\nconst FixedSider = styled(Sider)`\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n`;\nconst StyledMenu = styled(Menu)`\n  height: 100%;\n`;\nconst StyledMenuItem = styled(Menu.Item)`\n  font-size: 20px;\n`;\nconst AvatarWrapper = styled.div`\n  padding: 20px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst StyledImg = styled.img`\n  height: 130px;\n  border-radius: 50%;\n`\n\nexport default function TeacherPage() {\n  const location = useLocation();\n  const history = useHistory();\n  const user = useSelector(selectUser);\n\n  useEffect(() => {\n    if (location.pathname === '/teacher') {\n      history.push('/teacher/info');\n    }\n  }, [history, location.pathname]);\n\n  return (\n    <Layout>\n      <FixedSider>\n        <StyledMenu\n          mode=\"inline\"\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n        >\n          <AvatarWrapper>\n            <StyledImg alt='avatar' src={user.Teacher.avatarUrl} />\n          </AvatarWrapper>\n          <StyledMenuItem\n            key=\"1\"\n            icon={<UserOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/teacher/info\">老師資料</Link>\n          </StyledMenuItem>\n          <StyledMenuItem\n            key=\"2\"\n            icon={<ReadOutlined style={{ fontSize: 20 }} />}\n          >\n            <Link to=\"/teacher/courses\">課程管理</Link>\n          </StyledMenuItem>\n        </StyledMenu>\n      </FixedSider>\n      <Layout style={{ marginLeft: '200px' }}>\n        <TeacherRoutes />\n      </Layout>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport { Switch, Route, Link, useParams } from 'react-router-dom';\n//  引入各分頁\nimport HomePage from '../pages/HomePage';\nimport LoginPage from '../pages/LoginPage';\nimport RegisterPage from '../pages/RegisterPage';\nimport MePage from '../pages/MePage';\nimport ConsolePage from '../pages/ConsolePage';\nimport CartListPage from '../pages/CartListPage';\nimport CheckoutPage from '../pages/CheckoutPage';\nimport CourseListPage from '../pages/CourseListPage';\nimport MyCoursePage from '../pages/MyCoursePage';\nimport CourseInfoPage from '../pages/CourseInfoPage';\nimport TeacherInfoPage from '../pages/TeacherInfoPage';\nimport ClassroomPage from '../pages/ClassroomPage';\n\nimport TeacherApplyPage from '../pages/TeacherApplyPage';\n\nimport TeacherPage from '../pages/TeacherPage';\n\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../redux/reducers/userReducer';\n\nconst padding = 36;\n\nconst NoLoggingMessage = () => (\n  <center>\n    <br />\n    <h1>請先註冊或登入</h1>\n    <h1>\n      <Link to=\"/register\">註冊</Link>\n      <br />\n      <Link to=\"/login\">登入</Link>\n    </h1>\n  </center>\n);\n\nconst UnauthorizedMessage = () => (\n  <center>\n    <br />\n    <h1>您未授權訪問此頁面</h1>\n  </center>\n);\n\nfunction Routes() {\n  const user = useSelector(selectUser);\n  //console.log('route user', user);\n  return (\n    <Switch>\n      {/* ------------- 任何身分 ------------- */}\n      {/* 首頁 */}\n      <Route exact path=\"/\">\n        <HomePage />\n      </Route>\n      {/* 註冊 */}\n      <Route exact path=\"/register\">\n        <RegisterPage />\n      </Route>\n      {/* 登入 */}\n      <Route exact path=\"/login\">\n        <LoginPage />\n      </Route>\n      {/* 課程列表 */}\n      <Route exact path=\"/courses\">\n        <CourseListPage padding={padding} />\n      </Route>\n      {/* 單一課程介紹 */}\n      <Route exact path=\"/courses/:id\">\n        <CourseInfoPage />\n      </Route>\n      {/* 老師介紹 */}\n      <Route exact path=\"/teacher-info/:id\">\n        <TeacherInfoPage padding={padding} />\n      </Route>\n\n      {/* ------------- 一般會員 ------------- */}\n      {/* 購物車 */}\n      <Route exact path=\"/cart\">\n        {user ? <CartListPage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 結帳 */}\n      <Route exact path=\"/checkout/:id?\">\n        {user ? <CheckoutPage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 我的課程 */}\n      <Route exact path=\"/my-course\">\n        {user ? <MyCoursePage padding={padding} /> : <NoLoggingMessage />}\n      </Route>\n      {/* 上課頁面  底下還有子路由時不可設 exact */}\n      <Route path=\"/classroom/:id/\">\n        {user ? <ClassroomPage /> : <NoLoggingMessage />}\n      </Route>\n      {/* 我的帳號 底下還有子路由時不可設 exact */}\n      <Route path=\"/me\">{user ? <MePage /> : <NoLoggingMessage />}</Route>\n\n      {/* 註冊老師 */}\n      <Route path=\"/teacher-apply\">\n        {user ? (\n          user.authTypeId === 1 ? (\n            <TeacherApplyPage />\n          ) : (\n            <UnauthorizedMessage />\n          )\n        ) : (\n          <NoLoggingMessage />\n        )}\n      </Route>\n\n      {/* ------------- 老師 ------------- */}\n      <Route path=\"/teacher\">\n        {user && user.authTypeId === 2 ? <TeacherPage /> : <NoLoggingMessage />}\n      </Route>\n\n      {/* ------------- 管理員 ------------- */}\n      {/* 管理後台 */}\n      <Route path=\"/console\">\n        {user &&\n          (user && user.authTypeId === 3 ? (\n            <ConsolePage />\n          ) : (\n            <UnauthorizedMessage />\n          ))}\n      </Route>\n\n      {/* 其餘網址一律導至首頁 */}\n      <Route path=\"/\">\n        <CourseListPage padding={padding} />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Routes;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Layout } from \"antd\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Routes from \"./routes/Routes\";\nimport { useDispatch } from \"react-redux\";\nimport { getMe } from \"./redux/reducers/userReducer\";\n\nconst { Content } = Layout;\nconst AntLayout = styled(Layout)`\n  min-height: 100vh;\n  height: ${(props) => props.$fixedsider && `100vh`};\n`;\n\nconst consolePage = [\"console\", \"me\", \"classroom\", \"teacher/\"];\nconst fixedSiderPage = [\"classroom\"];\n\nfunction App() {\n  //console.log(\"render app\");\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n  //console.log(pathname);\n  const checkIsConsolePage = consolePage.some((el) => pathname.includes(el));\n  const checkIsFixedSiderPage = fixedSiderPage.some((el) =>\n    pathname.includes(el)\n  );\n\n  useEffect(() => {\n    dispatch(getMe());\n  }, [dispatch]);\n\n  return (\n    <AntLayout $fixedsider={checkIsFixedSiderPage}>\n      {/* optional header */}\n      <Header />\n      <Content>\n        {/* Routes */}\n        <Routes />\n      </Content>\n      {/* optional footer */}\n      {!checkIsConsolePage && <Footer />}\n    </AntLayout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport cartReducer from \"./reducers/cartReducer\";\r\nimport courseReducer from \"./reducers/courseReducer\";\r\nimport teacherReducer from \"./reducers/teacherReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport memberReducer from \"./reducers/memberReducer\";\r\nimport orderReducer from \"./reducers/orderReducer\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    cart: cartReducer,\r\n    order: orderReducer,\r\n    course: courseReducer,\r\n    teacher: teacherReducer,\r\n    user: userReducer,\r\n    member: memberReducer,\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ThemeProvider } from \"styled-components\";\nimport { theme } from \"./constants/theme\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <Router>\n          <App />\n        </Router>\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export const theme = {\n  colors: {\n    primary: {\n      main: \"#3483cd\",\n      light: \"#70b2ff\",\n      dark: \"#00579c\",\n      text: \"#000000\",\n    },\n    secondary: {\n      main: \"#f89f3c\",\n      light: \"#ffd06c85\",\n      dark: \"#c07000\",\n      text: \"#000000\",\n    },\n    white: \"#fff\",\n    grey: \"#d3d3d3c4\",\n  },\n};\n"],"sourceRoot":""}